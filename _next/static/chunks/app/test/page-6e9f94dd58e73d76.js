(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{3529:(e,d,r)=>{"use strict";r.r(d),r.d(d,{default:()=>n});var s=r(5155),i=r(2115),a=r(5472);let l=[{id:"col-1",cards:[{id:"card-1",label:"A♠"},{id:"card-2",label:"2♠"}]},{id:"col-2",cards:[{id:"card-3",label:"K♦"}]},{id:"col-3",cards:[]}];function n(){let[e,d]=(0,i.useState)(l),[r,n]=(0,i.useState)(null);return(0,s.jsxs)(a.Mp,{collisionDetection:a.fp,onDragEnd:s=>{n(null);let{active:i,over:a}=s;if(!a||!r)return;let l=e.find(e=>e.cards.some(e=>e.id===i.id)),t=e.find(e=>e.id===a.id);if(!l||!t||l.id===t.id)return;let c=l.cards.findIndex(e=>e.id===r.id),o=l.cards.slice(c),f=t.cards[t.cards.length-1];if(f&&u(r)>=u(f)){console.log("Invalid move: must be less than target card");return}let p=l.cards.slice(0,c),h=[...t.cards,...o];d(e=>e.map(e=>e.id===l.id?{...e,cards:p}:e.id===t.id?{...e,cards:h}:e))},children:[(0,s.jsx)("div",{className:"flex gap-4 p-4",children:e.map(e=>(0,s.jsx)(t,{column:e,setDraggedCard:n,draggedCard:r},e.id))}),(0,s.jsx)(a.Hd,{children:r&&(0,s.jsx)(o,{card:r,columns:e})})]})}function t(e){let{column:d,setDraggedCard:r,draggedCard:i}=e,{setNodeRef:l}=(0,a.zM)({id:d.id}),n=!!i&&d.cards.some(e=>e.id===i.id),t=i&&n?d.cards.findIndex(e=>e.id===i.id):-1;return(0,s.jsx)("div",{ref:l,className:"w-32 min-h-40 border border-gray-400 rounded p-2 bg-green-100 relative",children:d.cards.map((e,a)=>(n&&console.log("pip",a,t),i&&n&&a>=t)?null:(0,s.jsx)(c,{card:e,stack:n?d.cards.slice(a,t):d.cards.slice(a),setDraggedCard:r,style:{top:20*a}},e.id))})}function c(e){let{card:d,stack:r,setDraggedCard:i,style:l,isGhost:n,draggedIndex:t}=e,{attributes:c,listeners:o,setNodeRef:u,transform:f,isDragging:p}=(0,a.PM)({id:d.id}),h={transform:f?"translate3d(".concat(f.x,"px, ").concat(f.y,"px, 0)"):void 0,zIndex:p?1e3:void 0,pointerEvents:n?"none":void 0,...l};return(0,s.jsx)("div",{ref:u,...o,...c,style:h,className:"relative",onMouseDown:()=>{i(d)},children:r.map((e,d)=>t>-1&&t<=d?null:(0,s.jsx)("div",{className:"absolute top-0 left-0 w-24 h-10  border rounded shadow text-center",style:{top:20*d,backgroundColor:n?"pink":"white"},children:e.label},e.id))})}function o(e){let{card:d,columns:r}=e,i=r.find(e=>e.cards.some(e=>e.id===d.id));if(!i)return null;let a=i.cards.findIndex(e=>e.id===d.id),l=i.cards.slice(a);return(0,s.jsx)("div",{className:"relative w-24",children:l.map((e,d)=>(0,s.jsx)("div",{className:"absolute w-24 h-10 bg-white border rounded shadow text-center",style:{top:20*d},children:e.label},e.id))})}function u(e){let d=e.label.slice(0,-1);switch(d){case"A":return 1;case"J":return 11;case"Q":return 12;case"K":return 13;default:return parseInt(d,10)}}},6410:(e,d,r)=>{Promise.resolve().then(r.bind(r,3529))}},e=>{var d=d=>e(e.s=d);e.O(0,[472,441,684,358],()=>d(6410)),_N_E=e.O()}]);