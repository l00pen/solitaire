{"version":3,"sources":["Themes/units.js","Themes/index.js","Contexts/BreakpointProvider/index.js","Components/StyledComponents/ContentSection/index.js","Components/StyledComponents/Buttons/settings-solid.js","Components/StyledComponents/Buttons/index.js","Components/Dashboard/index.js","Components/StyledComponents/Grid/index.js","Contexts/PileProvider/index.js","Components/Pile/index.js","Components/Card/index.js","Components/PileStock/index.js","Components/PileFoundation/index.js","Components/PileTableau/index.js","Components/Games/Spider/index.js","Components/PileWaste/index.js","Components/Games/Klondike/index.js","Components/Games/Yukon/index.js","reducers/yatzy/selectors/index.js","Components/Games/Yatzy/ProtocolItem.js","Components/Games/Yatzy/index.js","Components/Games/Napoleon/index.js","Components/StyledComponents/Select/index.js","Components/App/index.js","reducers/undoable.js","utils/spades.js","utils/diamonds.js","utils/hearts.js","utils/clubs.js","utils/index.js","Components/Games/Klondike/reducer.js","reducers/spiderReducer.js","reducers/yukonReducer.js","reducers/yatzy/dices.js","reducers/yatzy/protocol.js","reducers/yatzy/highscore.js","reducers/yatzy/index.js","Components/Games/Napoleon/reducer.js","reducers/index.js","serviceWorker.js","index.js"],"names":["spacing","none","xxsmall","xsmall","small","medium","gutter","large","xlarge","xxlarge","theme","palette","common","black","pink","blue","papayawhip","white","primary","main","light","contrastText","shadows","typography","fontFamily","shape","borderRadius","breakpoints","xs","sm","md","l","or","defaultValue","BreakpointContext","createContext","BreakpointProvider","children","queries","defaultTofirstIndexQuery","Object","keys","reduce","acc","media","index","useState","queryMatch","setQueryMatch","useEffect","mediaQueryLists","isAttached","handleQueryListener","updatedMatches","matches","window","matchMedia","forEach","addListener","removeListener","Provider","value","useBreakpoint","context","useContext","Error","sectionTopDistance","css","props","Section","styled","section","ContentSection","SettingsIcon","version","id","x","y","viewBox","enableBackground","d","ButtonStylesWhenError","ButtonStylesWhenSuccessful","ButtonNormalized","button","Button","ButtonStyled","hover","primaryEnhancer","error","success","ButtonPrimaryAction","ButtonSecondaryAction","ButtonList","div","DashboardStyled","Dashboard","undo","redeal","onClick","disabled","Grid","columns","rows","GridItem","column","row","PileContext","React","PileWrapper","Pile","pile","parentRef","useRef","height","setHeight","width","setWidth","current","offsetHeight","offsetWidth","ref","CardFilling","color","CardFillingSmall","containerWidth","Value","SuiteSmall","SuiteLarge","CardOuter","CardContainer","Image","CardInner","CardInnerFaceDown","CardInnerEmpty","CardWrapper","CardFaceUp","suite","label","suiteSymbol","moreProps","idValue","match","Consumer","CardFaceDown","CardEmpty","CardDroppable","data","dropHandler","onDragOver","ev","preventDefault","onDrop","dataFromTransfer","dataTransfer","getData","JSON","parse","Children","map","child","cloneElement","CardDraggable","onDragStart","setData","stringify","setDragImage","currentTarget","stopPropagation","CardToggleFaceUp","isFaceUp","PileStock","reRunDeck","comp","length","card","PileFoundationDropppable","pileId","cardComponent","destinationPile","PileFoundation","SubPile","cardIndex","PileTableau","pileKey","lastCardInPile","lastCardInPileIndex","pileComponents","renderPile","list","rest","dragAndDropData","cardIndexInPile","sourcePile","cardList","draggable","connect","state","game","spider","present","foundationPilesKeys","tableauPilesKeys","dispatch","type","stockClickHandler","payload","tableauClickHandler","tableauDropHandler","onDropTableau","dropData","dragData","onClickTableau","clickData","hasWon","i","key","stock","PileWaste","clickAndDragData","SettingsButton","klondike","wasteClickHandler","foundationDropHandler","settingsOnChangeHandler","settings","gameConditions","onDropFoundation","isSettingsOpen","setIsSettingsOpen","onChangeSettings","event","target","checked","name","stockTakes","onChange","htmlFor","tableauEmptyAny","waste","yukon","Fragment","getProtocol","protocol","getCurrentRoundCombination","createSelector","dices","cb","getTotal","mem","total","getIsGameFinished","isUsed","ProtocolKey","ProtocolValue","ProtocolKeySelectable","hasBeenSelected","isChoosable","ProtocolValueSelectable","item","yatzyReducer","currentSum","selectable","sum","setProtocolItemSum","protocolItem","score","newScore","YatzyDashboard","DiceBoard","Dice","selected","RollDiceButton","Wrapper","Container","Protocol","yatzy","highScore","gameFinished","rollDices","toggleDice","newGameHandler","availableRolls","diceClickHandler","shouldReRoll","bind","dangerouslySetInnerHTML","__html","napoleon","Select","select","Option","option","GAMES","YUKON","KLONDIKE","SPIDER","YATZY","NAPOLEON","getSelectedGameComponent","GlobalStyle","createGlobalStyle","Game","Row","GameSection","AppSelect","selectedGame","setSelectedGame","selectedGameComponent","e","values","undoable","reducer","initialState","past","undefined","future","action","previous","newPast","slice","next","newFuture","newPresent","spades","diamonds","hearts","clubs","shuffleArray","array","temporaryValue","randomIndex","currentIndex","Math","floor","random","setLastIsFaceUp","cards","reverse","last","allCards","setFaceIsUp","moveToPile","concat","moveFromPile","cardSourceIndex","p1","moved","grabCardsToBeMoved","remain","moveCardsBetweenPilesInState","cardIndexAtSource","sourcePileKey","destPileKey","newDestination","cardDropHandler","allowDropHandler","dropConditions","getLastCardInPile","createArrayWithKeys","keyName","nr","Array","fill","createEmptyPiles","piles","getCardsFromDeck","deck","nrOfCards","counter","min","push","pop","everyCardIsSameSuite","every","arrayToObject","obj","initSettings","init","flat","pileKeys","pilesWithCards","_","createTableauPilesFromDeck","parseInt","checkHasWon","allowedFoundationPiles","filter","allowFoundationDrop","allowedTableauPiles","allowDropTableau","allowedPiles","allowedPile","cardsToBeMoved","destPile","cardToBeMoved","isSameSuite","isRightValue","conditions","firstCardToBeMoved","isOppositeColor","newStock","console","log","numberOfcards","cardsAtIndex","newTableau","tableauId","allIsSpades","moveToFoundationPile","potentialMove","prevCard","findIndex","foundationToMoveTo","findFirstAvailableFoundation","afterClickState","afterDropState","foundation","tableauPiles","klondikeDeal","indexCounter","dealtCard","rollDice","dice","toggleDiceRoll","initialDiceState","PROTOCOL","UPPER_SECTION","getProtocolItem","getSmallStraight","combos","n","getLargeStraight","getFullHouse","hasFoundThree","hasFoundTwo","idx1","idx2","getXOfAKind","nrOfKind","faceValueIndex","getUpperSection","faceValue","diceIndex","this","pairOfSame","pairArray","idx","getBonus","isUsedAcc","includes","getYatzyBonus","find","hasYatzy","highscore","localState","localStorage","getItem","tmp","userName","newHighscore","sort","a","b","setItem","combineReducers","allIsHearts","allIsClubs","allIsDiamonds","app","klondikeReducer","spiderReducer","yukonReducer","Boolean","location","hostname","store","createStore","rootReducer","composeWithDevTools","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.54bf6d6f.chunk.js","sourcesContent":["export const spacing = {\n  none: 0,\n  xxsmall: '4px',\n  xsmall: '8px',\n  small: '12px',\n  medium: '20px',\n  gutter: '24px',\n  large: '32px',\n  xlarge: '48px',\n  xxlarge: '96px',\n};\n\nexport const fontSizes = {\n  xsmall: '0.79rem',\n  small: '0.889rem',\n  medium: '1rem',\n  large: '1.125rem',\n  xlarge: '1.266rem',\n  xxlarge: '1.424rem',\n};\n\nexport const breakpoints = {\n  xs: '(max-width: 320px)',\n  sm: '(max-width: 720px)',\n  md: '(max-width: 1024px)',\n  l: '(min-width: 1024px)',\n  or: '(orientation: portrait)', // we can check orientation also\n}","import { spacing, breakpoints } from './units';\n\nconst white = '#fff';\nconst black = '#111';\n\nconst palette = {\n  common: {\n    black,\n    pink: 'pink',\n    blue: '#b2c5d5',\n    papayawhip: 'papayawhip',\n    white,\n  },\n  primary: {\n    main: '#40b4de',\n    light: '#efefef',\n    contrastText: '#1e252c',\n  },\n  // error: {\n  //   main: '#A51C30',\n  //   light: '#A7333F',\n  //   contrastText: white,\n  // },\n  // grey: {\n  //   100: '#EAEAEA',\n  //   200: '#C9C5C5',\n  //   300: '#888',\n  //   400: '#666',\n  // },\n};\n\nconst shadows = {\n  // 0: 'none',\n  // 1: '0px 5px 10px rgba(0, 0, 0, 0.12)',\n  // 2: '0px 8px 30px rgba(0, 0, 0, 0.24)',\n};\n\nconst typography = {\n  fontFamily:\n    `-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\",\n    \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif`,\n};\n\nconst shape = {\n  borderRadius: spacing['xxsmall'],\n};\n\nexport const theme = {\n  palette,\n  shadows,\n  typography,\n  shape,\n  spacing,\n  breakpoints,\n};","import React, {\n  useState,\n  useEffect,\n  createContext,\n  useContext} from 'react';\n\nconst defaultValue = {}\n\nconst BreakpointContext = createContext(defaultValue);\n\nconst BreakpointProvider = ({children, queries}) => {\n  const defaultTofirstIndexQuery = Object.keys(queries).reduce((acc, media, index) => {\n    acc[media] = !index;\n    return acc;\n  }, {})\n  const [queryMatch, setQueryMatch] = useState(defaultTofirstIndexQuery);\n\n  useEffect(() => {\n    const mediaQueryLists = {};\n    const keys = Object.keys(queries);\n    let isAttached = false;\n\n    const handleQueryListener = () => {\n      const updatedMatches = keys.reduce((acc, media) => {\n        acc[media] = !!(mediaQueryLists[media] && mediaQueryLists[media].matches);\n        return acc;\n      }, {})\n      setQueryMatch(updatedMatches)\n    }\n\n    if (window && window.matchMedia) {\n      const matches = {};\n      keys.forEach(media => {\n        if (typeof queries[media] === 'string') {\n          mediaQueryLists[media] = window.matchMedia(queries[media]);\n          matches[media] = mediaQueryLists[media].matches\n        } else {\n          matches[media] = false\n        }\n      });\n      setQueryMatch(matches);\n      isAttached = true;\n      keys.forEach(media => {\n        if(typeof queries[media] === 'string') {\n          mediaQueryLists[media].addListener(handleQueryListener)\n        }\n      });\n    }\n\n    return () => {\n      if(isAttached) {\n        keys.forEach(media => {\n          if(typeof queries[media] === 'string') {\n            mediaQueryLists[media].removeListener(handleQueryListener)\n          }\n        });\n      }\n    }\n  }, [queries]);\n\n  return (\n    <BreakpointContext.Provider value={queryMatch}>\n      {children}\n    </BreakpointContext.Provider>\n  )\n\n}\n\nfunction useBreakpoint() {\n  const context = useContext(BreakpointContext);\n  if(context === defaultValue) {\n    throw new Error('useBreakpoint must be used within BreakpointProvider');\n  }\n  return context;\n}\nexport {useBreakpoint, BreakpointProvider};","import styled, {css} from 'styled-components/macro';\n\nexport const sectionTopDistance = css`\n  margin-top: ${(props) => props.theme.spacing.xxsmall};\n`;\n\nexport const Section = styled.section`\n  ${sectionTopDistance}\n`;\n\nconst ContentSection = styled(Section)`\n  background-color: ${({ theme }) => theme.palette.primary.light};\n  color: ${({theme}) => theme.palette.primary.contrastText};\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex: 1 0 auto;\n  padding: ${(props) => props.theme.spacing.medium};\n`;\n\nexport default ContentSection;","import React from 'react';\r\n\r\nconst SettingsIcon = () => (\r\n\t<svg version=\"1.1\" id=\"Layer_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 64 64\" enableBackground=\"new 0 0 64 64\">\r\n\t\t<g>\r\n\t\t\t<g>\r\n\t\t\t\t<path d=\"M63.8,28.3l-0.2-1.5L55,25.3c-0.2-0.9-0.5-1.7-0.9-2.5c-0.3-0.8-0.7-1.6-1.2-2.4l5-7.1l-0.9-1.2c-1.5-1.9-3.3-3.7-5.2-5.2\r\n\t\t\t\t\tL50.7,6l-7.1,5c-1.6-0.9-3.2-1.5-4.9-2l-1.5-8.6l-1.5-0.2c-2.5-0.3-5-0.3-7.4,0l-1.5,0.2L25.3,9c-0.9,0.2-1.7,0.5-2.5,0.9\r\n\t\t\t\t\tc-0.8,0.3-1.6,0.7-2.4,1.2l-7.1-5l-1.2,0.9c-1.9,1.5-3.7,3.3-5.2,5.2L6,13.3l5,7.1c-0.9,1.6-1.5,3.2-2,4.9l-8.6,1.5l-0.2,1.5\r\n\t\t\t\t\tc-0.3,2.5-0.3,5,0,7.4l0.2,1.5L9,38.7c0.2,0.9,0.5,1.7,0.9,2.5c0.3,0.8,0.7,1.6,1.2,2.4l-5,7.1l0.9,1.2c1.5,1.9,3.3,3.7,5.2,5.2\r\n\t\t\t\t\tl1.2,0.9l7.1-5c1.6,0.9,3.2,1.5,4.9,2l1.5,8.6l1.5,0.2c1.2,0.1,2.5,0.2,3.7,0.2s2.5-0.1,3.7-0.2l1.5-0.2l1.5-8.6\r\n\t\t\t\t\tc0.9-0.2,1.7-0.5,2.5-0.9c0.8-0.3,1.6-0.7,2.4-1.2l7.1,5l1.2-0.9c1.9-1.5,3.7-3.3,5.2-5.2l0.9-1.2l-5-7.1c0.9-1.6,1.5-3.2,2-4.9\r\n\t\t\t\t\tl8.6-1.5l0.2-1.5C64.1,33.3,64.1,30.8,63.8,28.3z M32,44c-6.6,0-12-5.4-12-12s5.4-12,12-12s12,5.4,12,12S38.6,44,32,44z\"/>\r\n\t\t\t</g>\r\n\t\t</g>\r\n\t</svg>\r\n\t);\r\n\texport default SettingsIcon;","import styled, { css } from 'styled-components/macro';\nimport SettingsIcon from './settings-solid';\n\nconst ButtonStylesWhenError = css`\n  background-color: red;\n  transition: all 0.5s ease-in;\n`;\n\nconst ButtonStylesWhenSuccessful = css`\n  background-color: green;\n  transition: all 0.5s ease-in;\n`;\n\nconst ButtonNormalized = styled.button`\n  border: none;\n  cursor: pointer;\n  font-size: inherit;\n  color: inherit;\n  background: none;\n\n  &:focus {\n    outline: none;\n  }\n`\n\nconst Button = styled(ButtonNormalized)`\n  background-color: ${props => props.theme.palette.primary.main};\n  color: ${props => props.theme.palette.primary.contrastText};\n  padding: ${props => props.theme.spacing.xsmall};\n  border-radius: ${props => props.theme.shape.borderRadius};\n  width: inherit;\n  transition: width 1s ease-in 0.3s;\n  line-height: 1;\n  text-transform: uppercase;\n  text-align: center;\n`;\n\nconst ButtonStyled = styled(Button)`\n  background-color: ${(props) => (props.hover ? props.theme.primaryEnhancer : props.theme.palette.primary.main)};\n\n  ${props => props.error ? ButtonStylesWhenError : ''}\n  ${props => props.success ? ButtonStylesWhenSuccessful : ''}\n`;\n\nconst ButtonStyledFullWidth = styled(ButtonStyled)`\n  width: 100%;\n`;\n\nconst ButtonPrimaryAction = styled(Button)`\n  &:hover {\n    background-color: ${props => props.theme.primaryEnhancer};\n  }\n`;\n\nconst ButtonSecondaryAction = styled(Button)`\n  background-color: transparent;\n  border: 0.06rem solid ${props => props.theme.palette.primary.light};\n  color: ${props => props.theme.palette.primary.light};\n\n  &:hover {\n    border-color: ${props => props.theme.palette.primary.main};\n    color: ${props => props.theme.palette.primary.main};\n  }\n`;\n\nconst ButtonTertiaryAction = styled(Button)`\n  background: none;\n  padding: 0;\n  text-align: left;\n  color: ${props => props.theme.palette.primary.main};\n`;\n\nconst ButtonList = styled.div`\n  display: flex;\n  \n  & > ${Button} {\n    margin: 0 ${({ theme }) => theme.spacing.xxsmall} 0 0;\n  }\n\n  & > ${Button}:last-child {\n    margin-right: 0;\n  }\n\n  @media ${(props) => props.theme.breakpoints.l} {\n    & > ${Button} {\n      margin: 0 ${({ theme }) => theme.spacing.xsmall} 0 0;\n    }\n  }\n`;\n\nexport {\n  Button,\n  ButtonStyled,\n  ButtonStyledFullWidth,\n  ButtonPrimaryAction,\n  ButtonSecondaryAction,\n  ButtonTertiaryAction,\n  ButtonList,\n  ButtonNormalized,\n\n  SettingsIcon,\n}","import React from 'react';\nimport styled from 'styled-components/macro';\n\nimport {sectionTopDistance} from 'Components/StyledComponents/ContentSection';\nimport {\n  ButtonPrimaryAction,\n  ButtonSecondaryAction,\n  ButtonList,\n} from 'Components/StyledComponents/Buttons';\n\nexport const DashboardStyled = styled.section`\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  ${sectionTopDistance}\n  \n  & > * {\n    flex: 1;\n    margin: 0 ${({ theme }) => theme.spacing.xxsmall};\n  }\n\n  & > *:first-child {\n    margin-left: 0;\n  } \n\n  & > *:last-child {\n    margin-right: 0;\n  }\n`;\n\nconst Dashboard = ({undo, redeal}) => {\n  return (\n    <DashboardStyled>\n      <ButtonList>\n        <ButtonSecondaryAction onClick={undo} disabled={!undo}>Undo</ButtonSecondaryAction>\n        <ButtonPrimaryAction onClick={redeal}>New Deal</ButtonPrimaryAction>\n      </ButtonList>\n    </DashboardStyled>\n  );\n}\n\nexport default Dashboard;\n","import styled from 'styled-components/macro';\n\nimport {sectionTopDistance} from 'Components/StyledComponents/ContentSection';\n\nexport const Grid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(${({columns}) => columns}, 1fr)};\n  grid-template-rows: repeat(${({rows = 2}) => rows}, 1fr)};\n  grid-gap: ${({theme}) => theme.spacing.xxsmall};\n  ${sectionTopDistance}\n  grid-row-gap: ${({theme}) => theme.spacing.xxsmall};\n`\n\nexport const GridItem = styled.div`\n  grid-column: ${({ column }) => column};\n  grid-row: ${({ row }) => row};\n`","import React from 'react';\n\nconst PileContext = React.createContext({});\n\nexport default PileContext;","import React,{useEffect, useRef, useState} from 'react';\nimport styled from 'styled-components/macro';\n\nimport PileContext from '../../Contexts/PileProvider'\n\nexport const PileGroup = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  \n  & > * {\n    margin: 0 ${({ theme }) => theme.spacing.xsmall} 0 0;\n  }\n\n  & > *:last-child {\n    margin-right: 0;\n  }\n`;\n\nconst PileWrapper = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n`\n\nexport const Pile = ({ pile, children }) => {\n  const parentRef   = useRef(null);\n  const [height, setHeight] = useState(0);\n  const [width, setWidth] = useState(0);\n\n  useEffect(() => {\n    if(parentRef.current) {        \n      setHeight(parentRef.current.offsetHeight);\n      setWidth(parentRef.current.offsetWidth);\n    }\n  }, [parentRef])\n\n  return(\n    <PileContext.Provider value={{...pile, width, height}}>\n      <PileWrapper ref={parentRef}>\n        {children}\n      </PileWrapper>\n    </PileContext.Provider>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components/macro';\nimport PileContext from '../../Contexts/PileProvider';\n\nconst CardFilling = styled.div`\n  position: absolute;\n  color: ${({ color }) => color};\n  line-height: 0.8;\n`;\n\nconst CardFillingSmall = styled(CardFilling)`\n  top: 0;\n  font-size: ${(props) => `${props.containerWidth * 0.54}px`};\n  letter-spacing: -0.1em;\n`\n\nconst Value = styled(CardFillingSmall)`\n  left: 0;\n`;\n\nconst SuiteSmall = styled(CardFillingSmall)`\n  right: ${({ theme }) => theme.spacing.xxsmall};\n`;\n\nconst SuiteLarge = styled(CardFilling)`\n  bottom: 0;\n  width: 100%;\n  font-size: ${(props) => `${props.containerWidth}px`};\n`;\n\nexport const CardOuter = styled.div`\n  text-align:center;\n  width: 100%;\n`\nexport const CardContainer = styled.div`\n  padding-top: 150%;\n  position: relative;\n  width: 100%;\n`\nexport const Image = styled.div`\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  margin: auto;\n  max-height: 100%;\n  max-width: 100%;\n  position: absolute;\n`\nconst CardInner = styled(Image)`\n  border: 1px solid papayawhip;\n  border-radius: ${props => props.theme.shape.borderRadius};\n  background-color: white;\n`;\n\nconst CardInnerFaceDown = styled(CardInner)`\n  background-color: pink;\n`\n\nconst CardInnerEmpty = styled(CardInner)`\n  background-color: transparent;\n`\n\nconst CardWrapper = ({children, ...props }) => (\n  <CardOuter {...props}>\n    <CardContainer>\n      {children}\n    </CardContainer>\n  </CardOuter>\n)\n\nconst CardFaceUp = (props) => {\n  const { id, color, label, suite, suiteSymbol, onClick, ...moreProps } = props\n  const newId = id.match(/[a-z]+|[^a-z]+/gi);\n\n  let idValue = newId[1];\n  if (idValue === '1') {\n    idValue = 'A';\n  }\n\n  if (idValue === '13') {\n    idValue = 'K';\n  }\n\n  if (idValue === '12') {\n    idValue = 'Q';\n  }\n\n  if (idValue === '11') {\n    idValue = 'J';\n  }\n\n  return (\n    <PileContext.Consumer>\n      { value => {\n        return (\n          <CardWrapper suite={suite} onClick={onClick} {...moreProps}>\n            <CardInner>\n              <Value color={color} containerWidth={value.width}>{idValue}</Value>\n              <SuiteSmall color={color} containerWidth={value.width}>{suiteSymbol}</SuiteSmall>\n              <SuiteLarge color={color} containerWidth={value.width}>{suiteSymbol}</SuiteLarge>\n            </CardInner>\n          </CardWrapper>\n        )\n      }}\n    </PileContext.Consumer>\n  )\n}\n\nconst CardFaceDown = (props) => (\n  <CardWrapper {...props}>\n    <CardInnerFaceDown />\n  </CardWrapper>\n);\n\n\nconst CardEmpty = (props) => (\n  <CardWrapper {...props}>\n    <CardInnerEmpty />\n  </CardWrapper>\n);\n\nconst CardDroppable = ({ children, data, dropHandler, ...moreProps }) => {\n  const props = {\n    onDragOver: (ev) => {\n      ev.preventDefault();\n    },\n    onDrop: (ev) => {\n      ev.preventDefault();\n      const dataFromTransfer = ev.dataTransfer.getData(\"pip\");\n      dropHandler(data, JSON.parse(dataFromTransfer))\n    },\n    ...moreProps,\n  };\n\n  return React.Children.map(children, child => {\n    if (child) {\n      return React.cloneElement(child, props);\n    }\n  });\n};\n\nconst CardDraggable = ({ children, data, ...moreProps }) => {\n  const props = {\n    onDragStart: (ev) => {\n      ev.dataTransfer.setData(\"pip\", JSON.stringify(data));\n      ev.dataTransfer.setDragImage(ev.currentTarget, 50, 15);\n      ev.stopPropagation();\n    },\n    ...moreProps,\n  };\n\n  return React.Children.map(children, child => {\n    if (child) {\n      return React.cloneElement(child, props);\n    }\n  });\n};\n\nconst CardToggleFaceUp = ({ label, suite, isFaceUp, onClick, ...props }) => {\n  if (isFaceUp) {\n    return (\n      <CardFaceUp\n        suite={suite}\n        label={label}\n        onClick={onClick}\n        {...props}\n      />\n    );\n  }\n  return <CardFaceDown />;\n}\n\nexport {\n  CardFaceUp,\n  CardFaceDown,\n  CardEmpty,\n  CardDroppable,\n  CardDraggable,\n  CardToggleFaceUp\n};\n","import React from 'react';\n\nimport { Pile } from 'Components/Pile'\nimport { CardFaceDown, CardEmpty } from 'Components/Card';\n\nconst PileStock = ({ pile, onClick, reRunDeck }) => {\n  let comp = <CardEmpty onClick={reRunDeck} />\n  if (pile.length > 0) {\n    comp = <CardFaceDown onClick={() => onClick({ card: pile[0] })} />\n  }\n  return (\n    <Pile>\n      {comp}\n    </Pile>\n  );\n}\n\nexport default PileStock;\n","import React from 'react';\n\nimport { Pile } from 'Components/Pile'\nimport { CardFaceUp, CardDroppable, CardEmpty } from 'Components/Card';\n\nexport const PileFoundationDropppable = ({ pile, pileId, onDrop }) => {\n  let cardComponent = null;\n  \n  if (pile.length === 0) {\n    cardComponent = <CardEmpty />\n  } else {\n    const card = pile[pile.length - 1];\n    cardComponent = <CardFaceUp {...card} />\n  }\n\n  return (\n    <Pile>\n      <CardDroppable\n        data={{ destinationPile: pileId }}\n        dropHandler={onDrop}\n      >\n        {cardComponent}\n      </CardDroppable>\n    </Pile>\n  )\n}\n\nconst PileFoundation = ({ pile, pileId }) => {\n  let comp = <CardEmpty />\n  if (pile.length > 0) {\n    const card = pile[pile.length - 1];\n    comp = <CardFaceUp {...card} />;\n  }\n  return (\n    <Pile>\n      {comp}\n    </Pile>\n  );\n}\n\nexport default PileFoundation;\n","import React from 'react';\nimport styled from 'styled-components/macro';\n\nimport {Pile} from 'Components/Pile'\nimport PileContext from '../../Contexts/PileProvider';\nimport {\n  CardDroppable,\n  CardDraggable,\n  CardToggleFaceUp,\n  CardEmpty,\n} from 'Components/Card';\n\nconst SubPile = styled.div`\n  position: absolute;\n  width: 100%;\n  top: ${(props) => props.cardIndex === 0 ? 0 : props.containerWidth * 0.54}px;\n`;\n\nconst renderPile = (list, cardIndex, pileKey, onDrop, onClick) => {\n  if (list.length === 0) {\n    return <CardEmpty />;\n  }\n\n  const [card, ...rest] = list;\n  const dragAndDropData = { card, cardIndexInPile: cardIndex, sourcePile: pileKey };\n  const cardList = rest.length > 0 ? renderPile(rest, cardIndex + 1, pileKey, onDrop, onClick) : null;\n  return (\n    <PileContext.Consumer>\n      { value => (\n        <SubPile cardIndex={cardIndex} containerWidth={value.width}>\n          <CardDraggable\n            data={dragAndDropData}\n            draggable={!!card.isFaceUp}\n          >\n            <CardToggleFaceUp {...card} onClick={() => onClick(dragAndDropData)} />\n            {cardList}\n          </CardDraggable>\n        </SubPile>)\n      }\n    </PileContext.Consumer>\n  );\n}\n\nconst PileTableau = ({ pile, pileKey, onDrop, onClick }) => {\n  const lastCardInPile = pile.length > 0 ? pile[pile.length - 1] : {};\n  const lastCardInPileIndex = pile.length > 0 ? pile.length - 1 : 0;\n\n  const pileComponents = renderPile(pile, 0, pileKey, onDrop, onClick);\n\n  return (\n    <Pile pile={pile}>\n      <CardDroppable\n        data={{ card: lastCardInPile, cardIndex: lastCardInPileIndex, destinationPile: pileKey }}\n        dropHandler={onDrop}\n      >\n        {pileComponents}\n      </CardDroppable>\n    </Pile>\n  );\n}\n\nexport default PileTableau;\n","import React from 'react';\nimport { connect } from 'react-redux'\n\nimport { useBreakpoint } from 'Contexts/BreakpointProvider'\n\nimport Dashboard from 'Components/Dashboard';\nimport ContentSection from 'Components/StyledComponents/ContentSection';\nimport { Grid, GridItem } from 'Components/StyledComponents/Grid';\nimport PileStock from 'Components/PileStock';\nimport PileFoundation from 'Components/PileFoundation';\nimport PileTableau from 'Components/PileTableau';\n\nexport function Spider(props) {\n  const {\n    undo,\n    redeal,\n    game,\n    stockClickHandler,\n    tableauClickHandler,\n    tableauDropHandler,\n    foundationPilesKeys,\n    tableauPilesKeys,\n  } = props;\n\n  useBreakpoint();\n\n  const onDropTableau = (dropData, dragData) => {\n    tableauDropHandler({ dropData, dragData })\n  }\n\n  const onStockClick = (clickData) => {\n    stockClickHandler(clickData);\n  }\n\n  const onClickTableau = (clickData) => {\n    tableauClickHandler(clickData)\n  }\n\n  const nrOfPiles = 10;\n  return (\n    <div>\n      <section>\n        <Dashboard undo={game.hasWon ? null : undo} redeal={redeal} />\n        {game.hasWon &&\n          <ContentSection>\n            CONGRATULATION YOU HAVE WON THE GAME\n          </ContentSection>\n        }\n      </section>\n      <Grid columns={nrOfPiles}>\n        {foundationPilesKeys.map((pileKey, i) => {\n          const pile = game[pileKey];\n          return (\n            <GridItem column={i + 1} key={pileKey}>\n              <PileFoundation\n                pile={pile}\n                pileId={pileKey}\n              />\n            </GridItem>\n          )\n        })}\n        <GridItem column={10}>\n          <PileStock\n            onClick={onStockClick}\n            pile={game.stock}\n          />\n        </GridItem>\n        {tableauPilesKeys.map((pileKey, i) => {\n          const pile = game[pileKey];\n          return (\n            <GridItem row={2} column={i + 1} key={pileKey}>\n              <PileTableau\n                pile={pile}\n                pileKey={pileKey}\n                onDrop={onDropTableau}\n                onClick={onClickTableau}\n              />\n            </GridItem>\n          )\n        })}\n      </Grid>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  game: state.spider.present,\n  foundationPilesKeys: state.spider.present.foundationPilesKeys,\n  tableauPilesKeys: state.spider.present.tableauPilesKeys,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  undo: () => dispatch({ type: 'UNDO' }),\n  redeal: () => dispatch({ type: 'RE_DEAL' }),\n  stockClickHandler: (payload) => dispatch({ type: 'SPIDER_CLICK_STOCK', payload }),\n  tableauClickHandler: (payload) => dispatch({ type: 'SPIDER_CLICK_TABLEAU', payload }),\n  tableauDropHandler: (payload) => dispatch({ type: 'SPIDER_DROP_TABLEAU', payload }),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Spider)\n","import React from 'react';\n\nimport { Pile } from 'Components/Pile'\nimport { CardFaceUp } from 'Components/Card';\nimport { CardDraggable, CardEmpty } from 'Components/Card';\n\nconst PileWaste = ({ pile, onClick }) => {\n  let comp = <CardEmpty />\n  if (pile.length > 0) {\n    const cardIndexInPile = pile.length - 1;\n    const card = pile[cardIndexInPile]\n    const clickAndDragData = { card, cardIndexInPile: cardIndexInPile, sourcePile: 'waste' };\n    comp = (\n      <CardDraggable\n        key={card.id}\n        data={clickAndDragData}\n        draggable={!!card.isFaceUp}\n      >\n        <CardFaceUp onClick={() => onClick(clickAndDragData)} {...card} />\n      </CardDraggable>\n    );\n  }\n\n  return (\n    <Pile>\n      {comp}\n    </Pile>\n  );\n}\n\nexport default PileWaste;\n","import React, {useState} from 'react';\nimport { connect } from 'react-redux'\nimport styled from 'styled-components/macro'\n\nimport { Grid, GridItem } from 'Components/StyledComponents/Grid';\nimport {DashboardStyled} from 'Components/Dashboard';\nimport ContentSection from 'Components/StyledComponents/ContentSection';\nimport PileWaste from 'Components/PileWaste';\nimport PileStock from 'Components/PileStock';\nimport { PileFoundationDropppable } from 'Components/PileFoundation';\nimport PileTableau from 'Components/PileTableau';\nimport { ButtonList, ButtonSecondaryAction, ButtonNormalized, SettingsIcon } from 'Components/StyledComponents/Buttons';\n\nconst Dashboard = styled(DashboardStyled)``;\nconst SettingsButton = styled(ButtonNormalized)`\n  align-self: center;\n  flex: 0 0 auto;\n  width: ${({theme}) => theme.spacing.xlarge};\n  height: auto;\n\n  & > svg {\n    fill: ${({theme}) => theme.palette.primary.light};\n  }\n`;\n\nfunction Klondike(props) {\n  const {\n    undo,\n    redeal,\n    game,\n    reRunDeck,\n    stockClickHandler,\n    foundationDropHandler,\n    tableauDropHandler,\n    tableauClickHandler,\n    wasteClickHandler,\n    settingsOnChangeHandler,\n  } = props;\n  const { tableauPilesKeys, foundationPilesKeys, gameConditions: settings } = game;\n\n  const onDropTableau = (dropData, dragData) => {\n    tableauDropHandler({ dropData, dragData });\n  }\n\n  const onDropFoundation = (dropData, dragData) => {\n    foundationDropHandler({ dropData, dragData })\n  }\n\n  const onStockClick = (clickData) => {\n    stockClickHandler(clickData);\n  }\n\n  const onClickTableau = (clickData) => {\n    tableauClickHandler(clickData);\n  }\n\n  const[isSettingsOpen, setIsSettingsOpen] = useState(false);\n\n  const onToggleOpenSettings = () => {\n    setIsSettingsOpen(!isSettingsOpen);\n  }\n\n  const onChangeSettings = (event) => {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    settingsOnChangeHandler({ name, value });\n  }\n\n  const nrOfPiles = 7;\n  return (\n    <div>\n      <section>\n        <Dashboard>\n          <ButtonList>\n            <ButtonSecondaryAction onClick={redeal}>New game</ButtonSecondaryAction>\n            <ButtonSecondaryAction onClick={game.hasWon ? null : undo}>Undo</ButtonSecondaryAction>\n          </ButtonList>\n          <SettingsButton onClick={onToggleOpenSettings}>\n            <SettingsIcon />\n          </SettingsButton>\n        </Dashboard>\n        {game.hasWon &&\n          <ContentSection>\n            CONGRATULATION YOU HAVE WON THE GAME\n          </ContentSection>\n        }\n        {isSettingsOpen &&\n          <ContentSection>\n            <form>\n              <input type=\"radio\" id='one' name=\"stockTakes\" checked={settings.stockTakes === '1'} value={'1'} onChange={onChangeSettings}/>\n              <label htmlFor='one'>1</label>\n              <input type=\"radio\" id='three' name=\"stockTakes\" checked={settings.stockTakes === '3'} value={'3'} onChange={onChangeSettings}/>\n              <label htmlFor='three'>3</label>\n              <label htmlFor={'tableauEmptyAny'}>tableau Empty Any</label>\n              <input type='checkbox' id={'tableauEmptyAny'} name={'tableauEmptyAny'} checked={settings.tableauEmptyAny} onChange={onChangeSettings} />\n            </form>\n          </ContentSection>\n        }\n      </section>\n      <Grid columns={nrOfPiles}>\n        {foundationPilesKeys.map((pileKey, i) => {\n          const pile = game[pileKey];\n          return (\n            <GridItem column={i + 1} key={pileKey}>\n              <PileFoundationDropppable\n                pile={pile}\n                pileId={pileKey}\n                onDrop={onDropFoundation}\n              />\n            </GridItem>\n          )\n        })}\n        <GridItem column={6}>\n          <PileWaste pile={game.waste} onClick={wasteClickHandler} />\n        </GridItem>\n        <GridItem column={7}>\n          <PileStock\n            onClick={onStockClick}\n            pile={game.stock}\n            reRunDeck={reRunDeck}\n          />\n        </GridItem>\n        {tableauPilesKeys.map((pileKey, i) => {\n          const pile = game[pileKey];\n          return (\n            <GridItem row={2} column={i + 1} key={pileKey}>\n              <PileTableau\n                key={pileKey}\n                pile={pile}\n                pileKey={pileKey}\n                onDrop={onDropTableau}\n                onClick={onClickTableau}\n              />\n            </GridItem>\n          )\n        })}\n      </Grid>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  game: state.klondike.present,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  undo: () => dispatch({ type: 'UNDO' }),\n  redeal: () => dispatch({ type: 'RE_DEAL' }),\n  reRunDeck: () => dispatch({ type: 'RE_RUN_DECK'}),\n  stockClickHandler: (payload) => dispatch({ type: 'CLICK_STOCK', payload }),\n  tableauClickHandler: (payload) => dispatch({ type: 'CLICK_TABLEAU', payload }),\n  wasteClickHandler: (payload) => dispatch({ type: 'CLICK_WASTE', payload }),\n  foundationDropHandler: (payload) => dispatch({ type: 'DROP_FOUNDATION', payload }),\n  tableauDropHandler: (payload) => dispatch({ type: 'DROP_TABLEAU', payload }),\n  settingsOnChangeHandler: (payload) => dispatch({ type: 'SETTINGS_ON_CHANGE', payload})\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Klondike)\n","import React from 'react';\nimport { connect } from 'react-redux'\n\nimport { Grid, GridItem } from 'Components/StyledComponents/Grid';\nimport Dashboard from 'Components/Dashboard';\nimport ContentSection from 'Components/StyledComponents/ContentSection';\nimport { PileFoundationDropppable } from 'Components/PileFoundation';\nimport PileTableau from 'Components/PileTableau';\n\nfunction Yukon(props) {\n  const {\n    undo,\n    redeal,\n    game,\n    tableauDropHandler,\n    foundationDropHandler,\n    tableauClickHandler,\n    foundationPilesKeys,\n    tableauPilesKeys,\n  } = props;\n\n  const onDropFoundation = (dropData, dragData) => {\n    foundationDropHandler({ dropData, dragData })\n  }\n\n  const onDropTableau = (dropData, dragData) => {\n    tableauDropHandler({ dropData, dragData })\n  }\n\n  const onClickTableau = (clickData) => {\n    tableauClickHandler(clickData)\n  }\n\n  const nrOfPiles = 7;\n\n  return (\n    <React.Fragment>\n      <section>\n        <Dashboard undo={game.hasWon ? null : undo} redeal={redeal} />\n        {game.hasWon &&\n          <ContentSection>\n            CONGRATULATION YOU HAVE WON THE GAME\n          </ContentSection>\n        }\n      </section>\n      <Grid columns={nrOfPiles}>\n        {foundationPilesKeys.map((pileKey, i) => {\n          const pile = game[pileKey];\n          return (\n            <GridItem column={i + 1} key={pileKey}>\n              <PileFoundationDropppable\n                pile={pile}\n                pileId={pileKey}\n                onDrop={onDropFoundation}\n              />\n            </GridItem>\n          )\n        })}\n        {tableauPilesKeys.map((pileKey, i) => {\n          const pile = game[pileKey];\n          return (\n            <GridItem row={2} column={i + 1} key={pileKey}>\n              <PileTableau\n                pile={pile}\n                pileKey={pileKey}\n                onDrop={onDropTableau}\n                onClick={onClickTableau}\n              />\n            </GridItem>\n          )\n        })}\n      </Grid>\n    </React.Fragment>\n  );\n}\n\nconst mapStateToProps = state => ({\n  game: state.yukon.present,\n  foundationPilesKeys: state.yukon.present.foundationPilesKeys,\n  tableauPilesKeys: state.yukon.present.tableauPilesKeys,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  undo: () => dispatch({ type: 'UNDO' }),\n  redeal: () => dispatch({ type: 'RE_DEAL' }),\n  foundationDropHandler: (payload) => dispatch({ type: 'YUKON_DROP_FOUNDATION', payload }),\n  tableauDropHandler: (payload) => dispatch({ type: 'YUKON_DROP_TABLEAU', payload }),\n  tableauClickHandler: (payload) => dispatch({ type: 'YUKON_CLICK_TABLEAU', payload }),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Yukon)\n","import { createSelector } from 'reselect';\n\nconst getDices = (state) => {\n  return state.dices\n};\n\nconst getProtocol = (state) => {\n  return state.protocol;\n};\n\nconst getCurrentRoundCombination = createSelector(\n  [getDices],\n  (dices) => {\n    const cb = [0, 0, 0, 0, 0, 0];\n    dices.forEach(({ value }) => {\n      ++cb[value];\n    });\n    return cb;\n  }\n);\n\nconst getTotal = createSelector([getProtocol], (protocol) => {\n  return protocol.reduce((mem, { total }) => {\n    return mem + total;\n  }, 0);\n});\n\nconst getIsGameFinished = createSelector([getProtocol], (protocol) => {\n  return protocol.reduce((mem, { id, isUsed }) => {\n    return mem && isUsed;\n  }, true);\n});\n\nexport {\n  getProtocol,\n  getCurrentRoundCombination,\n  getTotal,\n  getIsGameFinished,\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components/macro'\n\nimport {\n  getCurrentRoundCombination\n} from 'reducers/yatzy/selectors';\n\nconst ProtocolKey = styled.div`\n  padding: ${({ theme }) => theme.spacing.xxsmall};\n  grid-column-start: 1;\n  align-self: center;\n  text-transform: capitalize;\n`;\n\nconst ProtocolValue = styled.div`\n  padding: ${({ theme }) => theme.spacing.xxsmall};\n  grid-column-start: 2;\n  align-self: center;\n  text-align: center;\n`\n\nconst ProtocolKeySelectable = styled(ProtocolKey)`\n  background: ${({hasBeenSelected, theme, isChoosable}) => \n    hasBeenSelected ?\n      theme.palette.common.blue : isChoosable ?\n        theme.palette.common.pink : 'inherit'\n  };\n`;\n\nconst ProtocolValueSelectable = styled(ProtocolValue)`\n  cursor: ${props => props.hasBeenSelected ? 'auto' : 'pointer' };\n  background: ${({hasBeenSelected, theme, isChoosable}) => \n    hasBeenSelected ?\n      theme.palette.common.blue : isChoosable ?\n        theme.palette.common.pink : 'inherit'\n  };\n`;\n\nconst ProtocolItem = ({\n    id,\n    label,\n    isUsed: hasBeenSelected,\n    selectable,\n    currentSum,\n    total: score,\n    setProtocolItemSum,\n    sum,\n    dices,\n  }) => {  \n\n  const onProtocolValueClick = () => {\n    if (!hasBeenSelected && selectable) {\n      setProtocolItemSum({ id, newScore: currentSum });\n    }\n  }\n\n  if (!selectable) {\n    return (\n      <React.Fragment>\n        <ProtocolKey>{label}</ProtocolKey>\n        <ProtocolValue>\n          {score}\n        </ProtocolValue>\n      </React.Fragment>\n    );\n  }\n\n  return (\n    <React.Fragment>\n      <ProtocolKeySelectable hasBeenSelected={hasBeenSelected}>{label}</ProtocolKeySelectable>\n      <ProtocolValueSelectable\n        onClick={onProtocolValueClick}\n        hasBeenSelected={hasBeenSelected}\n        isChoosable={currentSum > 0}\n      >\n        {hasBeenSelected ? `${score}` : `${currentSum}`}\n      </ProtocolValueSelectable>\n    </React.Fragment>\n  );\n}\n\nconst mapStateToProps = ({ yatzyReducer: state}, item) => {\n  const dices = getCurrentRoundCombination(state);\n  return {\n    ...item,\n    currentSum: item.selectable ? item.sum(dices) : 0,\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setProtocolItemSum: (protocolItem) => dispatch({ type: 'YATZY_SET_PROTOCOL_ITEM_SUM', data: { ...protocolItem }}),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProtocolItem);","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components/macro'\n\nimport {DashboardStyled} from 'Components/Dashboard';\nimport ContentSection, {sectionTopDistance} from 'Components/StyledComponents/ContentSection';\nimport { Button, ButtonSecondaryAction } from 'Components/StyledComponents/Buttons';\nimport ProtocolItem from './ProtocolItem';\n\nimport {\n  getProtocol,\n  getTotal,\n  getIsGameFinished,\n} from 'reducers/yatzy/selectors';\n\nconst YatzyDashboard = styled(DashboardStyled)`\n  ${sectionTopDistance}\n`;\n\nconst DiceBoard = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n  flex-direction: column;\n  @media ${(props) => props.theme.breakpoints.l} {\n    flex-direction: row;\n  }\n`;\n\nconst Dice = styled.div`\n  font-size: 15vw;\n  cursor: pointer;\n  color: ${({ theme, selected }) => selected ? theme.palette.common.pink : 'inherit'};\n  flex: 1 1 0;\n  line-height: 0.6;\n  padding-bottom: 3vh; // compensate line-height\n  text-align: center;\n\n  @media ${(props) => props.theme.breakpoints.l} {\n    font-size: 8vw;\n    margin-top: 20px;\n  }\n`;\n\nconst RollDiceButton = styled(Button)`\n  width: 100%;\n  ${sectionTopDistance}\n`\n\nconst Wrapper = styled.div`\n  width: 100%;\n`;\n\nconst Container = styled.div`\n  margin: 0 auto;\n  color: ${props => props.theme.palette.primary.light};\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  column-gap: ${({ theme }) => theme.spacing.xxsmall};\n  ${sectionTopDistance}\n`;\n\nconst Protocol = styled.div`\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  grid-gap: 1px;\n  background-color: ${({ theme }) => theme.palette.primary.light};\n  color: ${({ theme }) => theme.palette.primary.contrastText};\n`;\n\nconst Yatzy = ({\n    undo,\n    redeal,\n    game,\n    dices,\n    total,\n    rollDices,\n    availableRolls,\n    toggleDice,\n    setProtocolItemSum,\n    protocol,\n    highScore,\n    gameFinished,\n    newGameHandler,\n  }) => {  \n\n  const diceClickHandler = (id) => toggleDice(id);\n\n  return (\n    <React.Fragment>\n      <YatzyDashboard>\n        <ButtonSecondaryAction onClick={newGameHandler}>New game</ButtonSecondaryAction>\n        <ButtonSecondaryAction onClick={() => {}}>Undo</ButtonSecondaryAction>\n      </YatzyDashboard>\n      <Container>   \n        <Protocol>\n          { protocol.map((item) => {\n            return (\n              <ProtocolItem key={item.id} {...item} />\n            );\n          })}\n          <ProtocolItem\n            key={'total'}\n            label={'Total'}\n            total={total}\n            selectable={false}\n          />\n        </Protocol>\n        <Wrapper>\n          {gameFinished &&\n            <ContentSection>\n              {`CONGRATULATION YOU HAVE WON THE GAME WITH A TOTAL OF: ${total}`}\n            </ContentSection>\n          }\n          {!gameFinished &&\n            <div>\n              <p>Rolls left: {availableRolls}</p>\n              <RollDiceButton onClick={rollDices} disabled={availableRolls === 0}>Roll Dices</RollDiceButton>\n              <DiceBoard>\n                { dices.map(({ id, value, shouldReRoll }, i) => (\n                  <Dice\n                    selected={!shouldReRoll}\n                    key={`dice-${id}`}\n                    onClick={diceClickHandler.bind(this, id)}\n                    dangerouslySetInnerHTML={{ __html: `&#x268${value}`}}\n                  />\n                ))}\n              </DiceBoard>\n            </div>\n          }\n        </Wrapper>\n      </Container>\n    </React.Fragment>\n  );\n}\n\nconst mapStateToProps = ({ yatzyReducer: state}) => {\n  const protocol = getProtocol(state);\n  return {\n    ...state,\n    ...state.yatzy,\n    ...state.highScore,\n    protocol,\n    total: getTotal(state),\n    gameFinished: getIsGameFinished(state),\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    undo: () => dispatch({ type: 'UNDO' }),\n    redeal: () => dispatch({ type: 'RE_DEAL' }),\n    rollDices: () => dispatch({ type: 'YATZY_ROLL_DICES' }),\n    toggleDice: (id) => dispatch({ type: 'YATZY_TOGGLE_DICE', data: { id } }),\n    newGameHandler: () => dispatch({ type: 'YATZY_NEW_GAME' }),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Yatzy);","import React from 'react';\nimport { connect } from 'react-redux'\n\nimport { useBreakpoint } from 'Contexts/BreakpointProvider'\n\nimport Dashboard from 'Components/Dashboard';\nimport ContentSection from 'Components/StyledComponents/ContentSection';\nimport { Grid, GridItem } from 'Components/StyledComponents/Grid';\nimport PileStock from 'Components/PileStock';\nimport PileWaste from 'Components/PileWaste';\nimport PileFoundation from 'Components/PileFoundation';\nimport PileTableau from 'Components/PileTableau';\n\nexport function Napoleon(props) {\n  const {\n    undo,\n    redeal,\n    game,\n    stockClickHandler,\n    tableauClickHandler,\n    tableauDropHandler,\n    foundationPilesKeys,\n    tableauPilesKeys,\n    wasteClickHandler,\n  } = props;\n\n  useBreakpoint();\n\n  const onDropTableau = (dropData, dragData) => {\n    tableauDropHandler({ dropData, dragData })\n  }\n\n  const onStockClick = (clickData) => {\n    stockClickHandler(clickData);\n  }\n\n  const onClickTableau = (clickData) => {\n    tableauClickHandler(clickData)\n  }\n\n  const nrOfPiles = 12;\n  return (\n    <div>\n      <section>\n        <Dashboard undo={game.hasWon ? null : undo} redeal={redeal} />\n        {game.hasWon &&\n          <ContentSection>\n            CONGRATULATION YOU HAVE WON THE GAME\n          </ContentSection>\n        }\n      </section>\n      <Grid columns={nrOfPiles}>\n        {foundationPilesKeys.map((pileKey, i) => {\n          const pile = game[pileKey];\n          return (\n            <GridItem column={i + 1} key={pileKey}>\n              <PileFoundation\n                pile={pile}\n                pileId={pileKey}\n              />\n            </GridItem>\n          )\n        })}\n        <GridItem column={11}>\n          <PileWaste pile={game.waste} onClick={wasteClickHandler} />\n        </GridItem>\n        <GridItem column={12}>\n          <PileStock\n            onClick={onStockClick}\n            pile={game.stock}\n          />\n        </GridItem>\n        {tableauPilesKeys.map((pileKey, i) => {\n          const pile = game[pileKey];\n          return (\n            <GridItem row={2} column={i + 1} key={pileKey}>\n              <PileTableau\n                pile={pile}\n                pileKey={pileKey}\n                onDrop={onDropTableau}\n                onClick={onClickTableau}\n              />\n            </GridItem>\n          )\n        })}\n      </Grid>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  game: state.napoleon.present,\n  foundationPilesKeys: state.napoleon.present.foundationPilesKeys,\n  tableauPilesKeys: state.napoleon.present.tableauPilesKeys,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  undo: () => dispatch({ type: 'UNDO' }),\n  redeal: () => dispatch({ type: 'RE_DEAL' }),\n  stockClickHandler: (payload) => dispatch({ type: 'NAPOLEON_CLICK_STOCK', payload }),\n  wasteClickHandler: (payload) => dispatch({ type: 'NAPOLEON_CLICK_WASTE', payload }),\n  tableauClickHandler: (payload) => dispatch({ type: 'NAPOLEON_CLICK_TABLEAU', payload }),\n  tableauDropHandler: (payload) => dispatch({ type: 'NAPOLEON_DROP_TABLEAU', payload }),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Napoleon)","import styled from 'styled-components/macro';\n\nconst Select = styled.select`\n  display: inline-block;\n  margin: 0;\n \n  box-shadow: 0 1px 0 1px rgba(0,0,0,.04);\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  appearance: none;\n  background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');\n  background-repeat: no-repeat, repeat;\n  background-position: right ${props => props.theme.spacing.xsmall} top 50%, 0 0;\n  background-size: ${props => props.theme.spacing.xsmall} auto, 100%;\n  background-color: transparent;\n  padding: ${props => props.theme.spacing.xsmall};\n  padding-right: ${props => props.theme.spacing.gutter};\n  border-radius: ${props => props.theme.shape.borderRadius};\n  width: inherit;\n  transition: width 1s ease-in 0.3s;\n  cursor: pointer;\n  box-sizing: border-box;\n  font-size: inherit;\n  line-height: 1;\n  text-transform: uppercase;\n  text-align: center;\n\n  border: 1px solid ${props => props.theme.palette.primary.light};\n  color: ${props => props.theme.palette.primary.light};\n\n  &:hover {\n    border-color: ${props => props.theme.palette.primary.main};\n    color: ${props => props.theme.palette.primary.main};\n  }\n\n  &:focus {\n    border-color: #aaa;\n    box-shadow: 0 0 1px 3px rgba(59, 153, 252, .7);\n    box-shadow: 0 0 0 3px -moz-mac-focusring;\n    color: #222;\n    outline: none;\n\n    border-color: ${props => props.theme.palette.primary.main};\n    color: ${props => props.theme.palette.primary.main};\n  }\n  \n  & > option {\n    font-weight:normal;\n  }\n`;\n\nconst Option = styled.option`\n  text-transform: capitalize;\n`\n\nexport {\n  Select,\n  Option,\n}","import React, {useState} from 'react';\nimport { connect } from 'react-redux'\nimport styled, { ThemeProvider, createGlobalStyle } from 'styled-components/macro';\n\nimport {theme} from '../../Themes';\n\nimport {BreakpointProvider} from 'Contexts/BreakpointProvider'\nimport {sectionTopDistance} from 'Components/StyledComponents/ContentSection';\n\nimport Spider from 'Components/Games/Spider';\nimport Klondike from 'Components/Games/Klondike';\nimport Yukon from 'Components/Games/Yukon';\nimport Yatzy from 'Components/Games/Yatzy';\nimport Napoleon from 'Components/Games/Napoleon';\nimport { Select, Option } from 'Components/StyledComponents/Select';\n\nconst GAMES = {\n  YUKON: 'yukon',\n  KLONDIKE: 'klondike',\n  SPIDER: 'spider',\n  YATZY: 'yatzy',\n  NAPOLEON: 'napoleon',\n}\n\nconst getSelectedGameComponent = (game) => {\n  switch(game) {\n    case GAMES.KLONDIKE:\n      return <Klondike />;\n    case GAMES.SPIDER:\n      return <Spider />;\n    case GAMES.YUKON:\n      return <Yukon />;\n    case GAMES.YATZY:\n      return <Yatzy />;\n    case GAMES.NAPOLEON:\n      return <Napoleon />;\n    default:\n      return <div>No valid game selected</div>;\n  }\n}\n\nconst GlobalStyle = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n    margin: 0;\n  }\n\n  html {\n    font-size: ${props => props.theme.spacing.medium};\n    touch-action: manipulation;\n  }\n\n  body {\n    font-family: ${props => props.theme.typography.fontFamily};\n    background-color: #282c34;\n    overflow: hidden;\n  }\n`;\n\nconst Game = styled.div`\n  height: 100vh;\n`;\n\nconst Row = styled.div`\n  margin: 0 ${(props) => props.theme.spacing.xxsmall};\n\n  @media ${(props) => props.theme.breakpoints.l} {\n    width: 50%;\n    margin: 0 auto;\n  }\n`\nconst GameSection = styled.div`\n  margin: 0 ${(props) => props.theme.spacing.xxsmall};\n\n  @media ${(props) => props.theme.breakpoints.l} {\n    width: 50%;\n    margin: 0 auto;\n  }\n`\n\nconst AppSelect = styled(Select)`\n  width: 100%;\n  ${sectionTopDistance};\n\n  @media ${(props) => props.theme.breakpoints.l} {\n    width: inherit;\n  }\n`\n\nfunction App(props) {\n  const [selectedGame, setSelectedGame] = useState(GAMES.KLONDIKE);\n\n  const selectedGameComponent = getSelectedGameComponent(selectedGame);\n\n  return (\n    <BreakpointProvider queries={theme.breakpoints}>\n      <ThemeProvider theme={theme}>\n        <GlobalStyle />\n        <Game>\n          <Row>\n            <AppSelect\n              value={selectedGame}\n              onChange={e => setSelectedGame(e.target.value)}\n            >\n              {Object.values(GAMES).map((game) => (\n                <Option key={game} value={game}>\n                  {game}\n                </Option>\n              ))}\n            </AppSelect>\n          </Row>\n          <GameSection>\n            {selectedGameComponent}\n          </GameSection>\n        </Game>\n      </ThemeProvider>\n    </BreakpointProvider>\n  );\n}\n\nconst mapStateToProps = state => ({})\n\nconst mapDispatchToProps = dispatch => ({})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App)\n","function undoable(reducer) {\n  // Call the reducer with empty action to populate the initial state\n  const initialState = {\n    past: [],\n    present: reducer(undefined, {}),\n    future: []\n  }\n  // Return a reducer that handles undo and redo\n  return function(state = initialState, action) {\n    const { past, present, future } = state\n    switch (action.type) {\n      case 'UNDO':\n        if (past.length) {\n          const previous = past[past.length - 1]\n          const newPast = past.slice(0, past.length - 1)\n          return {\n            past: newPast,\n            present: previous,\n            future: [present, ...future]\n          }\n        }\n        return state;\n      case 'REDO':\n        const next = future[0]\n        const newFuture = future.slice(1)\n        return {\n          past: [...past, present],\n          present: next,\n          future: newFuture\n        }\n      default:\n        // Delegate handling the action to the passed reducer\n        const newPresent = reducer(present, action)\n        if (present === newPresent) {\n          return state\n        }\n        return {\n          past: [...past, present],\n          present: newPresent,\n          future: []\n        }\n    }\n  }\n}\n\nexport default undoable;\n","const spades = [\n{ \n  id: 's1',\n  label: '',\n  value: 1,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's13',\n  label: '',\n  value: 13,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's12',\n  label: '',\n  value: 12,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's11',\n  label: '',\n  value: 11,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's10',\n  label: '',\n  value: 10,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's9',\n  label: '',\n  value: 9,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's8',\n  label: '',\n  value: 8,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's7',\n  label: '',\n  value: 7,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's6',\n  label: '',\n  value: 6,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's5',\n  label: '',\n  value: 5,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's4',\n  label: '',\n  value: 4,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's3',\n  label: '',\n  value: 3,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's2',\n  label: '',\n  value: 2,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n];\n\nexport default spades;","const diamonds = [\n  { \n    id: 'd1',\n    label: '',\n    value: 1,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd13',\n    label: '',\n    value: 13,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd12',\n    label: '',\n    value: 12,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd11',\n    label: '',\n    value: 11,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd10',\n    label: '',\n    value: 10,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd9',\n    label: '',\n    value: 9,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd8',\n    label: '',\n    value: 8,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd7',\n    label: '',\n    value: 7,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd6',\n    label: '',\n    value: 6,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd5',\n    label: '',\n    value: 5,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd4',\n    label: '',\n    value: 4,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd3',\n    label: '',\n    value: 3,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd2',\n    label: '',\n    value: 2,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n];\n\nexport default diamonds;","const hearts = [\n  {\n    id: 'h1',\n    label: '',\n    value: 1,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h13',\n    label: '',\n    value: 13,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h12',\n    label: '',\n    value: 12,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h11',\n    label: '',\n    value: 11,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h10',\n    label: '',\n    value: 10,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h9',\n    label: '',\n    value: 9,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h8',\n    label: '',\n    value: 8,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h7',\n    label: '',\n    value: 7,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h6',\n    label: '',\n    value: 6,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h5',\n    label: '',\n    value: 5,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h4',\n    label: '',\n    value: 4,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h3',\n    label: '',\n    value: 3,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h2',\n    label: '',\n    value: 2,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n];\n\nexport default hearts;","const clubs = [\n  { \n    id: 'c1',\n    label: '',\n    value: 1,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c13',\n    label: '',\n    value: 13,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c12',\n    label: '',\n    value: 12,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c11',\n    label: '',\n    value: 11,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c10',\n    label: '',\n    value: 10,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c9',\n    label: '',\n    value: 9,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c8',\n    label: '',\n    value: 8,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c7',\n    label: '',\n    value: 7,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c6',\n    label: '',\n    value: 6,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c5',\n    label: '',\n    value: 5,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c4',\n    label: '',\n    value: 4,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c3',\n    label: '',\n    value: 3,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c2',\n    label: '',\n    value: 2,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  }\n];\n\nexport default clubs;","import spades from './spades';\nimport diamonds from './diamonds';\nimport hearts from './hearts';\nimport clubs from './clubs';\n\nconst shuffleArray = (array) => {\n  var currentIndex = array.length, temporaryValue, randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\nconst setLastIsFaceUp = (cards) => {\n  if (cards.length === 0) {\n    return cards;\n  }\n\n  const reverseCards = [...cards];\n  const [last, ...allCards] = reverseCards.reverse();\n\n  return [\n    ...allCards,\n    setFaceIsUp(last),\n  ];\n}\n\nconst setFaceIsUp = (card) => {\n  return {\n    ...card,\n    isFaceUp: true,\n  }\n}\n\nconst moveToPile = (cards, pile) => {\n  const newPile = [...pile].concat(cards);\n  return newPile;\n}\n\nconst moveFromPile = (cardSourceIndex, pile) => {\n  var p1 = pile.slice(0, cardSourceIndex);\n  var p2 = grabCardsToBeMoved(cardSourceIndex, pile);\n\n  return {\n    moved: p2.map(card => ({...card, isFaceUp: true })),\n    remain: p1.map((card, i) => {\n      if(i === p1.length - 1) {\n        return {\n          ...card,\n          isFaceUp: true,\n        }\n      }\n      return card;\n    }),\n  };\n}\n\nconst moveCardsBetweenPilesInState = (state, { cardIndexAtSource, sourcePileKey, destPileKey }) => {\n  const { moved, remain } = moveFromPile(cardIndexAtSource, state[sourcePileKey]);\n  const newDestination = moveToPile(moved, state[destPileKey]);\n\n  return {\n    ...state,\n    [destPileKey]: newDestination,\n    [sourcePileKey]: remain,\n  }\n}\n\nconst cardDropHandler = (state, {destinationPile}, {cardIndexInPile, sourcePile}, allowDropHandler, dropConditions = {}) => {\n  const { moved, remain } = moveFromPile(cardIndexInPile, state[sourcePile])\n  if (allowDropHandler(moved, state[destinationPile], dropConditions)) {\n    return {\n      ...state,\n      [sourcePile]: remain,\n      [destinationPile]: moveToPile(moved, state[destinationPile]),\n    };\n  }\n\n  return state;\n}\n\nconst grabCardsToBeMoved = (cardSourceIndex, pile) => {\n  return pile.slice(cardSourceIndex);\n}\n\nconst getLastCardInPile = (cards) => {\n  const reverseCards = [...cards];\n  const [last, ] = reverseCards.reverse();\n  return last;\n}\n\nconst createArrayWithKeys = (keyName, nr) => {\n  const foundationKeys = Array(nr).fill(keyName).map((value, i) => `${value}${i}`)\n  return foundationKeys;\n}\n\nconst createEmptyPiles = (piles) => {\n  return piles.reduce((mem, key) => {\n    return {\n      ...mem,\n      [key]: [],\n    }\n  }, {})\n}\n\nconst getCardsFromDeck = (deck, nrOfCards) => {\n  const cards = [];\n  let counter = Math.min(nrOfCards, deck.length - 1);\n  while(counter > 0) {\n    cards.push(deck.pop());\n    counter--;\n  }\n  return cards;\n}\n\nconst everyCardIsSameSuite = (cards, suite) => {\n  return cards.every(card => card.suite === suite);\n}\n\nconst arrayToObject = (keys, values) => {\n  const object = values.reduce((mem, obj, i) => {\n    const key = keys[i]\n    return {\n      ...mem,\n      [key]: obj\n    }\n  }, {});\n  return object;\n}\n\nexport {\n  shuffleArray,\n  clubs,\n  spades,\n  diamonds,\n  hearts,\n  setLastIsFaceUp,\n  moveToPile,\n  moveFromPile,\n  moveCardsBetweenPilesInState,\n  cardDropHandler,\n  grabCardsToBeMoved,\n  getLastCardInPile,\n  setFaceIsUp,\n\n  createArrayWithKeys,\n  createEmptyPiles,\n  getCardsFromDeck,\n  everyCardIsSameSuite,\n  arrayToObject,\n};\n","import undoable from 'reducers/undoable';\nimport {\n  shuffleArray,\n  setLastIsFaceUp,\n  clubs,\n  diamonds,\n  hearts,\n  spades,\n  cardDropHandler,\n  moveCardsBetweenPilesInState,\n  getLastCardInPile,\n  createArrayWithKeys,\n  createEmptyPiles,\n  getCardsFromDeck,\n  arrayToObject,\n} from 'utils/';\n\nconst tableauPilesKeys = createArrayWithKeys('tableau', 7);\nconst foundationPilesKeys = createArrayWithKeys('foundation', 4);\n\nconst createDeck = () => {\n  return [clubs, diamonds, hearts, spades].map((suite, i) => {\n    return suite.map((card) => ({...card, key: `${card.id}${i}`}))\n  }).flat()\n}\n\nconst createFoundationPiles = (pileKeys) => {\n  return createEmptyPiles(pileKeys)\n}\n\nconst createTableauPilesFromDeck = (deck, pileKeys) => {\n  const pilesWithCards = pileKeys.map((_, i) => {\n    const cards = getCardsFromDeck(deck, i + 1);\n    return setLastIsFaceUp(cards);\n  });\n\n  return arrayToObject(pileKeys, pilesWithCards);\n}\n\nconst initSettings = {\n  stockTakes: '3',\n  tableauEmptyAny: true,\n  reRunDeck: false,\n}\n\nconst init = () => {\n  let deck = shuffleArray(createDeck());\n  const foundation = createFoundationPiles(foundationPilesKeys);\n  const tableauPiles = createTableauPilesFromDeck(deck, tableauPilesKeys);\n  return {\n    ...foundation,\n    ...tableauPiles,\n    stock: deck,\n    waste: [],\n    hasWon: false,\n\n    tableauPilesKeys,\n    foundationPilesKeys,\n\n    gameConditions: initSettings,\n  };\n}\n\nconst stockClickHandler = (state, { card }) => {\n  return moveCardsBetweenPilesInState(state, {\n    cardIndexAtSource: state.stock.length - parseInt(state.gameConditions.stockTakes),\n    sourcePileKey: 'stock',\n    destPileKey: 'waste',\n  });\n}\n\nconst checkHasWon = (state) => {\n  return {\n    ...state,\n    hasWon: foundationPilesKeys.reduce((mem, pileKey) => {\n      const pile = state[pileKey];\n      return mem && pile.length === 13;\n    }, true)\n  }\n}\n\nconst tableauClickHandler = (state, { card, cardIndexInPile, sourcePile }) => {\n  const isLastCard = cardIndexInPile === (state[sourcePile].length - 1)\n  const allowedFoundationPiles = isLastCard ? state.foundationPilesKeys.filter((pile) => {\n    return allowFoundationDrop([card], state[pile]);\n  }) : [];\n\n  const allowedTableauPiles = state.tableauPilesKeys.filter((pile) => {\n    return allowDropTableau([card], state[pile], state.gameConditions);\n  })\n\n  const allowedPiles = allowedFoundationPiles.concat(allowedTableauPiles);\n\n  if (allowedPiles.length) {\n    const allowedPile = allowedPiles[0];\n\n    return moveCardsBetweenPilesInState(state, {\n      cardIndexAtSource: cardIndexInPile,\n      sourcePileKey: sourcePile,\n      destPileKey: allowedPile,\n    });\n  }\n\n  return state;\n}\n\nconst allowFoundationDrop = (cardsToBeMoved, destPile) => {\n  const cardToBeMoved = cardsToBeMoved[0];\n\n  if (cardsToBeMoved.length > 1) {\n    return false;\n  }\n\n  if(cardToBeMoved.value === 1 && !destPile.length) {\n    return true;\n  }\n\n  if (destPile.length) {\n    const lastCardInPile = getLastCardInPile(destPile);\n\n    const isSameSuite = lastCardInPile.suite === cardToBeMoved.suite;\n    const isRightValue = lastCardInPile.value === (cardToBeMoved.value - 1);\n\n    if(isSameSuite && isRightValue ) {\n      return true;\n    };\n  }\n\n  return false;\n}\n\n\nconst allowDropTableau = (cardsToBeMoved, destinationPile, conditions) => {\n  const firstCardToBeMoved = cardsToBeMoved[0];\n\n  if (destinationPile.length === 0) {\n    return conditions.tableauEmptyAny || firstCardToBeMoved.value === 13;\n  }\n\n  const lastCardInPile = getLastCardInPile(destinationPile);\n\n  const isOppositeColor = lastCardInPile.color !== firstCardToBeMoved.color;\n  const isRightValue = lastCardInPile.value === firstCardToBeMoved.value + 1;\n\n  return lastCardInPile.isFaceUp && isOppositeColor && isRightValue;\n};\n\nconst foundationDropHandler = (game, dropData, dragData) => {\n  return cardDropHandler(game, dropData, dragData, allowFoundationDrop);\n}\n\nconst tableauDropHandler = (state, dropData, dragData) => {\n  return cardDropHandler(state, dropData, dragData, allowDropTableau, state.gameConditions);\n}\n\nconst initialState = init();\n\nconst klondikeReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'RE_DEAL':\n      return init();\n    case 'RE_RUN_DECK':\n      if (state.gameConditions.reRunDeck) {\n        const newStock = [...state.waste].reverse();\n        return {\n          ...state,\n          waste: [],\n          stock: newStock,\n        }\n      }\n      return state;\n    case 'CLICK_STOCK':\n      return stockClickHandler(state, action.payload)\n    case 'CLICK_TABLEAU':\n      return checkHasWon(tableauClickHandler(state, action.payload))\n    case 'CLICK_WASTE':\n      return checkHasWon(tableauClickHandler(state, action.payload))\n    case 'DROP_FOUNDATION':\n      return checkHasWon(foundationDropHandler(state, action.payload.dropData, action.payload.dragData))\n    case 'DROP_TABLEAU':\n      return tableauDropHandler(state, action.payload.dropData, action.payload.dragData)\n    case 'SETTINGS_ON_CHANGE':\n      const { name, value } =action.payload;\n      console.log({name, value})\n      return {\n        ...state,\n        gameConditions: {\n          ...state.gameConditions,\n          [name]: value,\n        }\n      };\n    default:\n      return state;\n  }\n};\n\nexport default undoable(klondikeReducer);","import undoable from './undoable';\nimport {\n  shuffleArray,\n  setLastIsFaceUp,\n  hearts,\n  spades,\n  moveToPile,\n  moveFromPile,\n  moveCardsBetweenPilesInState,\n  cardDropHandler,\n  createArrayWithKeys,\n  createEmptyPiles,\n  getCardsFromDeck,\n  everyCardIsSameSuite,\n  arrayToObject,\n  getLastCardInPile,\n} from 'utils/';\n\nconst createDeck = () => {\n  return [\n    spades, hearts, hearts, spades,\n    spades, hearts, hearts, spades,\n  ].map((suite, i) => {\n    return suite.map((card) => ({...card, key: `${card.id}${i}`}))\n  })\n}\n\nconst tableauPilesKeys = createArrayWithKeys('tableau', 10);\nconst foundationPilesKeys = createArrayWithKeys('foundation', 8);\n\nconst createFoundationPiles = (pileKeys) => {\n  return createEmptyPiles(pileKeys)\n}\n\nconst createTableauPilesFromDeck = (deck, pileKeys) => {\n  const splitAtNr = 4;\n  const pilesWithCards = pileKeys.map((_, i) => {\n    const nrOfCards = i < splitAtNr ? 6 : 5;\n    const cards = getCardsFromDeck(deck, nrOfCards);\n    return setLastIsFaceUp(cards)\n  });\n  return arrayToObject(pileKeys, pilesWithCards);\n}\n\nconst init = () => {\n  let deck = shuffleArray(createDeck().flat());\n  const foundation = createFoundationPiles(foundationPilesKeys);\n  const tableauPiles = createTableauPilesFromDeck(deck, tableauPilesKeys);\n  return {\n    ...foundation,\n    ...tableauPiles,\n    stock: deck,\n    hasWon: false,\n\n    tableauPilesKeys,\n    foundationPilesKeys,\n  };\n}\n\nconst checkHasWon = (state) => {\n  return {\n    ...state,\n    hasWon: foundationPilesKeys.reduce((mem, pileKey) => {\n      const pile = state[pileKey];\n      return mem && pile.length === 13;\n    }, true)\n  }\n}\n\nconst stockClickHandler = (state) => {\n  const numberOfcards = Math.min(tableauPilesKeys.length, state.stock.length);\n  const cardsAtIndex = state.stock.length - numberOfcards;\n  const { moved, remain: newStock } = moveFromPile(cardsAtIndex, state.stock);\n\n  const newTableau = tableauPilesKeys.reduce((mem, tableauId) => {\n    if (moved.length) {\n      return {\n        ...mem,\n        [tableauId]: moveToPile([moved.pop()], state[tableauId])\n      }\n    }\n    return mem;\n  }, {})\n\n  return {\n    ...state,\n    stock: newStock,\n    ...newTableau,\n  };\n}\n\nconst findFirstAvailableFoundation = (state) => {\n  const index = foundationPilesKeys.findIndex((key) => {\n    return state[key].length === 0;\n  });\n\n  return foundationPilesKeys[index];\n}\n\nconst allowDropTableau = (cardsToBeMoved, destinationPile) => {\n  if (destinationPile.length === 0) {\n    return true;\n  }\n\n  const allIsSpades = everyCardIsSameSuite(cardsToBeMoved, 'spades');\n  const allIsHearts = everyCardIsSameSuite(cardsToBeMoved, 'hearts');\n\n  // TODO, check that its an allowed sequence\n  if (allIsHearts || allIsSpades) {\n\n    const lastCardInPile = getLastCardInPile(destinationPile);\n    const firstCardToBeMoved = cardsToBeMoved[0];\n    const isRightValue = lastCardInPile.value === firstCardToBeMoved.value + 1;\n\n    return isRightValue;\n  }\n\n  return false;\n};\n\nconst moveToFoundationPile = (state, sourcePileKey) => {\n  // TODO rewrite this to something readable\n  const sourcePile = [...state[sourcePileKey]];\n  const potentialMove = sourcePile.reduce((mem, obj, i) => {\n    if (mem.length === 13) {\n      return mem;\n    }\n\n    if (obj.value === 13 && obj.isFaceUp) {\n      return [obj];\n    }\n    \n    if (mem.length > 0) {\n      const prevCard = mem[mem.length-1];\n      if ((prevCard.value === obj.value + 1) && (prevCard.suite === obj.suite)) {\n        mem.push(obj)\n        return mem;\n      }\n      return [];\n    }\n    return mem;\n  }, []);\n\n  if (potentialMove.length === 13) {\n    const cardsAtIndex = state[sourcePileKey].findIndex((card) => {\n      // TODO fix key's and id's\n      return card.key === potentialMove[0].key\n    })\n\n    const foundationToMoveTo = findFirstAvailableFoundation(state);\n    return moveCardsBetweenPilesInState(state, {\n      cardIndexAtSource: cardsAtIndex,\n      sourcePileKey,\n      destPileKey: foundationToMoveTo,\n    });\n  }\n\n  return state;\n}\n\nconst tableauDropHandler = (state, { dropData, dragData }) => {\n  return cardDropHandler(state, dropData, dragData, allowDropTableau);\n}\n\nconst tableauClickHandler = (state, clickData) => {\n  const { card } = clickData;\n\n  const allowedTableauPiles = state.tableauPilesKeys.filter((pile) => {\n    return allowDropTableau([card], state[pile]);\n  })\n\n  if (allowedTableauPiles.length) {\n    const allowedPile = allowedTableauPiles[0];\n    const afterClickState = cardDropHandler(state, { destinationPile: allowedPile }, clickData, allowDropTableau);\n    return moveToFoundationPile(afterClickState, allowedPile)\n  }\n\n  return state;\n}\n\nconst spiderReducer = (state = init(), action) => {\n  switch (action.type) {\n    case 'RE_DEAL':\n      return init();\n    case 'SPIDER_CLICK_STOCK':\n      return stockClickHandler(state);\n    case 'SPIDER_CLICK_TABLEAU':\n      const afterClickState = tableauClickHandler(state, action.payload);\n      return checkHasWon(afterClickState)\n    case 'SPIDER_DROP_TABLEAU':\n      const afterDropState = tableauDropHandler(\n        state,\n        action.payload,\n      )\n      return checkHasWon(moveToFoundationPile(afterDropState, action.payload.dropData.destinationPile))\n    default:\n      return state;\n  }\n};\n\nexport default undoable(spiderReducer);","import undoable from './undoable';\nimport {\n  shuffleArray,\n  hearts,\n  spades,\n  clubs,\n  diamonds,\n  createEmptyPiles,\n  getCardsFromDeck,\n  setLastIsFaceUp,\n  arrayToObject,\n  createArrayWithKeys,\n  cardDropHandler,\n  getLastCardInPile,\n  moveCardsBetweenPilesInState\n} from 'utils/';\n\nconst tableauPilesKeys = createArrayWithKeys('tableau', 7);\nconst foundationPilesKeys = createArrayWithKeys('foundation', 4);\n\nconst createDeck = () => {\n  return [clubs, diamonds, hearts, spades].map((suite, i) => {\n    return suite.map((card) => ({...card, key: `${card.id}${i}`}))\n  })\n}\n\nconst createFoundationPiles = (pileKeys) => {\n  return createEmptyPiles(pileKeys)\n}\n\nconst createTableauPilesFromDeck = (deck, pileKeys) => {\n  let klondikeDeal = pileKeys.map((_, i) => {\n    const cards = getCardsFromDeck(deck, i + 1);\n    return setLastIsFaceUp(cards);\n  });\n\n  let indexCounter = 1;\n  while(deck.length > 0) {\n    const dealtCard = deck.pop(); \n    klondikeDeal[indexCounter].push({...dealtCard, isFaceUp: true });\n    indexCounter = (indexCounter % (klondikeDeal.length - 1)) + 1\n  }\n\n  return arrayToObject(pileKeys, klondikeDeal);\n}\n\nconst allowFoundationDrop = (cardsToBeMoved, destPile) => {\n  const cardToBeMoved = cardsToBeMoved[0];\n\n  if (cardsToBeMoved.length > 1) {\n    return false;\n  }\n\n  if(cardToBeMoved.value === 1 && !destPile.length) {\n    return true;\n  }\n\n  if (destPile.length) {\n    const lastCardInPile = getLastCardInPile(destPile);\n\n    const isSameSuite = lastCardInPile.suite === cardToBeMoved.suite;\n    const isRightValue = lastCardInPile.value === (cardToBeMoved.value - 1);\n\n    if(isSameSuite && isRightValue ) {\n      return true;\n    };\n  }\n\n  return false;\n}\n\n\nconst allowDropTableau = (cardsToBeMoved, destinationPile) => {\n  if (destinationPile.length === 0) {\n    return true;\n  }\n\n  const lastCardInPile = getLastCardInPile(destinationPile);\n\n  const firstCardToBeMoved = cardsToBeMoved[0];\n  const isOppositeColor = lastCardInPile.color !== firstCardToBeMoved.color;\n  const isRightValue = lastCardInPile.value === firstCardToBeMoved.value + 1;\n\n  return lastCardInPile.isFaceUp && isOppositeColor && isRightValue;\n};\n\nconst foundationDropHandler = (state, dropData, dragData) => {\n  return cardDropHandler(state, dropData, dragData, allowFoundationDrop);\n}\n\nconst tableauDropHandler = (state, dropData, dragData) => {\n  return cardDropHandler(state, dropData, dragData, allowDropTableau);\n}\n\nconst tableauClickHandler = (state, clickData) => {\n  const { card, cardIndexInPile, sourcePile } = clickData;\n  const isLastCard = cardIndexInPile === (state[sourcePile].length - 1)\n\n  const allowedFoundationPiles = isLastCard ? state.foundationPilesKeys.filter((pile) => {\n    return allowFoundationDrop([card], state[pile]);\n  }) : [];\n\n  const allowedTableauPiles = state.tableauPilesKeys.filter((pile) => {\n    return allowDropTableau([card], state[pile]);\n  })\n\n  const allowedPiles = allowedFoundationPiles.concat(allowedTableauPiles);\n\n  if (allowedPiles.length) {\n    const allowedPile = allowedPiles[0];\n\n    return moveCardsBetweenPilesInState(state, {\n      cardIndexAtSource: cardIndexInPile,\n      sourcePileKey: sourcePile,\n      destPileKey: allowedPile,\n    });\n  }\n\n  return state;\n}\n\nconst checkHasWon = (state) => {\n  return {\n    ...state,\n    hasWon: foundationPilesKeys.reduce((mem, pileKey) => {\n      const pile = state[pileKey];\n      return mem && pile.length === 13;\n    }, true)\n  }\n}\n\nconst init = () => {\n  let deck = shuffleArray(createDeck().flat());\n  const foundation = createFoundationPiles(foundationPilesKeys);\n  const tableauPiles = createTableauPilesFromDeck(deck, tableauPilesKeys);\n  return {\n    ...foundation,\n    ...tableauPiles,\n    hasWon: false,\n\n    tableauPilesKeys,\n    foundationPilesKeys,\n  };\n}\n\nconst yukonReducer = (state = init(), action) => {\n  switch (action.type) {\n    case 'RE_DEAL':\n      return init();\n    case 'YUKON_DROP_FOUNDATION':\n      return checkHasWon(foundationDropHandler(state, action.payload.dropData, action.payload.dragData))\n    case 'YUKON_DROP_TABLEAU':\n      return tableauDropHandler(state, action.payload.dropData, action.payload.dragData)\n    case 'YUKON_CLICK_TABLEAU':\n      return checkHasWon(tableauClickHandler(state, action.payload))\n    default:\n      return state;\n  }\n};\n\nexport default undoable(yukonReducer);","const getRandomFaceValue = () => {\n return Math.floor(Math.random() * 6);\n}\n\nconst rollDice = (dices) => {\n  return dices.map((dice) => ({\n    ...dice,\n    value: dice.shouldReRoll ? getRandomFaceValue() : dice.value,\n  }))\n}\n\nconst toggleDiceRoll = (dices, id) => {\n  return dices.map(dice => {\n    if (dice.id === id) {\n      return {...dice, shouldReRoll: !dice.shouldReRoll};\n    }\n    return dice;\n  })\n}\n\nconst initialDiceState = [\n  { id: 1, shouldReRoll: true, value: 0 },\n  { id: 2, shouldReRoll: true, value: 0 },\n  { id: 3, shouldReRoll: true, value: 0 },\n  { id: 4, shouldReRoll: true, value: 0 },\n  { id: 5, shouldReRoll: true, value: 0 },\n];\n\nconst dices = (state = rollDice(initialDiceState), action) => {\n  switch(action.type) {\n    case 'NEW_USER':\n    case 'YATZY_NEW_GAME':\n      return rollDice(initialDiceState);\n    case 'YATZY_ROLL_DICES':\n      return rollDice(state)\n    case 'YATZY_TOGGLE_DICE':\n      return toggleDiceRoll(state, action.data.id);\n    case 'YATZY_SET_PROTOCOL_ITEM_SUM':\n      return rollDice(initialDiceState);\n    default:\n      return state;\n  }\n}\n\nexport default dices;","const PROTOCOL = {\n  ONES: 'ones',\n  TWOS: 'twos',\n  THREES: 'threes',\n  FOURS: 'fours',\n  FIVES: 'fives',\n  SIXES: 'sixes',\n  BONUS: 'bonus',\n  ONE_PAIR: 'onePair',\n  TWO_PAIRS: 'twoPairs',\n  THREE_OF_A_KIND: 'threeOfAKind',\n  FOUR_OF_A_KIND: 'fourOfAKind',\n  SMALL_STRAIGHT: 'smallStraight',\n  LARGE_STRAIGHT: 'largeStraight',\n  FULL_HOUSE: 'fullHouse',\n  CHANCE: 'chance',\n  YATZY: 'yatzy',\n  YATZY_BONUS: 'yatzyBonus',\n}\n\nconst UPPER_SECTION = [PROTOCOL.ONES, PROTOCOL.TWOS, PROTOCOL.THREES, PROTOCOL.FOURS, PROTOCOL.FIVES, PROTOCOL.SIXES];\n\nconst getProtocolItem = (id, label) => {\n  return {\n    id,\n    label,\n    total: 0,\n    isUsed: false,\n    selectable: false,\n    sum: () => 0,\n  }\n}\n\nconst getTwoPairs = (id, label) => {\n  const protocolItem = getProtocolItem(id, label);\n  return {\n    ...protocolItem,\n    selectable: true,\n    sum(dices) {   \n      let pairOfSame = false;\n      const pairArray = dices.reduce((mem, obj, idx) => {\n        if (obj >= 4) {\n          mem.push(idx);\n          pairOfSame = true;\n          return mem;\n        }\n        if (obj >= 2) {\n          mem.push(idx);\n        }\n        return mem;\n      }, []);\n\n      if (pairOfSame) {\n        return (pairArray.pop() + 1) * 4;\n      }\n\n      if (pairArray.length >= 2) {\n        const idx1 = pairArray.pop() + 1;\n        const idx2 = pairArray.pop() + 1;\n\n        return (idx1 * 2) + (idx2 * 2);\n      }\n      return 0;\n    }\n  }\n}\n\nconst getSmallStraight = (id, label) => {\n  const protocolItem = getProtocolItem(id, label);\n  return {\n    ...protocolItem,\n    selectable: true,\n    sum(combos) {\n      const at = combos.slice(0, combos.length - 1);\n      const tmp = at.filter(n => n !== 1);\n      if (tmp.length === 0) {        \n        return 15;\n      }\n      return 0;\n    }\n  }\n}\n\nconst getLargeStraight = (id, label) => {\n  const protocolItem = getProtocolItem(id, label);\n  return {\n    ...protocolItem,\n    selectable: true,\n    sum(dices) {\n      const at = dices.slice(1);\n      const tmp = at.filter(n => n !== 1);\n      if (tmp.length === 0) {        \n        return 20;\n      }\n      return 0;\n    }\n  }\n}\n\nconst getFullHouse = (id, label) => {\n  const protocolItem = getProtocolItem(id, label);\n  return {\n    ...protocolItem,\n    selectable: true,\n    sum(dices) {\n      let hasFoundThree = false;\n      let hasFoundTwo = false;\n      let idx1 = 0;\n      let idx2 = 0;\n      for (let i = dices.length - 1; i >= 0; i--) {\n        if (!hasFoundThree && (dices[i] >= 3)) {\n          hasFoundThree = true;\n          idx1 = i + 1;\n        } else if (!hasFoundTwo && (dices[i] >= 2)) {\n          hasFoundTwo = true;\n          idx2 = i + 1;\n        }\n      }\n      if (!!idx1 && !!idx2) {\n        return (idx1 * 3) + (idx2 * 2);\n      }\n      return 0;\n    }\n  }\n}\n\nconst getXOfAKind = (id, label, nrOfKind) => {\n  const protocolItem = getProtocolItem(id, label);\n  return {\n    ...protocolItem,\n    selectable: true,\n    sum: (dices) => {\n      const faceValueIndex = [...dices].reverse().findIndex((nr) => nr >= nrOfKind);\n      if (faceValueIndex >= 0) {\n        const faceValue = 6 - faceValueIndex;\n        return nrOfKind * faceValue;\n      }\n      return 0;\n    }\n  }\n}\n\nconst getUpperSection = (faceValue, id, label) => {\n  const diceIndex = faceValue - 1;\n  const protocolItem = getProtocolItem(id, label);\n  return {\n    ...protocolItem,\n    selectable: true,\n    diceIndex,\n    faceValue,\n    sum: function(dices) {\n      return dices[this.diceIndex] * this.faceValue\n    },\n  }\n}\n\nconst initialState = () => {\n  return [\n    getUpperSection(1, PROTOCOL.ONES,'Ones'),\n    getUpperSection(2, PROTOCOL.TWOS,'Twos'),\n    getUpperSection(3, PROTOCOL.THREES,'Threes'),\n    getUpperSection(4, PROTOCOL.FOURS,'Fours'),\n    getUpperSection(5, PROTOCOL.FIVES,'Fives'),\n    getUpperSection(6, PROTOCOL.SIXES,'Sixes'),\n    getProtocolItem(PROTOCOL.BONUS, 'Bonus'),\n    getXOfAKind(PROTOCOL.ONE_PAIR, 'One pair', 2),\n    getTwoPairs(PROTOCOL.TWO_PAIRS, 'Two pairs'),\n    getXOfAKind(PROTOCOL.THREE_OF_A_KIND, 'Three of a kind', 3),\n    getXOfAKind(PROTOCOL.FOUR_OF_A_KIND, 'Four of a kind', 4),\n    getSmallStraight(PROTOCOL.SMALL_STRAIGHT, 'Small straight'),\n    getLargeStraight(PROTOCOL.LARGE_STRAIGHT, 'Large straight'),\n    getFullHouse(PROTOCOL.FULL_HOUSE, 'FullHouse'),\n    {\n      ...getProtocolItem(PROTOCOL.CHANCE, 'Chance'),\n      selectable: true,\n      sum: (combos) => {\n        return combos.reduce((mem, nr, faceValue) => {\n          return mem + (nr * (faceValue + 1));\n        }, 0)\n      }\n    },\n    getXOfAKind(PROTOCOL.YATZY, 'Yatzy', 5),\n    getProtocolItem(PROTOCOL.YATZY_BONUS, 'Bonus'),\n  ]\n};\n\n\nconst getBonus = (protocolItem, _, protocol) => {\n  if(protocolItem.id === PROTOCOL.BONUS && !protocolItem.isUsed) {\n    let total = 0;\n    const isUsed = protocol.reduce((isUsedAcc, item) => {\n      if (UPPER_SECTION.includes(item.id)) {\n        return isUsedAcc && item.isUsed;\n      }\n      return isUsedAcc;\n    }, true);\n\n    const currentTotal = protocol.reduce((sum, item) => {\n      if (UPPER_SECTION.includes(item.id)) {\n        return sum + item.total;\n      }\n      return sum;\n    }, 0);\n\n    if (currentTotal >= 63 ) {\n      total = 50;\n    }\n    return {\n      ...protocolItem,\n      isUsed,\n      total,\n    }\n  }\n\n  return protocolItem;\n}\n\nconst getYatzyBonus = (protocolItem, _, protocol) => {\n  if(protocolItem.id === PROTOCOL.YATZY_BONUS) {\n    const yatzy = protocol.find(({id}) => id === PROTOCOL.YATZY);\n    const hasYatzy = yatzy.total > 0;\n    return {\n      ...protocolItem,\n      isUsed: yatzy.isUsed,\n      total: hasYatzy ? 50 : 0,\n    }\n  }\n  return protocolItem;\n};\n\n\nconst protocol = (state = initialState(), action) => {\n  switch(action.type) {\n    case 'NEW_USER':\n    case 'YATZY_NEW_GAME':\n      return initialState();\n    case 'YATZY_SET_PROTOCOL_ITEM_SUM':\n      const { id, newScore } = action.data;\n      return state\n        .map((protocolItem) => {\n          if (protocolItem.id === id) {\n            return {\n              ...protocolItem,\n              total: newScore,\n              isUsed: true,\n            }\n          }\n          return protocolItem;\n        })\n        .map(getBonus)\n        .map(getYatzyBonus);\n    default:\n      return state\n  }\n};\n\nexport default protocol;","const initialState = [];\n\nconst highscore = (state = initialState, action) => {\n  switch(action.type) {\n    case '@@INIT':\n      const localState = window.localStorage.getItem('highscore');\n      if (localState) {\n        return JSON.parse(localState);\n      }\n      return state;\n    case 'YATZY_GAME_FINISHED':\n      const tmp = state;\n      tmp.push({ score: action.data.total, userName: action.data.userName });\n      const newHighscore = tmp.sort((a, b) => (b.score - a.score));\n      window.localStorage.setItem('highscore', JSON.stringify(newHighscore));\n      return newHighscore;\n    default:\n      return state;\n  }\n}\n\nexport default highscore;","import { combineReducers } from 'redux';\n\nimport dices from './dices';\nimport protocol from './protocol';\nimport highScore from './highscore';\n\nconst initialState = {\n  availableRolls: 2,\n};\n\nconst yatzy = (state = initialState, action) => {\n  switch(action.type) {\n    case 'NEW_USER':\n    case 'YATZY_NEW_GAME':\n      return {\n        ...initialState,\n      }\n    case 'YATZY_ROLL_DICES':\n      return {\n        ...state,\n        availableRolls: state.availableRolls - 1,\n      }\n    case 'YATZY_SET_PROTOCOL_ITEM_SUM':\n      return {\n        ...state,\n        availableRolls: initialState.availableRolls,\n      }\n    case 'YATZY_GAME_FINISHED':\n      return state;\n    default:\n      return state;\n  }\n};\n\nexport default combineReducers({\n  yatzy,\n  dices,\n  protocol,\n  highScore,\n});\n","import undoable from '../../../reducers/undoable';\nimport {\n  shuffleArray,\n  setFaceIsUp,\n  clubs,\n  diamonds,\n  hearts,\n  spades,\n  createArrayWithKeys,\n  createEmptyPiles,\n  getCardsFromDeck,\n  arrayToObject,\n  moveCardsBetweenPilesInState,\n  getLastCardInPile,\n  everyCardIsSameSuite,\n} from 'utils/';\n\nconst tableauPilesKeys = createArrayWithKeys('tableau', 12);\nconst foundationPilesKeys = createArrayWithKeys('foundation', 8);\n\nconst createDeck = () => {\n  return [clubs, diamonds, hearts, spades, clubs, diamonds, hearts, spades].map((suite, i) => {\n    return suite.map((card) => ({...card, key: `${card.id}${i}`}))\n  }).flat()\n}\n\nconst createFoundationPiles = (pileKeys) => {\n  return createEmptyPiles(pileKeys)\n}\n\nconst createTableauPilesFromDeck = (deck, pileKeys) => {\n  const pilesWithCards = pileKeys.map((_, i) => {\n    const cards = getCardsFromDeck(deck, 4).map(setFaceIsUp);\n    return cards;\n  });\n\n  return arrayToObject(pileKeys, pilesWithCards);\n}\n\nconst initialState = () => {\n  let deck = shuffleArray(createDeck());\n  const foundation = createFoundationPiles(foundationPilesKeys);\n  const tableauPiles = createTableauPilesFromDeck(deck, tableauPilesKeys);\n  return {\n    ...foundation,\n    ...tableauPiles,\n    stock: deck,\n    waste: [],\n    hasWon: false,\n\n    tableauPilesKeys,\n    foundationPilesKeys,\n  };\n}\n\nconst stockClickHandler = (game, { card }) => {\n  return moveCardsBetweenPilesInState(game, {\n    cardIndexAtSource: game.stock.length - 1,\n    sourcePileKey: 'stock',\n    destPileKey: 'waste',\n  });\n}\n\nconst checkHasWon = (state) => {\n  return {\n    ...state,\n    hasWon: foundationPilesKeys.reduce((mem, pileKey) => {\n      const pile = state[pileKey];\n      return mem && pile.length === 13;\n    }, true)\n  }\n}\n\nconst allowFoundationDrop = (cardsToBeMoved, destPile) => {\n  const cardToBeMoved = cardsToBeMoved[0];\n\n  if (cardsToBeMoved.length > 1) {\n    return false;\n  }\n\n  if(cardToBeMoved.value === 1 && !destPile.length) {\n    return true;\n  }\n\n  if (destPile.length) {\n    const lastCardInPile = getLastCardInPile(destPile);\n\n    const isSameSuite = lastCardInPile.suite === cardToBeMoved.suite;\n    const isRightValue = lastCardInPile.value === (cardToBeMoved.value - 1);\n\n    if(isSameSuite && isRightValue ) {\n      return true;\n    };\n  }\n\n  return false;\n}\n\nconst allowDropTableau = (cardsToBeMoved, destinationPile) => {\n  if (destinationPile.length === 0) {\n    return true;\n  }\n\n  const allIsSpades = everyCardIsSameSuite(cardsToBeMoved, 'spades');\n  const allIsHearts = everyCardIsSameSuite(cardsToBeMoved, 'hearts');\n  const allIsClubs = everyCardIsSameSuite(cardsToBeMoved, 'clubs');\n  const allIsDiamonds = everyCardIsSameSuite(cardsToBeMoved, 'diamonds');\n\n  // TODO, check that its an allowed sequence\n  if (allIsHearts || allIsSpades || allIsClubs || allIsDiamonds) {\n    const lastCardInPile = getLastCardInPile(destinationPile);\n    const firstCardToBeMoved = cardsToBeMoved[0];\n    const isRightValue = lastCardInPile.value === firstCardToBeMoved.value + 1;\n    const isSameSuite = lastCardInPile.suite === firstCardToBeMoved.suite;\n    return isRightValue && isSameSuite;\n  }\n\n  return false;\n};\n\nconst tableauClickHandler = (state, { card, cardIndexInPile, sourcePile }) => {\n  const isLastCard = cardIndexInPile === (state[sourcePile].length - 1)\n  const allowedFoundationPiles = isLastCard ? state.foundationPilesKeys.filter((pile) => {\n    return allowFoundationDrop([card], state[pile]);\n  }) : [];\n\n  const allowedTableauPiles = state.tableauPilesKeys.filter((pile) => {\n    return allowDropTableau([card], state[pile]);\n  })\n\n  const allowedPiles = allowedFoundationPiles.concat(allowedTableauPiles);\n\n  if (allowedPiles.length) {\n    const allowedPile = allowedPiles[0];\n\n    return moveCardsBetweenPilesInState(state, {\n      cardIndexAtSource: cardIndexInPile,\n      sourcePileKey: sourcePile,\n      destPileKey: allowedPile,\n    });\n  }\n\n  return state;\n}\n\nconst napoleonReducer = (state = initialState(), action) => {\n  switch (action.type) {\n    case 'RE_DEAL':\n      return initialState();\n    case 'NAPOLEON_CLICK_STOCK':\n      return stockClickHandler(state, action.payload);\n    case 'NAPOLEON_CLICK_WASTE':\n      return checkHasWon(tableauClickHandler(state, action.payload))\n    case 'NAPOLEON_CLICK_TABLEAU':\n      return checkHasWon(tableauClickHandler(state, action.payload))\n    default:\n      return state;\n  }\n};\n\nexport default undoable(napoleonReducer);","import { combineReducers } from 'redux'\nimport klondikeReducer from 'Components/Games/Klondike/reducer.js';\nimport spiderReducer from './spiderReducer';\nimport yukonReducer from './yukonReducer';\nimport yatzy from './yatzy/';\nimport napoleon from 'Components/Games/Napoleon/reducer.js';\n\nconst app = combineReducers({\n  klondike: klondikeReducer,\n  spider: spiderReducer,\n  yukon: yukonReducer,\n  yatzyReducer: yatzy,\n  napoleon,\n});\n\nexport default app","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux'\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nimport App from 'Components/App';\nimport rootReducer from './reducers';\n// import SpiderMoveToFoundation from './reducers/states/SpiderMoveToFoundation';\n\nimport * as serviceWorker from './serviceWorker';\n\nconst initialState = {};\nconst store = createStore(rootReducer, initialState, composeWithDevTools())\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}