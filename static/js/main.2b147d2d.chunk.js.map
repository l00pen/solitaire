{"version":3,"sources":["Card/images/cards/lov.svg","Buttons/index.js","Dashboard/index.js","Card/index.js","styleVariables.js","PileStock/index.js","PileFoundation/index.js","Pile/index.js","PileTableau/index.js","Spider/index.js","PileWaste/index.js","Klondike/index.js","Yukon/index.js","App.js","reducers/undoable.js","utils/spades.js","utils/diamonds.js","utils/hearts.js","utils/clubs.js","utils/index.js","reducers/klondikeReducer.js","reducers/spiderReducer.js","reducers/yukonReducer.js","reducers/index.js","serviceWorker.js","index.js"],"names":["module","exports","ButtonStylesWhenError","css","ButtonStylesWhenSuccessful","Button","styled","button","props","theme","primaryColor","primaryTextColor","padding","borderRadius","ButtonStyled","hover","primaryEnhancer","error","success","ButtonPrimaryAction","ButtonSecondaryAction","secondaryColor","DashboardStyled","section","ActionList","Dashboard","undo","redeal","selectedGame","setSelectedGame","onClick","value","onChange","e","target","key","Card","div","CardFan","cardIndex","CardFaceUp","id","suite","label","moreProps","idValue","match","valueOffset","suiteOffset","style","overflow","paddingBottom","height","border","backgroundColor","maxWidth","width","margin","alt","src","sprite","CardFaceDown","CardEmpty","CardDroppable","children","data","dropHandler","onDragOver","ev","preventDefault","onDrop","dataFromTransfer","dataTransfer","getData","JSON","parse","React","Children","map","child","cloneElement","CardDraggable","onDragStart","setData","stringify","setDragImage","currentTarget","stopPropagation","CardToggleFaceUp","isFaceUp","PileStock","pile","reRunDeck","length","card","PileFoundationDropppable","pileId","cardComponent","destinationPile","PileFoundation","Pile","minHeight","PileGroup","PileTableau","pileKey","result","createRecursiveList","list","rest","dragAndDropData","cardIndexInPile","sourcePile","draggable","cardList","connect","state","game","spider","present","foundationPilesKeys","tableauPilesKeys","dispatch","stockClickHandler","payload","type","tableauClickHandler","tableauDropHandler","onHasWon","onDropTableau","dropData","dragData","onClickTableau","clickData","hasWon","nrOfColumns","Math","max","maxNrOfCardsInTableau","reduce","mem","columns","stock","PileWaste","clickAndDragData","klondike","wasteClickHandler","foundationDropHandler","onDropFoundation","className","waste","yukon","Fragment","getSelectedGameComponent","hasWonHandler","baseSize","ContentSection","useState","setHasWon","selectedGameComponent","undoable","reducer","initialState","past","undefined","future","action","previous","newPast","slice","next","newFuture","newPresent","spades","color","diamonds","hearts","clubs","shuffleArray","array","temporaryValue","randomIndex","currentIndex","floor","random","setLastIsFaceUp","cards","reverse","last","allCards","setFaceIsUp","moveToPile","concat","moveFromPile","cardSourceIndex","p1","moved","grabCardsToBeMoved","remain","i","moveCardsBetweenPilesInState","cardIndexAtSource","sourcePileKey","destPileKey","newDestination","cardDropHandler","allowDropHandler","getLastCardInPile","createArrayWithKeys","keyName","nr","Array","fill","createEmptyPiles","piles","getCardsFromDeck","deck","nrOfCards","counter","min","push","pop","everyCardIsSameSuite","every","arrayToObject","keys","values","obj","init","flat","pileKeys","pilesWithCards","_","createTableauPilesFromDeck","checkHasWon","allowedFoundationPiles","filter","allowFoundationDrop","allowedTableauPiles","allowDropTableau","allowedPiles","allowedPile","cardsToBeMoved","destPile","cardToBeMoved","lastCardInPile","isSameSuite","isRightValue","firstCardToBeMoved","isOppositeColor","newStock","numberOfcards","cardsAtIndex","newTableau","tableauId","allIsSpades","moveToFoundationPile","potentialMove","prevCard","findIndex","foundationToMoveTo","index","findFirstAvailableFoundation","afterDropState","foundation","tableauPiles","klondikeDeal","indexCounter","dealtCard","solitaireApp","combineReducers","klondikeReducer","spiderReducer","yukonReducer","Boolean","window","location","hostname","store","createStore","rootReducer","composeWithDevTools","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.2b147d2d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/lov.cf1608c4.svg\";","import styled, { css } from 'styled-components';\n\nconst ButtonStylesWhenError = css`\n  background-color: red;\n  transition: all 0.5s ease-in;\n`;\n\nconst ButtonStylesWhenSuccessful = css`\n  background-color: green;\n  transition: all 0.5s ease-in;\n`;\n\nconst Button = styled.button`\n  border: none;\n  background-color: ${props => props.theme.primaryColor};\n  color: ${props => props.theme.primaryTextColor};\n  padding: ${props => props.theme.padding}rem;\n  border-radius: ${props => props.theme.borderRadius || 1}rem;\n  width: inherit;\n  transition: width 1s ease-in 0.3s;\n  cursor: pointer;\n  box-sizing: border-box;\n  font-size: inherit;\n  line-height: 1;\n  text-transform: uppercase;\n  text-align: center;\n  \n  &:focus {\n    outline: none;\n  }\n`;\n\nconst ButtonStyled = styled(Button)`\n  background-color: ${(props) => (props.hover ? props.theme.primaryEnhancer : props.theme.primaryColor)};\n\n  ${props => props.error ? ButtonStylesWhenError : ''}\n  ${props => props.success ? ButtonStylesWhenSuccessful : ''}\n`;\n\nconst ButtonStyledFullWidth = styled(ButtonStyled)`\n  width: 100%;\n`;\n\nconst ButtonPrimaryAction = styled(Button)`\n  &:hover {\n    background-color: ${props => props.theme.primaryEnhancer};\n  }\n`;\n\nconst ButtonSecondaryAction = styled(Button)`\n  background-color: transparent;\n  border: 0.06rem solid ${props => props.theme.secondaryColor};\n  color: ${props => props.theme.secondaryColor};\n\n  &:hover {\n    border-color: ${props => props.theme.primaryColor};\n    color: ${props => props.theme.primaryColor};\n  }\n`;\n\nconst ButtonTertiaryAction = styled(Button)`\n  background: none;\n  padding: 0;\n  text-align: left;\n  color: ${props => props.theme.primaryColor};\n`;\n\nexport {\n  Button,\n  ButtonStyled,\n  ButtonStyledFullWidth,\n  ButtonPrimaryAction,\n  ButtonSecondaryAction,\n  ButtonTertiaryAction,\n}","import React from 'react';\nimport styled from 'styled-components';\n\nimport { ButtonPrimaryAction, ButtonSecondaryAction } from '../Buttons';\n\nconst DashboardStyled = styled.section`\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n`;\n\nconst ActionList = styled.section`\n  display: flex;\n  \n  /* TODO change to button styled component name */\n  & > button {\n    margin: 0 0.5em 0 0;\n  }\n\n  & > button:last-child {\n    margin-right: 0;\n  }\n`;\n\nconst Dashboard = ({undo, redeal, selectedGame, setSelectedGame}) => {\n  return (\n    <DashboardStyled>\n      <ActionList>\n        <ButtonSecondaryAction onClick={undo}>Undo</ButtonSecondaryAction>\n        <ButtonPrimaryAction onClick={redeal}>New Deal</ButtonPrimaryAction>\n      </ActionList>\n      <select\n        value={selectedGame}\n        onChange={e => setSelectedGame(e.target.value)}\n      >\n        <option key={'klondike'} value={'klondike'}>\n          Klondike\n        </option>\n        <option key={'spider'} value={'spider'}>\n          Spider\n        </option>\n        <option key={'yukon'} value={'yukon'}>\n          Yukon\n        </option>\n      </select>\n    </DashboardStyled>\n  );\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport styled from 'styled-components';\nimport sprite from './images/cards/lov.svg';\n\nimport {\n  cardMinWidth,\n  cardMaxWidth,\n} from '../styleVariables';\n\nconst Card = styled.div`\n  min-width: ${cardMinWidth}px;\n  max-width: ${cardMaxWidth}px;\n`;\n\nconst CardStacked = styled(Card)`\n  position: absolute;\n`;\n\nconst CardFan = styled.div`\n  position: absolute;\n  top: ${(props) => props.cardIndex === 0 ? 0 : 25}px;\n`;\n\nconst CardFaceUp = (props) => {\n  const { id, label, suite, onClick, ...moreProps } = props\n  if (!id) {\n    return <Card suite={suite}>Soemthings wrong with card</Card>;\n  }\n  const newId = id.match(/[a-z]+|[^a-z]+/gi);\n\n  let idValue = newId[1];\n  let value = moreProps.value;\n  if (idValue === '1') {\n    idValue = 'A';\n    value = 14;\n  }\n\n  if (idValue === '13') {\n    idValue = 'K';\n  }\n\n  if (idValue === '12') {\n    idValue = 'Q';\n  }\n\n  if (idValue === '11') {\n    idValue = 'J';\n  }\n\n  let valueOffset = `-${((value - 2))*100}%`;\n  let suiteOffset = 0;\n  if (suite === 'spades') {\n    suiteOffset = '1%';\n  } else if (suite === 'diamonds') {\n    suiteOffset = '-280%';\n  } else if (suite === 'clubs') {\n    suiteOffset = '-137%';\n  } else if (suite === 'hearts') {\n    suiteOffset = '-423%';\n  }\n\n  return (\n    <Card suite={suite} onClick={onClick} {...moreProps}>\n      <div style={{\n        overflow: 'hidden',\n        paddingBottom: '138%',\n        height: 0,\n        border: '1px solid papayawhip',\n        borderRadius: '3px',\n        backgroundColor: 'white',\n      }}>\n        <img\n          id={`${moreProps.value}-${suite}`}\n          style={{\n            maxWidth: '1400%',\n            width: '1400%',\n            margin: `${suiteOffset} 0 0 ${valueOffset}`,\n          }}\n          alt='card'\n          src={sprite}\n        />\n      </div>\n    </Card>\n  )\n} \n\nconst CardFaceDown = (props) => (\n  <Card {...props}>\n    <div style={{\n      overflow: 'hidden',\n      height: 0,\n      paddingBottom: '138%',\n      border: '1px solid papayawhip',\n      borderRadius: '3px',\n    }}>\n      <img\n        style={{\n          maxWidth: '1500%',\n          width: '1500%',\n          margin: '-162% 0 0 -1400%',\n        }}\n        alt='card'\n        src={sprite}\n      />\n    </div>\n  </Card>\n);\n\nconst CardEmpty = ({ onClick, ...props }) => (\n  <Card onClick={onClick} {...props}>\n    <div style={{\n      overflow: 'hidden',\n      height: 0,\n      paddingBottom: '138%',\n      border: '1px solid papayawhip',\n      borderRadius: '3px',\n    }}>\n      <img\n        style={{\n          maxWidth: '1500%',\n          width: '1500%',\n          margin: '0% 0 0 -1400%',\n        }}\n        alt='card'\n        src={sprite}\n      />\n    </div>\n  </Card>\n);\n\nconst CardDroppable = ({ children, data, dropHandler }) => {\n  const props = {\n    onDragOver: (ev) => {\n      ev.preventDefault();\n    },\n    onDrop: (ev) => {\n      ev.preventDefault();\n      const dataFromTransfer = ev.dataTransfer.getData(\"pip\");\n      dropHandler(data, JSON.parse(dataFromTransfer))\n    },\n  };\n\n  return React.Children.map(children, child => {\n    return React.cloneElement(child, props);\n  });\n};\n\nconst CardDraggable = ({ children, data, ...moreProps }) => {\n  const props = {\n    onDragStart: (ev) => {\n      ev.dataTransfer.setData(\"pip\", JSON.stringify(data));\n      ev.dataTransfer.setDragImage(ev.currentTarget, 50, 15);\n      ev.stopPropagation();\n    },\n    ...moreProps,\n  };\n\n  return React.Children.map(children, child => {\n    return React.cloneElement(child, props);\n  });\n};\n\nconst CardToggleFaceUp = ({ label, suite, isFaceUp, onClick, ...props }) => {\n  if (isFaceUp) {\n    return <CardFaceUp suite={suite} label={label} onClick={onClick} {...props} />;\n  }\n  return <CardFaceDown />;\n}\n\nexport {\n  Card,\n  CardFaceUp,\n  CardFaceDown,\n  CardEmpty,\n  CardFan,\n  CardStacked,\n  CardDroppable,\n  CardDraggable,\n  CardToggleFaceUp\n};\n","export const cardMinWidth = 30;\nexport const cardMaxWidth = 75;\n\nexport const cardFanOffset = 15;\n","import React from 'react';\n\nimport { CardFaceDown, CardEmpty } from '../Card';\n\nconst PileStock = ({ pile, onClick, reRunDeck }) => {\n  if (pile.length === 0) {\n    return <CardEmpty onClick={reRunDeck} />\n  }\n  return (\n    <CardFaceDown onClick={() => onClick({ card: pile[0] })} />\n  );\n}\n\nexport default PileStock;\n","import React from 'react';\n\nimport { CardFaceUp } from '../Card';\nimport { CardDroppable, CardEmpty } from '../Card';\n\nexport const PileFoundationDropppable = ({ pile, pileId, onDrop }) => {\n  let cardComponent = null;\n  \n  if (pile.length === 0) {\n    cardComponent = <CardEmpty />\n  } else {\n    const card = pile[pile.length - 1];\n    cardComponent = <CardFaceUp {...card} />\n  }\n\n  return (\n    <CardDroppable\n      data={{ destinationPile: pileId }}\n      dropHandler={onDrop}\n    >\n      {cardComponent}\n    </CardDroppable>\n  )\n}\n\nconst PileFoundation = ({ pile, pileId }) => {\n  if (pile.length === 0) {\n    return <CardEmpty />;\n  }\n\n  const card = pile[pile.length - 1];\n  return (\n    <CardFaceUp {...card} />\n  )\n}\n\nexport default PileFoundation;\n","import styled from 'styled-components';\n\nimport {\n  cardMinWidth,\n  cardMaxWidth\n} from '../styleVariables';\n\nconst Pile = styled.div`\n  min-width: ${cardMinWidth}px;\n  max-width: ${cardMaxWidth}px;\n  position: relative;\n  height: ${(props) => !!props.minHeight ? `${props.minHeight}px` : '100%'};\n\n  flex: 1 1 auto;\n`;\n\nexport const PileStack = styled.div`\n  min-width: ${cardMinWidth}px;\n  max-width: ${cardMaxWidth}px;\n\n  height: 100%;\n\n  flex: 1 1 auto;\n`;\n\nexport const PileEmpty = styled(Pile)`\n  border: 1px solid aliceblue;\n  box-sizing: border-box;\n`;\n\nexport const PileGroup = styled.div`\n  display: flex;\n  justify-content: space-between;\n  \n  & > * {\n    margin: 0 0.5em 0 0;\n  }\n\n  & > *:last-child {\n    margin-right: 0;\n  }\n`;\n\nexport default Pile;\n  // height: 5.17em;  should be a min height or someting from a \"pile\" ","import React from 'react';\n\nimport Pile from '../Pile';\nimport {\n  CardFan,\n  CardDroppable,\n  CardDraggable,\n  CardToggleFaceUp,\n  CardEmpty,\n} from '../Card';\n\nimport { cardFanOffset } from '../styleVariables.js'\n\nconst PileTableau = ({ pile, pileKey, minHeight, onDrop, onClick }) => {\n  const createRecursiveList = (list, cardIndex) => {\n    const [card, ...rest] = list;\n    const dragAndDropData = { card, cardIndexInPile: cardIndex, sourcePile: pileKey };\n\n    if (rest.length === 0 && card) {\n      return (\n        <CardDroppable\n          key={card.key + pileKey}\n          data={{ destinationPile: pileKey }}\n          dropHandler={onDrop}\n        >\n          <CardDraggable\n            data={{ card, cardIndexInPile: cardIndex, sourcePile: pileKey }}\n            draggable={!!card.isFaceUp}\n          >\n            <CardFan cardIndex={cardIndex}>\n              <CardToggleFaceUp {...card} onClick={() => onClick(dragAndDropData)} />\n            </CardFan>\n          </CardDraggable>\n        </CardDroppable>\n      );\n    }\n\n    const cardList = createRecursiveList(rest, cardIndex + 1);\n    return (\n      <CardFan cardIndex={cardIndex}>\n        <CardDraggable\n          data={dragAndDropData}\n          draggable={!!card.isFaceUp}\n        >\n          <CardToggleFaceUp {...card} onClick={() => onClick(dragAndDropData)} />\n          {cardList}\n        </CardDraggable>\n      </CardFan>\n    );\n  }\n\n  if (pile.length === 0) {\n    return (\n      <CardDroppable\n        data={{ card: {}, cardIndex: 0, destinationPile: pileKey }}\n        dropHandler={onDrop}\n      >\n        <CardEmpty />\n      </CardDroppable>\n    )\n  }\n\n  const result = createRecursiveList(pile, 0);\n\n  return (\n    <Pile minHeight={cardFanOffset * minHeight + 125}>\n      {result}\n    </Pile>\n  );\n}\n\nexport default PileTableau;\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { Grid, Cell } from 'styled-css-grid';\n\nimport PileStock from '../PileStock';\nimport PileFoundation from '../PileFoundation';\nimport PileTableau from '../PileTableau';\n\nimport './styles.css';\n\nexport function Spider(props) {\n  const {\n    game,\n    stockClickHandler,\n    tableauDropHandler,\n    onHasWon,\n    foundationPilesKeys,\n    tableauPilesKeys,\n  } = props;\n\n  const onDropTableau = (dropData, dragData) => {\n    tableauDropHandler({ dropData, dragData })\n  }\n\n  const onStockClick = (clickData) => {\n    stockClickHandler(clickData);\n  }\n\n  const onClickTableau = (clickData) => {}\n\n  if (game.hasWon) {\n    onHasWon();\n  }\n\n  const nrOfColumns = Math.max(tableauPilesKeys.length, foundationPilesKeys.length);\n  const maxNrOfCardsInTableau = tableauPilesKeys.reduce((mem, pileKey) => {\n    return Math.max(game[pileKey].length, mem);\n  }, 0);\n\n  return (\n    <Grid columns={1}>\n      <Cell>\n        <Grid columns={nrOfColumns}>\n          {foundationPilesKeys.map((pileKey) => {\n            const pile = game[pileKey];\n            return (\n              <PileFoundation\n                key={pileKey}\n                pile={pile}\n                pileId={pileKey}\n              />\n            )\n          })}\n        </Grid>\n      </Cell>\n      <Cell>\n        <Grid columns={nrOfColumns}>\n          <PileStock\n            onClick={onStockClick}\n            pile={game.stock}\n          />\n        </Grid>\n      </Cell>\n      <Cell>\n        <Grid columns={nrOfColumns}>\n          {tableauPilesKeys.map((pileKey) => {\n            const pile = game[pileKey];\n            return (\n              <PileTableau\n                key={pileKey}\n                pile={pile}\n                pileKey={pileKey}\n                onDrop={onDropTableau}\n                onClick={onClickTableau}\n                minHeight={maxNrOfCardsInTableau}\n              />\n            )\n          })}\n        </Grid>\n      </Cell>\n    </Grid>\n  );\n}\n\nconst mapStateToProps = state => ({\n  game: state.spider.present,\n  foundationPilesKeys: state.spider.present.foundationPilesKeys,\n  tableauPilesKeys: state.spider.present.tableauPilesKeys,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  stockClickHandler: (payload) => dispatch({ type: 'SPIDER_CLICK_STOCK', payload }),\n  tableauClickHandler: (payload) => dispatch({ type: 'SPIDER_CLICK_TABLEAU', payload }),\n  tableauDropHandler: (payload) => dispatch({ type: 'SPIDER_DROP_TABLEAU', payload }),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Spider)\n","import React from 'react';\n\nimport { CardFaceUp } from '../Card';\nimport { CardDraggable, CardEmpty } from '../Card';\n\nconst PileWaste = ({ pile, onClick }) => {\n  if (pile.length === 0) {\n    return <CardEmpty />\n  }\n\n  const cardIndexInPile = pile.length - 1;\n  const card = pile[cardIndexInPile]\n  const clickAndDragData = { card, cardIndexInPile: cardIndexInPile, sourcePile: 'waste' };\n  return (\n    <CardDraggable\n      key={card.id}\n      data={clickAndDragData}\n      draggable={!!card.isFaceUp}\n    >\n      <CardFaceUp onClick={() => onClick(clickAndDragData)} {...card} />\n    </CardDraggable>\n  );\n}\n\nexport default PileWaste;\n","import React from 'react';\nimport { connect } from 'react-redux'\n\nimport PileWaste from '../PileWaste';\nimport PileStock from '../PileStock';\nimport { PileFoundationDropppable } from '../PileFoundation';\nimport PileTableau from '../PileTableau';\nimport {PileGroup} from '../Pile';\n\nfunction Klondike({ game, reRunDeck, stockClickHandler, foundationDropHandler, tableauDropHandler, tableauClickHandler, wasteClickHandler, onHasWon }) {\n  const { tableauPilesKeys, foundationPilesKeys } = game;\n\n  if (game.hasWon) {\n    onHasWon();\n  }\n\n  const onDropTableau = (dropData, dragData) => {\n    tableauDropHandler({ dropData, dragData });\n  }\n\n  const onDropFoundation = (dropData, dragData) => {\n    foundationDropHandler({ dropData, dragData })\n  }\n\n  const onStockClick = (clickData) => {\n    stockClickHandler(clickData);\n  }\n\n  const onClickTableau = (clickData) => {\n    tableauClickHandler(clickData);\n  }\n\n  const maxNrOfCardsInTableau = tableauPilesKeys.reduce((mem, pileKey) => {\n    return Math.max(game[pileKey].length, mem);\n  }, 0);\n\n  return (\n    <div>\n      <section className='Game-top'>\n        <PileGroup>\n          {foundationPilesKeys.map((pileKey) => {\n            const pile = game[pileKey];\n            return (\n              <PileFoundationDropppable\n                key={pileKey}\n                pile={pile}\n                pileId={pileKey}\n                onDrop={onDropFoundation}\n              />\n            )\n          })}\n        </PileGroup>\n        <PileGroup>\n          <section className='Game-Waste'>\n            <PileWaste pile={game.waste} onClick={wasteClickHandler} />\n          </section>\n          <section className='Game-Stock'>\n            <PileStock\n              onClick={onStockClick}\n              pile={game.stock}\n              reRunDeck={reRunDeck}\n            />\n          </section>\n        </PileGroup>\n      </section>\n      <PileGroup>\n        {tableauPilesKeys.map((pileKey) => {\n          const pile = game[pileKey];\n          return (\n            <PileTableau\n              key={pileKey}\n              pile={pile}\n              pileKey={pileKey}\n              onDrop={onDropTableau}\n              onClick={onClickTableau}\n              minHeight={maxNrOfCardsInTableau}\n            />\n          )\n        })}\n      </PileGroup>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  game: state.klondike.present,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  reRunDeck: () => dispatch({ type: 'RE_RUN_DECK'}),\n  stockClickHandler: (payload) => dispatch({ type: 'CLICK_STOCK', payload }),\n  tableauClickHandler: (payload) => dispatch({ type: 'CLICK_TABLEAU', payload }),\n  wasteClickHandler: (payload) => dispatch({ type: 'CLICK_WASTE', payload }),\n  foundationDropHandler: (payload) => dispatch({ type: 'DROP_FOUNDATION', payload }),\n  tableauDropHandler: (payload) => dispatch({ type: 'DROP_TABLEAU', payload }),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Klondike)\n","import React from 'react';\nimport { connect } from 'react-redux'\n\nimport { PileFoundationDropppable } from '../PileFoundation';\nimport PileTableau from '../PileTableau';\nimport {PileGroup} from '../Pile';\n\nfunction Yukon(props) {\n  const {\n    game,\n    tableauDropHandler,\n    foundationDropHandler,\n    onHasWon,\n    foundationPilesKeys,\n    tableauPilesKeys,\n  } = props;\n\n  const onDropFoundation = (dropData, dragData) => {\n    foundationDropHandler({ dropData, dragData })\n  }\n\n  const onDropTableau = (dropData, dragData) => {\n    tableauDropHandler({ dropData, dragData })\n  }\n\n  const onClickTableau = (clickData) => {}\n\n  if (game.hasWon) {\n    onHasWon();\n  }\n\n  return (\n    <React.Fragment>\n      <section className='Game-top'>\n        <PileGroup>\n          {foundationPilesKeys.map((pileKey) => {\n            const pile = game[pileKey];\n            return (\n              <PileFoundationDropppable\n                key={pileKey}\n                pile={pile}\n                pileId={pileKey}\n                onDrop={onDropFoundation}\n              />\n            )\n          })}\n        </PileGroup>\n      </section>\n      <PileGroup>\n        {tableauPilesKeys.map((pileKey) => {\n          const pile = game[pileKey];\n          return (\n            <PileTableau\n              key={pileKey}\n              pile={pile}\n              pileKey={pileKey}\n              onDrop={onDropTableau}\n              onClick={onClickTableau}\n            />\n          )\n        })}\n      </PileGroup>\n    </React.Fragment>\n  );\n}\n\nconst mapStateToProps = state => ({\n  game: state.yukon.present,\n  foundationPilesKeys: state.yukon.present.foundationPilesKeys,\n  tableauPilesKeys: state.yukon.present.tableauPilesKeys,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  foundationDropHandler: (payload) => dispatch({ type: 'YUKON_DROP_FOUNDATION', payload }),\n  tableauDropHandler: (payload) => dispatch({ type: 'YUKON_DROP_TABLEAU', payload }),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Yukon)\n","import React, {useState} from 'react';\nimport { connect } from 'react-redux'\nimport styled, { ThemeProvider } from 'styled-components';\n\nimport Dashboard from './Dashboard';\nimport Spider from './Spider';\nimport Klondike from './Klondike';\nimport Yukon from './Yukon';\n\nimport './App.css';\n\nconst getSelectedGameComponent = (game, hasWonHandler) => {\n  switch(game) {\n    case 'klondike':\n      return <Klondike onHasWon={hasWonHandler} />;\n    case 'spider':\n      return <Spider onHasWon={hasWonHandler} />;\n    case 'yukon':\n      return <Yukon onHasWon={hasWonHandler} />;\n    default:\n      return <div>No valid game selected</div>;\n  }\n}\n\nconst theme = {\n  secondaryColor: \"#fefefe\",\n  primaryColor: \"#40b4de\",\n  primaryTextColor: '#0a3458',\n  borderRadius: 0.125,\n  baseSize: 1.75,\n  padding: 0.5,\n};\n\nconst ContentSection = styled.section`\n  background-color: rgba(245,245,245,0.7);\n  color: rgba(3,2,20,0.7);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex: 1 0 auto;\n  padding: 1em;\n  min-height: 20em;\n`;\n\nfunction App(props) {\n  const [selectedGame, setSelectedGame] = useState('klondike');\n  const [hasWon, setHasWon] = useState(false);\n\n  const hasWonHandler = () => {\n    setHasWon(true);\n  }\n\n  const selectedGameComponent = getSelectedGameComponent(selectedGame, hasWonHandler);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <div className=\"Game\">\n        <div className=\"Game__dashboard\">\n          <Dashboard selectedGame={selectedGame} setSelectedGame={setSelectedGame} {...props} />\n        </div>\n        { hasWon &&\n          <ContentSection>\n            CONGRATULATION YOU HAVE WON THE GAME\n          </ContentSection>\n        }\n        <section className='Game__section'>\n          {selectedGameComponent}\n        </section>\n      </div>\n    </ThemeProvider>\n  );\n}\n\nconst mapStateToProps = state => ({})\n\nconst mapDispatchToProps = dispatch => ({\n  undo: () => dispatch({ type: 'UNDO' }),\n  redeal: () => dispatch({ type: 'RE_DEAL' }),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App)\n","function undoable(reducer) {\n  // Call the reducer with empty action to populate the initial state\n  const initialState = {\n    past: [],\n    present: reducer(undefined, {}),\n    future: []\n  }\n  // Return a reducer that handles undo and redo\n  return function(state = initialState, action) {\n    const { past, present, future } = state\n    switch (action.type) {\n      case 'UNDO':\n        if (past.length) {\n          const previous = past[past.length - 1]\n          const newPast = past.slice(0, past.length - 1)\n          return {\n            past: newPast,\n            present: previous,\n            future: [present, ...future]\n          }\n        }\n        return state;\n      case 'REDO':\n        const next = future[0]\n        const newFuture = future.slice(1)\n        return {\n          past: [...past, present],\n          present: next,\n          future: newFuture\n        }\n      default:\n        // Delegate handling the action to the passed reducer\n        const newPresent = reducer(present, action)\n        if (present === newPresent) {\n          return state\n        }\n        return {\n          past: [...past, present],\n          present: newPresent,\n          future: []\n        }\n    }\n  }\n}\n\nexport default undoable;\n","const spades = [\n{ \n  id: 's1',\n  label: '🂡',\n  value: 1,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n},\n{ \n  id: 's13',\n  label: '🂮',\n  value: 13,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n},\n{ \n  id: 's12',\n  label: '🂭',\n  value: 12,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n},\n{ \n  id: 's11',\n  label: '🂫',\n  value: 11,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n},\n{ \n  id: 's10',\n  label: '🂪',\n  value: 10,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n},\n{ \n  id: 's9',\n  label: '🂩',\n  value: 9,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n},\n{ \n  id: 's8',\n  label: '🂨',\n  value: 8,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n},\n{ \n  id: 's7',\n  label: '🂧',\n  value: 7,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n},\n{ \n  id: 's6',\n  label: '🂦',\n  value: 6,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n},\n{ \n  id: 's5',\n  label: '🂥',\n  value: 5,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n},\n{ \n  id: 's4',\n  label: '🂤',\n  value: 4,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n},\n{ \n  id: 's3',\n  label: '🂣',\n  value: 3,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n},\n{ \n  id: 's2',\n  label: '🂢',\n  value: 2,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n},\n];\n\nexport default spades;","const diamonds = [\n  { \n    id: 'd1',\n    label: '🃁',\n    value: 1,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n  },\n  { \n    id: 'd13',\n    label: '🃎',\n    value: 13,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n  },\n  { \n    id: 'd12',\n    label: '🃍',\n    value: 12,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n  },\n  { \n    id: 'd11',\n    label: '🃋',\n    value: 11,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n  },\n  { \n    id: 'd10',\n    label: '🃊',\n    value: 10,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n  },\n  { \n    id: 'd9',\n    label: '🃉',\n    value: 9,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n  },\n  { \n    id: 'd8',\n    label: '🃈',\n    value: 8,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n  },\n  { \n    id: 'd7',\n    label: '🃇',\n    value: 7,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n  },\n  { \n    id: 'd6',\n    label: '🃆',\n    value: 6,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n  },\n  { \n    id: 'd5',\n    label: '🃅',\n    value: 5,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n  },\n  { \n    id: 'd4',\n    label: '🃄',\n    value: 4,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n  },\n  { \n    id: 'd3',\n    label: '🃃',\n    value: 3,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n  },\n  { \n    id: 'd2',\n    label: '🃂',\n    value: 2,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n  },\n];\n\nexport default diamonds;","const hearts = [\n  {\n    id: 'h1',\n    label: '🂱',\n    value: 1,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n  },\n  {\n    id: 'h13',\n    label: '🂾',\n    value: 13,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n  },\n  {\n    id: 'h12',\n    label: '🂽',\n    value: 12,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n  },\n  {\n    id: 'h11',\n    label: '🂻',\n    value: 11,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n  },\n  {\n    id: 'h10',\n    label: '🂺',\n    value: 10,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n  },\n  {\n    id: 'h9',\n    label: '🂹',\n    value: 9,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n  },\n  {\n    id: 'h8',\n    label: '🂸',\n    value: 8,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n  },\n  {\n    id: 'h7',\n    label: '🂷',\n    value: 7,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n  },\n  {\n    id: 'h6',\n    label: '🂶',\n    value: 6,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n  },\n  {\n    id: 'h5',\n    label: '🂵',\n    value: 5,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n  },\n  {\n    id: 'h4',\n    label: '🂴',\n    value: 4,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n  },\n  {\n    id: 'h3',\n    label: '🂳',\n    value: 3,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n  },\n  {\n    id: 'h2',\n    label: '🂲',\n    value: 2,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n  },\n];\n\nexport default hearts;","const clubs = [\n  { \n    id: 'c1',\n    label: '🃑',\n    value: 1,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n  },\n  { \n    id: 'c13',\n    label: '🃞',\n    value: 13,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n  },\n  { \n    id: 'c12',\n    label: '🃝',\n    value: 12,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n  },\n  { \n    id: 'c11',\n    label: '🃛',\n    value: 11,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n  },\n  { \n    id: 'c10',\n    label: '🃚',\n    value: 10,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n  },\n  { \n    id: 'c9',\n    label: '🃙',\n    value: 9,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n  },\n  { \n    id: 'c8',\n    label: '🃘',\n    value: 8,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n  },\n  { \n    id: 'c7',\n    label: '🃗',\n    value: 7,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n  },\n  { \n    id: 'c6',\n    label: '🃖',\n    value: 6,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n  },\n  { \n    id: 'c5',\n    label: '🃕',\n    value: 5,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n  },\n  { \n    id: 'c4',\n    label: '🃔',\n    value: 4,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n  },\n  { \n    id: 'c3',\n    label: '🃓',\n    value: 3,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n  },\n  { \n    id: 'c2',\n    label: '🃒',\n    value: 2,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n  }\n];\n\nexport default clubs;","import spades from './spades';\nimport diamonds from './diamonds';\nimport hearts from './hearts';\nimport clubs from './clubs';\n\nconst shuffleArray = (array) => {\n  var currentIndex = array.length, temporaryValue, randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\nconst setLastIsFaceUp = (cards) => {\n  if (cards.length === 0) {\n    return cards;\n  }\n\n  const reverseCards = [...cards];\n  const [last, ...allCards] = reverseCards.reverse();\n\n  return [\n    ...allCards,\n    setFaceIsUp(last),\n  ];\n}\n\nconst setFaceIsUp = (card) => {\n  return {\n    ...card,\n    isFaceUp: true,\n  }\n}\n\nconst moveToPile = (cards, pile) => {\n  const newPile = [...pile].concat(cards);\n  return newPile;\n}\n\nconst moveFromPile = (cardSourceIndex, pile) => {\n  var p1 = pile.slice(0, cardSourceIndex);\n  var p2 = grabCardsToBeMoved(cardSourceIndex, pile);\n\n  return {\n    moved: p2.map(card => ({...card, isFaceUp: true })),\n    remain: p1.map((card, i) => {\n      if(i === p1.length - 1) {\n        return {\n          ...card,\n          isFaceUp: true,\n        }\n      }\n      return card;\n    }),\n  };\n}\n\nconst moveCardsBetweenPilesInState = (state, { cardIndexAtSource, sourcePileKey, destPileKey }) => {\n  const { moved, remain } = moveFromPile(cardIndexAtSource, state[sourcePileKey]);\n  const newDestination = moveToPile(moved, state[destPileKey]);\n\n  return {\n    ...state,\n    [destPileKey]: newDestination,\n    [sourcePileKey]: remain,\n  }\n}\n\nconst cardDropHandler = (state, {destinationPile}, {cardIndexInPile, sourcePile}, allowDropHandler) => {\n  const { moved, remain } = moveFromPile(cardIndexInPile, state[sourcePile])\n  if (allowDropHandler(moved, state[destinationPile])) {\n    return {\n      ...state,\n      [sourcePile]: remain,\n      [destinationPile]: moveToPile(moved, state[destinationPile]),\n    };\n  }\n\n  return state;\n}\n\nconst grabCardsToBeMoved = (cardSourceIndex, pile) => {\n  return pile.slice(cardSourceIndex);\n}\n\nconst getLastCardInPile = (cards) => {\n  const reverseCards = [...cards];\n  const [last, ] = reverseCards.reverse();\n  return last;\n}\n\nconst createArrayWithKeys = (keyName, nr) => {\n  const foundationKeys = Array(nr).fill(keyName).map((value, i) => `${value}${i}`)\n  return foundationKeys;\n}\n\nconst createEmptyPiles = (piles) => {\n  return piles.reduce((mem, key) => {\n    return {\n      ...mem,\n      [key]: [],\n    }\n  }, {})\n}\n\nconst getCardsFromDeck = (deck, nrOfCards) => {\n  const cards = [];\n  let counter = Math.min(nrOfCards, deck.length - 1);\n  while(counter > 0) {\n    cards.push(deck.pop());\n    counter--;\n  }\n  return cards;\n}\n\nconst everyCardIsSameSuite = (cards, suite) => {\n  return cards.every(card => card.suite === suite);\n}\n\nconst arrayToObject = (keys, values) => {\n  const object = values.reduce((mem, obj, i) => {\n    const key = keys[i]\n    return {\n      ...mem,\n      [key]: obj\n    }\n  }, {});\n  return object;\n}\n\nexport {\n  shuffleArray,\n  clubs,\n  spades,\n  diamonds,\n  hearts,\n  setLastIsFaceUp,\n  moveToPile,\n  moveFromPile,\n  moveCardsBetweenPilesInState,\n  cardDropHandler,\n  grabCardsToBeMoved,\n  getLastCardInPile,\n  setFaceIsUp,\n\n  createArrayWithKeys,\n  createEmptyPiles,\n  getCardsFromDeck,\n  everyCardIsSameSuite,\n  arrayToObject,\n};\n","import undoable from './undoable';\nimport {\n  shuffleArray,\n  setLastIsFaceUp,\n  clubs,\n  diamonds,\n  hearts,\n  spades,\n  cardDropHandler,\n  moveCardsBetweenPilesInState,\n  getLastCardInPile,\n  createArrayWithKeys,\n  createEmptyPiles,\n  getCardsFromDeck,\n  arrayToObject,\n} from '../utils/';\n\nconst tableauPilesKeys = createArrayWithKeys('tableau', 7);\nconst foundationPilesKeys = createArrayWithKeys('foundation', 4);\n\nconst createDeck = () => {\n  return [clubs, diamonds, hearts, spades].map((suite, i) => {\n    return suite.map((card) => ({...card, key: `${card.id}${i}`}))\n  }).flat()\n}\n\nconst createFoundationPiles = (pileKeys) => {\n  return createEmptyPiles(pileKeys)\n}\n\nconst createTableauPilesFromDeck = (deck, pileKeys) => {\n  const pilesWithCards = pileKeys.map((_, i) => {\n    const cards = getCardsFromDeck(deck, i + 1);\n    return setLastIsFaceUp(cards);\n  });\n\n  return arrayToObject(pileKeys, pilesWithCards);\n}\n\nconst init = () => {\n  let deck = shuffleArray(createDeck());\n  const foundation = createFoundationPiles(foundationPilesKeys);\n  const tableauPiles = createTableauPilesFromDeck(deck, tableauPilesKeys);\n  return {\n    ...foundation,\n    ...tableauPiles,\n    stock: deck,\n    waste: [],\n    hasWon: false,\n\n    tableauPilesKeys,\n    foundationPilesKeys,\n  };\n}\n\nconst stockClickHandler = (game, { card }) => {\n  return moveCardsBetweenPilesInState(game, {\n    cardIndexAtSource: game.stock.length - 1,\n    sourcePileKey: 'stock',\n    destPileKey: 'waste',\n  });\n}\n\nconst checkHasWon = (state) => {\n  return {\n    ...state,\n    hasWon: foundationPilesKeys.reduce((mem, pileKey) => {\n      const pile = state[pileKey];\n      return mem && pile.length === 13;\n    }, true)\n  }\n}\n\nconst tableauClickHandler = (state, { card, cardIndexInPile, sourcePile }) => {\n  // TODO Bugfix only allow move if no cards coming after\n  const allowedFoundationPiles = state.foundationPilesKeys.filter((pile) => {\n    return allowFoundationDrop([card], state[pile]);\n  })\n\n  const allowedTableauPiles = state.tableauPilesKeys.filter((pile) => {\n    return allowDropTableau([card], state[pile]);\n  })\n\n  const allowedPiles = allowedFoundationPiles.concat(allowedTableauPiles);\n\n  if (allowedPiles.length) {\n    const allowedPile = allowedPiles[0];\n\n    return moveCardsBetweenPilesInState(state, {\n      cardIndexAtSource: cardIndexInPile,\n      sourcePileKey: sourcePile,\n      destPileKey: allowedPile,\n    });\n  }\n\n  return state;\n}\n\nconst allowFoundationDrop = (cardsToBeMoved, destPile) => {\n  const cardToBeMoved = cardsToBeMoved[0];\n\n  if (cardsToBeMoved.length > 1) {\n    return false;\n  }\n\n  if(cardToBeMoved.value === 1 && !destPile.length) {\n    return true;\n  }\n\n  if (destPile.length) {\n    const lastCardInPile = getLastCardInPile(destPile);\n\n    const isSameSuite = lastCardInPile.suite === cardToBeMoved.suite;\n    const isRightValue = lastCardInPile.value === (cardToBeMoved.value - 1);\n\n    if(isSameSuite && isRightValue ) {\n      return true;\n    };\n  }\n\n  return false;\n}\n\n\nconst allowDropTableau = (cardsToBeMoved, destinationPile) => {\n  if (destinationPile.length === 0) {\n    return true;\n  }\n\n  const lastCardInPile = getLastCardInPile(destinationPile);\n\n  const firstCardToBeMoved = cardsToBeMoved[0];\n  const isOppositeColor = lastCardInPile.color !== firstCardToBeMoved.color;\n  const isRightValue = lastCardInPile.value === firstCardToBeMoved.value + 1;\n\n  return lastCardInPile.isFaceUp && isOppositeColor && isRightValue;\n};\n\nconst foundationDropHandler = (game, dropData, dragData) => {\n  return cardDropHandler(game, dropData, dragData, allowFoundationDrop);\n}\n\nconst tableauDropHandler = (game, dropData, dragData) => {\n  return cardDropHandler(game, dropData, dragData, allowDropTableau);\n}\n\nconst initialState = init();\n\nconst klondikeReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'RE_DEAL':\n      return init();\n    case 'RE_RUN_DECK':\n      const newStock = [...state.waste].reverse();\n      return {\n        ...state,\n        waste: [],\n        stock: newStock,\n      }\n    case 'CLICK_STOCK':\n      return stockClickHandler(state, action.payload)\n    case 'CLICK_TABLEAU':\n      return checkHasWon(tableauClickHandler(state, action.payload))\n    case 'CLICK_WASTE':\n      return checkHasWon(tableauClickHandler(state, action.payload))\n    case 'DROP_FOUNDATION':\n      return checkHasWon(foundationDropHandler(state, action.payload.dropData, action.payload.dragData))\n    case 'DROP_TABLEAU':\n      return tableauDropHandler(state, action.payload.dropData, action.payload.dragData)\n    default:\n      return state;\n  }\n};\n\nexport default undoable(klondikeReducer);","import undoable from './undoable';\nimport {\n  shuffleArray,\n  setLastIsFaceUp,\n  hearts,\n  spades,\n  moveToPile,\n  moveFromPile,\n  moveCardsBetweenPilesInState,\n  cardDropHandler,\n  createArrayWithKeys,\n  createEmptyPiles,\n  getCardsFromDeck,\n  everyCardIsSameSuite,\n  arrayToObject,\n  getLastCardInPile,\n} from '../utils/';\n\nconst createDeck = () => {\n  return [\n    spades, hearts, hearts, spades,\n    spades, hearts, hearts, spades,\n  ].map((suite, i) => {\n    return suite.map((card) => ({...card, key: `${card.id}${i}`}))\n  })\n}\n\nconst tableauPilesKeys = createArrayWithKeys('tableau', 10);\nconst foundationPilesKeys = createArrayWithKeys('foundation', 8);\n\nconst createFoundationPiles = (pileKeys) => {\n  return createEmptyPiles(pileKeys)\n}\n\nconst createTableauPilesFromDeck = (deck, pileKeys) => {\n  const splitAtNr = 4;\n  const pilesWithCards = pileKeys.map((_, i) => {\n    const nrOfCards = i < splitAtNr ? 6 : 5;\n    const cards = getCardsFromDeck(deck, nrOfCards);\n    return setLastIsFaceUp(cards)\n  });\n  return arrayToObject(pileKeys, pilesWithCards);\n}\n\nconst init = () => {\n  let deck = shuffleArray(createDeck().flat());\n  const foundation = createFoundationPiles(foundationPilesKeys);\n  const tableauPiles = createTableauPilesFromDeck(deck, tableauPilesKeys);\n  return {\n    ...foundation,\n    ...tableauPiles,\n    stock: deck,\n    hasWon: false,\n\n    tableauPilesKeys,\n    foundationPilesKeys,\n  };\n}\n\nconst checkHasWon = (state) => {\n  return {\n    ...state,\n    hasWon: foundationPilesKeys.reduce((mem, pileKey) => {\n      const pile = state[pileKey];\n      return mem && pile.length === 13;\n    }, true)\n  }\n}\n\nconst stockClickHandler = (state) => {\n  const numberOfcards = Math.min(tableauPilesKeys.length, state.stock.length);\n  const cardsAtIndex = state.stock.length - numberOfcards;\n  const { moved, remain: newStock } = moveFromPile(cardsAtIndex, state.stock);\n\n  const newTableau = tableauPilesKeys.reduce((mem, tableauId) => {\n    if (moved.length) {\n      return {\n        ...mem,\n        [tableauId]: moveToPile([moved.pop()], state[tableauId])\n      }\n    }\n    return mem;\n  }, {})\n\n  return {\n    ...state,\n    stock: newStock,\n    ...newTableau,\n  };\n}\n\nconst findFirstAvailableFoundation = (state) => {\n  const index = foundationPilesKeys.findIndex((key) => {\n    return state[key].length === 0;\n  });\n\n  return foundationPilesKeys[index];\n}\n\nconst allowDropTableau = (cardsToBeMoved, destinationPile) => {\n  if (destinationPile.length === 0) {\n    return true;\n  }\n\n  const allIsSpades = everyCardIsSameSuite(cardsToBeMoved, 'spades');\n  const allIsHearts = everyCardIsSameSuite(cardsToBeMoved, 'hearts');\n\n  // TODO, check that its an allowed sequence\n  if (allIsHearts || allIsSpades) {\n\n    const lastCardInPile = getLastCardInPile(destinationPile);\n    const firstCardToBeMoved = cardsToBeMoved[0];\n    const isRightValue = lastCardInPile.value === firstCardToBeMoved.value + 1;\n\n    return isRightValue;\n  }\n\n  return false;\n};\n\nconst moveToFoundationPile = (state, sourcePileKey) => {\n  // TODO rewrite this to something readable\n  const sourcePile = [...state[sourcePileKey]];\n  const potentialMove = sourcePile.reduce((mem, obj, i) => {\n    if (mem.length === 13) {\n      return mem;\n    }\n\n    if (obj.value === 13 && obj.isFaceUp) {\n      return [obj];\n    }\n    \n    if (mem.length > 0) {\n      const prevCard = mem[mem.length-1];\n      if ((prevCard.value === obj.value + 1) && (prevCard.suite === obj.suite)) {\n        mem.push(obj)\n        return mem;\n      }\n      return [];\n    }\n    return mem;\n  }, []);\n\n  if (potentialMove.length === 13) {\n    const cardsAtIndex = state[sourcePileKey].findIndex((card) => {\n      // TODO fix key's and id's\n      return card.key === potentialMove[0].key\n    })\n\n    const foundationToMoveTo = findFirstAvailableFoundation(state);\n    return moveCardsBetweenPilesInState(state, {\n      cardIndexAtSource: cardsAtIndex,\n      sourcePileKey,\n      destPileKey: foundationToMoveTo,\n    });\n  }\n\n  return state;\n}\n\nconst tableauDropHandler = (state, { dropData, dragData }) => {\n  return cardDropHandler(state, dropData, dragData, allowDropTableau);\n}\n\nconst spiderReducer = (state = init(), action) => {\n  switch (action.type) {\n    case 'RE_DEAL':\n      return init();\n    case 'SPIDER_CLICK_STOCK':\n      return stockClickHandler(state);\n    case 'SPIDER_DROP_TABLEAU':\n      const afterDropState = tableauDropHandler(\n        state,\n        action.payload,\n      )\n      return checkHasWon(moveToFoundationPile(afterDropState, action.payload.dropData.destinationPile))\n    default:\n      return state;\n  }\n};\n\nexport default undoable(spiderReducer);","import undoable from './undoable';\nimport {\n  shuffleArray,\n  hearts,\n  spades,\n  clubs,\n  diamonds,\n  createEmptyPiles,\n  getCardsFromDeck,\n  setLastIsFaceUp,\n  arrayToObject,\n  createArrayWithKeys,\n  cardDropHandler,\n  getLastCardInPile,\n} from '../utils/';\n\nconst tableauPilesKeys = createArrayWithKeys('tableau', 7);\nconst foundationPilesKeys = createArrayWithKeys('foundation', 4);\n\nconst createDeck = () => {\n  return [clubs, diamonds, hearts, spades].map((suite, i) => {\n    return suite.map((card) => ({...card, key: `${card.id}${i}`}))\n  })\n}\n\nconst createFoundationPiles = (pileKeys) => {\n  return createEmptyPiles(pileKeys)\n}\n\nconst createTableauPilesFromDeck = (deck, pileKeys) => {\n  let klondikeDeal = pileKeys.map((_, i) => {\n    const cards = getCardsFromDeck(deck, i + 1);\n    return setLastIsFaceUp(cards);\n  });\n\n  let indexCounter = 1;\n  while(deck.length > 0) {\n    const dealtCard = deck.pop(); \n    klondikeDeal[indexCounter].push({...dealtCard, isFaceUp: true });\n    indexCounter = (indexCounter % (klondikeDeal.length - 1)) + 1\n  }\n\n  return arrayToObject(pileKeys, klondikeDeal);\n}\n\nconst allowFoundationDrop = (cardsToBeMoved, destPile) => {\n  const cardToBeMoved = cardsToBeMoved[0];\n\n  if (cardsToBeMoved.length > 1) {\n    return false;\n  }\n\n  if(cardToBeMoved.value === 1 && !destPile.length) {\n    return true;\n  }\n\n  if (destPile.length) {\n    const lastCardInPile = getLastCardInPile(destPile);\n\n    const isSameSuite = lastCardInPile.suite === cardToBeMoved.suite;\n    const isRightValue = lastCardInPile.value === (cardToBeMoved.value - 1);\n\n    if(isSameSuite && isRightValue ) {\n      return true;\n    };\n  }\n\n  return false;\n}\n\n\nconst allowDropTableau = (cardsToBeMoved, destinationPile) => {\n  if (destinationPile.length === 0) {\n    return true;\n  }\n\n  const lastCardInPile = getLastCardInPile(destinationPile);\n\n  const firstCardToBeMoved = cardsToBeMoved[0];\n  const isOppositeColor = lastCardInPile.color !== firstCardToBeMoved.color;\n  const isRightValue = lastCardInPile.value === firstCardToBeMoved.value + 1;\n\n  return lastCardInPile.isFaceUp && isOppositeColor && isRightValue;\n};\n\nconst foundationDropHandler = (state, dropData, dragData) => {\n  return cardDropHandler(state, dropData, dragData, allowFoundationDrop);\n}\n\nconst tableauDropHandler = (state, dropData, dragData) => {\n  return cardDropHandler(state, dropData, dragData, allowDropTableau);\n}\n\nconst checkHasWon = (state) => {\n  return {\n    ...state,\n    hasWon: foundationPilesKeys.reduce((mem, pileKey) => {\n      const pile = state[pileKey];\n      return mem && pile.length === 13;\n    }, true)\n  }\n}\n\nconst init = () => {\n  let deck = shuffleArray(createDeck().flat());\n  const foundation = createFoundationPiles(foundationPilesKeys);\n  const tableauPiles = createTableauPilesFromDeck(deck, tableauPilesKeys);\n  return {\n    ...foundation,\n    ...tableauPiles,\n    hasWon: false,\n\n    tableauPilesKeys,\n    foundationPilesKeys,\n  };\n}\n\nconst yukonReducer = (state = init(), action) => {\n  switch (action.type) {\n    case 'RE_DEAL':\n      return init();\n    case 'YUKON_DROP_FOUNDATION':\n      return checkHasWon(foundationDropHandler(state, action.payload.dropData, action.payload.dragData))\n    case 'YUKON_DROP_TABLEAU':\n      return tableauDropHandler(state, action.payload.dropData, action.payload.dragData)\n    default:\n      return state;\n  }\n};\n\nexport default undoable(yukonReducer);","import { combineReducers } from 'redux'\nimport klondikeReducer from './klondikeReducer';\nimport spiderReducer from './spiderReducer';\nimport yukonReducer from './yukonReducer';\n\nconst solitaireApp = combineReducers({\n  klondike: klondikeReducer,\n  spider: spiderReducer,\n  yukon: yukonReducer,\n});\n\nexport default solitaireApp","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux'\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nimport './index.css';\n\nimport App from './App';\nimport rootReducer from './reducers';\n// import SpiderMoveToFoundation from './reducers/states/SpiderMoveToFoundation';\n\nimport * as serviceWorker from './serviceWorker';\n\nconst initialState = {};\nconst store = createStore(rootReducer, initialState, composeWithDevTools())\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}