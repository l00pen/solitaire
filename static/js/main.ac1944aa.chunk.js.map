{"version":3,"sources":["Contexts/BreakpointProvider/index.js","Components/StyledComponents/Buttons/index.js","Components/Dashboard/index.js","Components/StyledComponents/ContentSection/index.js","Contexts/PileProvider/index.js","Components/Pile/index.js","Components/Card/index.js","Components/PileStock/index.js","Components/PileFoundation/index.js","Components/PileTableau/index.js","Components/Games/Spider/index.js","Components/PileWaste/index.js","Components/Games/Klondike/index.js","Components/Games/Yukon/index.js","reducers/yatzy/selectors/index.js","Components/YatzyDashboard/index.js","Components/Games/Yatzy/index.js","Components/StyledComponents/Select/index.js","Components/App/index.js","reducers/undoable.js","utils/spades.js","utils/diamonds.js","utils/hearts.js","utils/clubs.js","utils/index.js","reducers/klondikeReducer.js","reducers/spiderReducer.js","reducers/yukonReducer.js","reducers/yatzy/dices.js","reducers/yatzy/protocol.js","reducers/yatzy/highscore.js","reducers/yatzy/index.js","reducers/index.js","serviceWorker.js","index.js"],"names":["defaultValue","BreakpointContext","createContext","BreakpointProvider","children","queries","defaultTofirstIndexQuery","Object","keys","reduce","acc","media","index","useState","queryMatch","setQueryMatch","useEffect","mediaQueryLists","isAttached","handleQueryListener","updatedMatches","matches","window","matchMedia","forEach","addListener","removeListener","Provider","value","ButtonStylesWhenError","css","ButtonStylesWhenSuccessful","Button","styled","button","props","theme","primaryColor","primaryTextColor","padding","borderRadius","ButtonStyled","hover","primaryEnhancer","error","success","ButtonPrimaryAction","ButtonSecondaryAction","secondaryColor","ButtonList","div","breakpoints","l","DashboardStyled","section","Dashboard","undo","redeal","onClick","ContentSection","GameTop","PileContext","React","PileGroup","PileWrapper","Pile","pile","parentRef","useRef","height","setHeight","width","setWidth","current","offsetHeight","offsetWidth","ref","CardFilling","color","CardFillingSmall","containerWidth","Value","SuiteSmall","SuiteLarge","CardOuter","CardContainer","Image","CardInner","CardInnerFaceDown","CardInnerEmpty","CardWrapper","CardFaceUp","id","suite","label","suiteSymbol","moreProps","idValue","match","Consumer","CardFaceDown","CardEmpty","CardDroppable","data","dropHandler","onDragOver","ev","preventDefault","onDrop","dataFromTransfer","dataTransfer","getData","JSON","parse","Children","map","child","cloneElement","CardDraggable","console","log","onDragStart","setData","stringify","setDragImage","currentTarget","stopPropagation","CardToggleFaceUp","isFaceUp","PileStock","reRunDeck","comp","length","card","PileFoundationDropppable","pileId","cardComponent","destinationPile","PileFoundation","SubPile","cardIndex","topHeightOffset","PileTableau","pileKey","lastCardInPile","lastCardInPileIndex","pileComponents","renderPile","list","rest","dragAndDropData","cardIndexInPile","sourcePile","cardList","draggable","connect","state","game","spider","present","foundationPilesKeys","tableauPilesKeys","dispatch","type","stockClickHandler","payload","tableauClickHandler","tableauDropHandler","context","useContext","Error","useBreakpoint","onDropTableau","dropData","dragData","onClickTableau","clickData","hasWon","smBP","find","key","nrOfPiles","Math","max","gapSize","columns","gap","stock","PileWaste","clickAndDragData","Grid","nrOfColumns","GridItem","column","row","klondike","wasteClickHandler","foundationDropHandler","onDropFoundation","i","style","gridColumn","waste","yukon","Fragment","getProtocol","protocol","getCurrentRoundCombination","createSelector","dices","cb","getBonus","total","isUsed","UPPER_SECTION","mem","isValid","currentSum","getCurrentProtocol","combintationHelper","bonus","item","used","valid","sum","getTotal","currentItem","getIsGameFinished","yatzyState","yatzyReducer","userReducer","userState","yatzy","highScore","gameFinished","userName","name","onNewGameClick","gameFinishedHandler","score","DiceBoard","Dice","Wrapper","Container","Protocol","ProtocolKey","ProtocolValue","rollDices","toggleDice","setProtocolItemSum","protocolItem","availableRolls","diceClickHandler","onProtocolValueClick","obj","bind","disabled","shouldReRoll","dangerouslySetInnerHTML","__html","Select","select","Option","option","xs","sm","md","or","GAMES","YUKON","KLONDIKE","SPIDER","YATZY","getSelectedGameComponent","baseSize","GlobalStyle","createGlobalStyle","Game","GameSection","selectedGame","setSelectedGame","selectedGameComponent","onChange","e","target","values","undoable","reducer","initialState","past","undefined","future","action","previous","newPast","slice","next","newFuture","newPresent","spades","diamonds","hearts","clubs","shuffleArray","array","temporaryValue","randomIndex","currentIndex","floor","random","setLastIsFaceUp","cards","reverse","last","allCards","setFaceIsUp","moveToPile","concat","moveFromPile","cardSourceIndex","p1","moved","grabCardsToBeMoved","remain","moveCardsBetweenPilesInState","cardIndexAtSource","sourcePileKey","destPileKey","newDestination","cardDropHandler","allowDropHandler","getLastCardInPile","createArrayWithKeys","keyName","nr","Array","fill","createEmptyPiles","piles","getCardsFromDeck","deck","nrOfCards","counter","min","push","pop","everyCardIsSameSuite","every","arrayToObject","init","flat","pileKeys","pilesWithCards","_","createTableauPilesFromDeck","checkHasWon","allowedFoundationPiles","filter","allowFoundationDrop","allowedTableauPiles","allowDropTableau","allowedPiles","allowedPile","cardsToBeMoved","destPile","cardToBeMoved","isSameSuite","isRightValue","firstCardToBeMoved","isOppositeColor","newStock","numberOfcards","cardsAtIndex","newTableau","tableauId","allIsSpades","moveToFoundationPile","potentialMove","prevCard","findIndex","foundationToMoveTo","findFirstAvailableFoundation","afterClickState","afterDropState","foundation","tableauPiles","klondikeDeal","indexCounter","dealtCard","rollDice","dice","toggleDiceRoll","initialDiceState","XOfAKindClass","nrOfKind","this","faceIndex","diceCount","getFaceValue","TwoPairs","combos","pairOfSame","pairArray","idx","SmallStraight","n","LargeStraight","FullHouse","hasFoundThree","hasFoundTwo","reduceRight","idx1","idx2","UpperSectionClass","faceValue","diceIndex","ones","twos","threes","fours","fives","sixes","onePair","twoPairs","threeOfAKind","fourOfAKind","smallStraight","largeStraight","fullHouse","chance","highscore","localState","localStorage","getItem","tmp","newHighscore","sort","a","b","setItem","combineReducers","solitaireApp","klondikeReducer","spiderReducer","yukonReducer","Boolean","location","hostname","store","createStore","rootReducer","composeWithDevTools","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ac1944aa.chunk.js","sourcesContent":["import React, {\n  useState,\n  useEffect,\n  createContext,\n  useContext} from 'react';\n\nconst defaultValue = {}\n\nconst BreakpointContext = createContext(defaultValue);\n\nconst BreakpointProvider = ({children, queries}) => {\n  const defaultTofirstIndexQuery = Object.keys(queries).reduce((acc, media, index) => {\n    acc[media] = !index;\n    return acc;\n  }, {})\n  const [queryMatch, setQueryMatch] = useState(defaultTofirstIndexQuery);\n\n  useEffect(() => {\n    const mediaQueryLists = {};\n    const keys = Object.keys(queries);\n    let isAttached = false;\n\n    const handleQueryListener = () => {\n      const updatedMatches = keys.reduce((acc, media) => {\n        acc[media] = !!(mediaQueryLists[media] && mediaQueryLists[media].matches);\n        return acc;\n      }, {})\n      setQueryMatch(updatedMatches)\n    }\n\n    if (window && window.matchMedia) {\n      const matches = {};\n      keys.forEach(media => {\n        if (typeof queries[media] === 'string') {\n          mediaQueryLists[media] = window.matchMedia(queries[media]);\n          matches[media] = mediaQueryLists[media].matches\n        } else {\n          matches[media] = false\n        }\n      });\n      setQueryMatch(matches);\n      isAttached = true;\n      keys.forEach(media => {\n        if(typeof queries[media] === 'string') {\n          mediaQueryLists[media].addListener(handleQueryListener)\n        }\n      });\n    }\n\n    return () => {\n      if(isAttached) {\n        keys.forEach(media => {\n          if(typeof queries[media] === 'string') {\n            mediaQueryLists[media].removeListener(handleQueryListener)\n          }\n        });\n      }\n    }\n  }, [queries]);\n\n  return (\n    <BreakpointContext.Provider value={queryMatch}>\n      {children}\n    </BreakpointContext.Provider>\n  )\n\n}\n\nfunction useBreakpoint() {\n  const context = useContext(BreakpointContext);\n  if(context === defaultValue) {\n    throw new Error('useBreakpoint must be used within BreakpointProvider');\n  }\n  return context;\n}\nexport {useBreakpoint, BreakpointProvider};","import styled, { css } from 'styled-components/macro';\n\nconst ButtonStylesWhenError = css`\n  background-color: red;\n  transition: all 0.5s ease-in;\n`;\n\nconst ButtonStylesWhenSuccessful = css`\n  background-color: green;\n  transition: all 0.5s ease-in;\n`;\n\nconst Button = styled.button`\n  border: none;\n  background-color: ${props => props.theme.primaryColor};\n  color: ${props => props.theme.primaryTextColor};\n  padding: ${props => props.theme.padding}rem;\n  border-radius: ${props => props.theme.borderRadius || 1}rem;\n  width: inherit;\n  transition: width 1s ease-in 0.3s;\n  cursor: pointer;\n  box-sizing: border-box;\n  font-size: inherit;\n  line-height: 1;\n  text-transform: uppercase;\n  text-align: center;\n  \n  &:focus {\n    outline: none;\n  }\n`;\n\nconst ButtonStyled = styled(Button)`\n  background-color: ${(props) => (props.hover ? props.theme.primaryEnhancer : props.theme.primaryColor)};\n\n  ${props => props.error ? ButtonStylesWhenError : ''}\n  ${props => props.success ? ButtonStylesWhenSuccessful : ''}\n`;\n\nconst ButtonStyledFullWidth = styled(ButtonStyled)`\n  width: 100%;\n`;\n\nconst ButtonPrimaryAction = styled(Button)`\n  &:hover {\n    background-color: ${props => props.theme.primaryEnhancer};\n  }\n`;\n\nconst ButtonSecondaryAction = styled(Button)`\n  background-color: transparent;\n  border: 0.06rem solid ${props => props.theme.secondaryColor};\n  color: ${props => props.theme.secondaryColor};\n\n  &:hover {\n    border-color: ${props => props.theme.primaryColor};\n    color: ${props => props.theme.primaryColor};\n  }\n`;\n\nconst ButtonTertiaryAction = styled(Button)`\n  background: none;\n  padding: 0;\n  text-align: left;\n  color: ${props => props.theme.primaryColor};\n`;\n\nconst ButtonList = styled.div`\n  display: flex;\n  \n  & > ${Button} {\n    margin: 0 0.125em 0 0;\n  }\n\n  & > ${Button}:last-child {\n    margin-right: 0;\n  }\n\n  @media ${(props) => props.theme.breakpoints.l} {\n    & > ${Button} {\n      margin: 0 0.5em 0 0;\n    }\n  }\n`;\n\nexport {\n  Button,\n  ButtonStyled,\n  ButtonStyledFullWidth,\n  ButtonPrimaryAction,\n  ButtonSecondaryAction,\n  ButtonTertiaryAction,\n  ButtonList,\n}","import React from 'react';\nimport styled from 'styled-components/macro';\n\nimport {\n  ButtonPrimaryAction,\n  ButtonSecondaryAction,\n  ButtonList,\n} from 'Components/StyledComponents/Buttons';\n\nconst DashboardStyled = styled.section`\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n\n  & > *:first-child {\n    flex: 2;\n  } \n\n  & > *:last-child {\n    flex: 1;\n  }\n`;\n\nconst Dashboard = ({undo, redeal}) => {\n  return (\n    <DashboardStyled>\n      <ButtonList>\n        <ButtonSecondaryAction onClick={undo}>Undo</ButtonSecondaryAction>\n        <ButtonPrimaryAction onClick={redeal}>New Deal</ButtonPrimaryAction>\n      </ButtonList>\n    </DashboardStyled>\n  );\n}\n\nexport default Dashboard;\n","import styled from 'styled-components/macro';\n\nconst ContentSection = styled.section`\n  background-color: rgba(255,255,255,0.7);\n  color: rgba(3,2,20,0.7);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex: 1 0 auto;\n  padding: 1em;\n`;\n\nexport const GameTop = styled.section`\n  margin: 1em 0;\n  width: 100%;\n  display: flex;\n\n  & > div {\n    flex: 1 1 0;\n  }\n`\n\nexport default ContentSection;","import React from 'react';\n\nconst PileContext = React.createContext({});\n\nexport default PileContext;","import React,{useEffect, useRef, useState} from 'react';\nimport styled from 'styled-components/macro';\n\nimport PileContext from '../../Contexts/PileProvider'\n\nexport const PileGroup = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  \n  & > * {\n    margin: 0 0.5em 0 0;\n  }\n\n  & > *:last-child {\n    margin-right: 0;\n  }\n`;\n\nconst PileWrapper = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n`\n\nexport const Pile = ({ pile, children }) => {\n  const parentRef   = useRef(null);\n  const [height, setHeight] = useState(0);\n  const [width, setWidth] = useState(0);\n\n  useEffect(() => {\n    if(parentRef.current) {        \n      setHeight(parentRef.current.offsetHeight);\n      setWidth(parentRef.current.offsetWidth);\n    }\n  }, [parentRef])\n\n  return(\n    <PileContext.Provider value={{...pile, width, height}}>\n      <PileWrapper ref={parentRef}>\n        {children}\n      </PileWrapper>\n    </PileContext.Provider>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components/macro';\nimport PileContext from '../../Contexts/PileProvider';\n\nconst CardFilling = styled.div`\n  position: absolute;\n  color: ${({ color }) => color};\n  line-height: 0.8;\n`;\n\nconst CardFillingSmall = styled(CardFilling)`\n  top: 0;\n  font-size: ${(props) => `${props.containerWidth * 0.54}px`};\n  letter-spacing: -0.1em;\n`\n\nconst Value = styled(CardFillingSmall)`\n  left: 0;\n`;\n\nconst SuiteSmall = styled(CardFillingSmall)`\n  right: 0.125em;\n`;\n\nconst SuiteLarge = styled(CardFilling)`\n  bottom: 0;\n  width: 100%;\n  font-size: ${(props) => `${props.containerWidth}px`};\n`;\n\nexport const CardOuter = styled.div`\n  text-align:center;\n  width: 100%;\n`\nexport const CardContainer = styled.div`\n  padding-top: 150%;\n  position: relative;\n  width: 100%;\n`\nexport const Image = styled.div`\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  margin: auto;\n  max-height: 100%;\n  max-width: 100%;\n  position: absolute;\n`\nconst CardInner = styled(Image)`\n  border: 1px solid papayawhip;\n  border-radius: 3px;\n  background-color: white;\n`;\n\nconst CardInnerFaceDown = styled(CardInner)`\n  background-color: pink;\n`\n\nconst CardInnerEmpty = styled(CardInner)`\n  background-color: transparent;\n`\n\nconst CardWrapper = ({children, ...props }) => (\n  <CardOuter {...props}>\n    <CardContainer>\n      {children}\n    </CardContainer>\n  </CardOuter>\n)\n\nconst CardFaceUp = (props) => {\n  const { id, color, label, suite, suiteSymbol, onClick, ...moreProps } = props\n  const newId = id.match(/[a-z]+|[^a-z]+/gi);\n\n  let idValue = newId[1];\n  if (idValue === '1') {\n    idValue = 'A';\n  }\n\n  if (idValue === '13') {\n    idValue = 'K';\n  }\n\n  if (idValue === '12') {\n    idValue = 'Q';\n  }\n\n  if (idValue === '11') {\n    idValue = 'J';\n  }\n\n  return (\n    <PileContext.Consumer>\n      { value => {\n        return (\n          <CardWrapper suite={suite} onClick={onClick} {...moreProps}>\n            <CardInner>\n              <Value color={color} containerWidth={value.width}>{idValue}</Value>\n              <SuiteSmall color={color} containerWidth={value.width}>{suiteSymbol}</SuiteSmall>\n              <SuiteLarge color={color} containerWidth={value.width}>{suiteSymbol}</SuiteLarge>\n            </CardInner>\n          </CardWrapper>\n        )\n      }}\n    </PileContext.Consumer>\n  )\n}\n\nconst CardFaceDown = (props) => (\n  <CardWrapper {...props}>\n    <CardInnerFaceDown />\n  </CardWrapper>\n);\n\n\nconst CardEmpty = (props) => (\n  <CardWrapper {...props}>\n    <CardInnerEmpty />\n  </CardWrapper>\n);\n\nconst CardDroppable = ({ children, data, dropHandler, ...moreProps }) => {\n  const props = {\n    onDragOver: (ev) => {\n      ev.preventDefault();\n    },\n    onDrop: (ev) => {\n      ev.preventDefault();\n      const dataFromTransfer = ev.dataTransfer.getData(\"pip\");\n      dropHandler(data, JSON.parse(dataFromTransfer))\n    },\n    ...moreProps,\n  };\n\n  return React.Children.map(children, child => {\n    if (child) {\n      return React.cloneElement(child, props);\n    }\n  });\n};\n\nconst CardDraggable = ({ children, data, ...moreProps }) => {\n  console.log(moreProps)\n  const props = {\n    onDragStart: (ev) => {\n      ev.dataTransfer.setData(\"pip\", JSON.stringify(data));\n      ev.dataTransfer.setDragImage(ev.currentTarget, 50, 15);\n      ev.stopPropagation();\n    },\n    ...moreProps,\n  };\n\n  return React.Children.map(children, child => {\n    if (child) {\n      return React.cloneElement(child, props);\n    }\n  });\n};\n\nconst CardToggleFaceUp = ({ label, suite, isFaceUp, onClick, ...props }) => {\n  if (isFaceUp) {\n    return (\n      <CardFaceUp\n        suite={suite}\n        label={label}\n        onClick={onClick}\n        {...props}\n      />\n    );\n  }\n  return <CardFaceDown />;\n}\n\nexport {\n  CardFaceUp,\n  CardFaceDown,\n  CardEmpty,\n  CardDroppable,\n  CardDraggable,\n  CardToggleFaceUp\n};\n","import React from 'react';\n\nimport { Pile } from 'Components/Pile'\nimport { CardFaceDown, CardEmpty } from 'Components/Card';\n\nconst PileStock = ({ pile, onClick, reRunDeck }) => {\n  let comp = <CardEmpty onClick={reRunDeck} />\n  if (pile.length > 0) {\n    comp = <CardFaceDown onClick={() => onClick({ card: pile[0] })} />\n  }\n  return (\n    <Pile>\n      {comp}\n    </Pile>\n  );\n}\n\nexport default PileStock;\n","import React from 'react';\n\nimport { Pile } from 'Components/Pile'\nimport { CardFaceUp, CardDroppable, CardEmpty } from 'Components/Card';\n\nexport const PileFoundationDropppable = ({ pile, pileId, onDrop }) => {\n  let cardComponent = null;\n  \n  if (pile.length === 0) {\n    cardComponent = <CardEmpty />\n  } else {\n    const card = pile[pile.length - 1];\n    cardComponent = <CardFaceUp {...card} />\n  }\n\n  return (\n    <Pile>\n      <CardDroppable\n        data={{ destinationPile: pileId }}\n        dropHandler={onDrop}\n      >\n        {cardComponent}\n      </CardDroppable>\n    </Pile>\n  )\n}\n\nconst PileFoundation = ({ pile, pileId }) => {\n  let comp = <CardEmpty />\n  if (pile.length > 0) {\n    const card = pile[pile.length - 1];\n    comp = <CardFaceUp {...card} />;\n  }\n  return (\n    <Pile>\n      {comp}\n    </Pile>\n  );\n}\n\nexport default PileFoundation;\n","import React from 'react';\nimport styled from 'styled-components/macro';\n\nimport {Pile} from 'Components/Pile'\nimport {\n  CardDroppable,\n  CardDraggable,\n  CardToggleFaceUp,\n  CardEmpty,\n} from 'Components/Card';\n\nconst SubPile = styled.div`\n  position: absolute;\n  width: 100%;\n  top: ${(props) => props.cardIndex === 0 ? 0 : props.topHeightOffset}vw;\n`;\n\nconst renderPile = (list, cardIndex, pileKey, onDrop, onClick) => {\n  if (list.length === 0) {\n    return <CardEmpty />;\n  }\n\n  const [card, ...rest] = list;\n  const dragAndDropData = { card, cardIndexInPile: cardIndex, sourcePile: pileKey };\n  const topHeightOffset = 3;\n  const cardList = rest.length > 0 ? renderPile(rest, cardIndex + 1, pileKey, onDrop, onClick) : null;\n  return (\n    <SubPile cardIndex={cardIndex} topHeightOffset={topHeightOffset}>\n      <CardDraggable\n        data={dragAndDropData}\n        draggable={!!card.isFaceUp}\n      >\n        <CardToggleFaceUp {...card} onClick={() => onClick(dragAndDropData)} />\n        {cardList}\n      </CardDraggable>\n    </SubPile>\n  );\n}\n\nconst PileTableau = ({ pile, pileKey, onDrop, onClick }) => {\n  const lastCardInPile = pile.length > 0 ? pile[pile.length - 1] : {};\n  const lastCardInPileIndex = pile.length > 0 ? pile.length - 1 : 0;\n\n  const pileComponents = renderPile(pile, 0, pileKey, onDrop, onClick);\n\n  return (\n    <Pile pile={pile}>\n      <CardDroppable\n        data={{ card: lastCardInPile, cardIndex: lastCardInPileIndex, destinationPile: pileKey }}\n        dropHandler={onDrop}\n      >\n        {pileComponents}\n      </CardDroppable>\n    </Pile>\n  );\n}\n\nexport default PileTableau;\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport { Grid, Cell } from 'styled-css-grid';\n\nimport { useBreakpoint } from 'Contexts/BreakpointProvider'\n\nimport Dashboard from 'Components/Dashboard';\nimport ContentSection from 'Components/StyledComponents/ContentSection';\nimport PileStock from 'Components/PileStock';\nimport PileFoundation from 'Components/PileFoundation';\nimport PileTableau from 'Components/PileTableau';\n\nimport './styles.css';\n\nexport function Spider(props) {\n  const {\n    undo,\n    redeal,\n    game,\n    stockClickHandler,\n    tableauClickHandler,\n    tableauDropHandler,\n    foundationPilesKeys,\n    tableauPilesKeys,\n  } = props;\n\n  const breakpoints = useBreakpoint();\n\n  const onDropTableau = (dropData, dragData) => {\n    tableauDropHandler({ dropData, dragData })\n  }\n\n  const onStockClick = (clickData) => {\n    stockClickHandler(clickData);\n  }\n\n  const onClickTableau = (clickData) => {\n    tableauClickHandler(clickData)\n  }\n\n  if (game.hasWon) {\n    return (\n      <ContentSection>\n        CONGRATULATION YOU HAVE WON THE GAME\n      </ContentSection>\n    );\n  }\n\n  const smBP = Object.keys(breakpoints).find(key => breakpoints[key]);\n  const nrOfPiles = Math.max(tableauPilesKeys.length, foundationPilesKeys.length);\n\n  let gapSize = '8px';\n  if (smBP === 'xs') {\n    gapSize = '2px';\n  }\n\n  return (\n    <Grid columns={1}>\n      <Cell>\n        <section>\n          <Dashboard undo={undo} redeal={redeal} />\n        </section>\n      </Cell>\n      <Cell>\n        <Grid columns={nrOfPiles} gap={gapSize}>\n          {foundationPilesKeys.map((pileKey) => {\n            const pile = game[pileKey];\n            return (\n              <PileFoundation\n                key={pileKey}\n                pile={pile}\n                pileId={pileKey}\n              />\n            )\n          })}\n        </Grid>\n      </Cell>\n      <Cell>\n        <Grid columns={nrOfPiles} gap={gapSize}>\n          <PileStock\n            onClick={onStockClick}\n            pile={game.stock}\n          />\n        </Grid>\n      </Cell>\n      <Cell>\n        <Grid columns={nrOfPiles} gap={gapSize}>\n          {tableauPilesKeys.map((pileKey) => {\n            const pile = game[pileKey];\n            return (\n              <PileTableau\n                key={pileKey}\n                pile={pile}\n                pileKey={pileKey}\n                onDrop={onDropTableau}\n                onClick={onClickTableau}\n              />\n            )\n          })}\n        </Grid>\n      </Cell>\n    </Grid>\n  );\n}\n\nconst mapStateToProps = state => ({\n  game: state.spider.present,\n  foundationPilesKeys: state.spider.present.foundationPilesKeys,\n  tableauPilesKeys: state.spider.present.tableauPilesKeys,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  undo: () => dispatch({ type: 'UNDO' }),\n  redeal: () => dispatch({ type: 'RE_DEAL' }),\n  stockClickHandler: (payload) => dispatch({ type: 'SPIDER_CLICK_STOCK', payload }),\n  tableauClickHandler: (payload) => dispatch({ type: 'SPIDER_CLICK_TABLEAU', payload }),\n  tableauDropHandler: (payload) => dispatch({ type: 'SPIDER_DROP_TABLEAU', payload }),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Spider)\n","import React from 'react';\n\nimport { Pile } from 'Components/Pile'\nimport { CardFaceUp } from 'Components/Card';\nimport { CardDraggable, CardEmpty } from 'Components/Card';\n\nconst PileWaste = ({ pile, onClick }) => {\n  let comp = <CardEmpty />\n  if (pile.length > 0) {\n    const cardIndexInPile = pile.length - 1;\n    const card = pile[cardIndexInPile]\n    const clickAndDragData = { card, cardIndexInPile: cardIndexInPile, sourcePile: 'waste' };\n    comp = (\n      <CardDraggable\n        key={card.id}\n        data={clickAndDragData}\n        draggable={!!card.isFaceUp}\n      >\n        <CardFaceUp onClick={() => onClick(clickAndDragData)} {...card} />\n      </CardDraggable>\n    );\n  }\n\n  return (\n    <Pile>\n      {comp}\n    </Pile>\n  );\n}\n\nexport default PileWaste;\n","import React from 'react';\nimport { connect } from 'react-redux'\nimport styled from 'styled-components/macro';\nimport Dashboard from 'Components/Dashboard';\nimport ContentSection, { GameTop } from 'Components/StyledComponents/ContentSection';\nimport PileWaste from 'Components/PileWaste';\nimport PileStock from 'Components/PileStock';\nimport { PileFoundationDropppable } from 'Components/PileFoundation';\nimport PileTableau from 'Components/PileTableau';\nimport { PileGroup } from 'Components/Pile';\n\nconst Grid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(${({nrOfColumns}) => nrOfColumns}, 1fr)};\n  grid-gap: 2vw;\n  margin: 1vh 0;\n  grid-template-rows: 2;\n`\nconst GridFoundation = styled.div`\n  grid-column: 1 / 4;\n  grid-row: 1;\n`\n\nconst GridStockAndWaste = styled.div`\n  grid-column: 5 / 7;\n  grid-row: 1;\n`\n\nconst GridItem = styled.div`\n  grid-column: ${({ column }) => column};\n  grid-row: ${({ row }) => row};\n`\n\nfunction Klondike(props) {\n  const {\n    undo,\n    redeal,\n    game,\n    reRunDeck,\n    stockClickHandler,\n    foundationDropHandler,\n    tableauDropHandler,\n    tableauClickHandler,\n    wasteClickHandler\n  } = props;\n  const { tableauPilesKeys, foundationPilesKeys } = game;\n\n  if (game.hasWon) {\n    return (\n      <ContentSection>\n        CONGRATULATION YOU HAVE WON THE GAME\n      </ContentSection>\n    );\n  }\n\n  const onDropTableau = (dropData, dragData) => {\n    tableauDropHandler({ dropData, dragData });\n  }\n\n  const onDropFoundation = (dropData, dragData) => {\n    foundationDropHandler({ dropData, dragData })\n  }\n\n  const onStockClick = (clickData) => {\n    stockClickHandler(clickData);\n  }\n\n  const onClickTableau = (clickData) => {\n    tableauClickHandler(clickData);\n  }\n\n  const stockAndWaste = 2;\n  const nrOfPiles = Math.max(tableauPilesKeys.length, foundationPilesKeys.length + stockAndWaste);\n  return (\n    <div>\n      <section>\n        <Dashboard undo={undo} redeal={redeal} />\n      </section>\n      <Grid nrOfColumns={nrOfPiles}>\n        {foundationPilesKeys.map((pileKey, i) => {\n          const pile = game[pileKey];\n          return (\n            <GridItem column={i + 1} key={pileKey}>\n              <PileFoundationDropppable\n                pile={pile}\n                pileId={pileKey}\n                onDrop={onDropFoundation}\n              />\n            </GridItem>\n          )\n        })}\n        <div style={{gridColumn: 6}}>\n          <PileWaste pile={game.waste} onClick={wasteClickHandler} />\n        </div>\n        <div style={{gridColumn: 7}}>\n          <PileStock\n            onClick={onStockClick}\n            pile={game.stock}\n            reRunDeck={reRunDeck}\n          />\n        </div>\n        {tableauPilesKeys.map((pileKey, i) => {\n          const pile = game[pileKey];\n          return (\n            <GridItem row={2} column={i + 1} key={pileKey}>\n              <PileTableau\n                key={pileKey}\n                pile={pile}\n                pileKey={pileKey}\n                onDrop={onDropTableau}\n                onClick={onClickTableau}\n              />\n            </GridItem>\n          )\n        })}\n      </Grid>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  game: state.klondike.present,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  undo: () => dispatch({ type: 'UNDO' }),\n  redeal: () => dispatch({ type: 'RE_DEAL' }),\n  reRunDeck: () => dispatch({ type: 'RE_RUN_DECK'}),\n  stockClickHandler: (payload) => dispatch({ type: 'CLICK_STOCK', payload }),\n  tableauClickHandler: (payload) => dispatch({ type: 'CLICK_TABLEAU', payload }),\n  wasteClickHandler: (payload) => dispatch({ type: 'CLICK_WASTE', payload }),\n  foundationDropHandler: (payload) => dispatch({ type: 'DROP_FOUNDATION', payload }),\n  tableauDropHandler: (payload) => dispatch({ type: 'DROP_TABLEAU', payload }),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Klondike)\n","import React from 'react';\nimport { connect } from 'react-redux'\n\nimport Dashboard from 'Components/Dashboard';\nimport ContentSection, { GameTop } from 'Components/StyledComponents/ContentSection';\nimport { PileFoundationDropppable } from 'Components/PileFoundation';\nimport PileTableau from 'Components/PileTableau';\nimport {PileGroup} from 'Components/Pile';\n\nfunction Yukon(props) {\n  const {\n    undo,\n    redeal,\n    game,\n    tableauDropHandler,\n    foundationDropHandler,\n    tableauClickHandler,\n    foundationPilesKeys,\n    tableauPilesKeys,\n  } = props;\n\n  const onDropFoundation = (dropData, dragData) => {\n    foundationDropHandler({ dropData, dragData })\n  }\n\n  const onDropTableau = (dropData, dragData) => {\n    tableauDropHandler({ dropData, dragData })\n  }\n\n  const onClickTableau = (clickData) => {\n    tableauClickHandler(clickData)\n  }\n\n  if (game.hasWon) {\n    return (\n      <ContentSection>\n        CONGRATULATION YOU HAVE WON THE GAME\n      </ContentSection>\n    );\n  }\n\n  return (\n    <React.Fragment>\n      <section>\n        <Dashboard undo={undo} redeal={redeal} />\n      </section>\n      <GameTop>\n        <PileGroup>\n          {foundationPilesKeys.map((pileKey) => {\n            const pile = game[pileKey];\n            return (\n              <PileFoundationDropppable\n                key={pileKey}\n                pile={pile}\n                pileId={pileKey}\n                onDrop={onDropFoundation}\n              />\n            )\n          })}\n        </PileGroup>\n      </GameTop>\n      <GameTop>\n        <PileGroup>\n          {tableauPilesKeys.map((pileKey) => {\n            const pile = game[pileKey];\n            return (\n              <PileTableau\n                key={pileKey}\n                pile={pile}\n                pileKey={pileKey}\n                onDrop={onDropTableau}\n                onClick={onClickTableau}\n              />\n            )\n          })}\n        </PileGroup>\n      </GameTop>\n    </React.Fragment>\n  );\n}\n\nconst mapStateToProps = state => ({\n  game: state.yukon.present,\n  foundationPilesKeys: state.yukon.present.foundationPilesKeys,\n  tableauPilesKeys: state.yukon.present.tableauPilesKeys,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  undo: () => dispatch({ type: 'UNDO' }),\n  redeal: () => dispatch({ type: 'RE_DEAL' }),\n  foundationDropHandler: (payload) => dispatch({ type: 'YUKON_DROP_FOUNDATION', payload }),\n  tableauDropHandler: (payload) => dispatch({ type: 'YUKON_DROP_TABLEAU', payload }),\n  tableauClickHandler: (payload) => dispatch({ type: 'YUKON_CLICK_TABLEAU', payload }),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Yukon)\n","import { createSelector } from 'reselect';\n\nconst getDices = (state) => {\n  return state.dices\n};\n\nconst getProtocol = (state) => {\n  return state.protocol\n};\n\nconst getCurrentRoundCombination = createSelector(\n  [getDices],\n  (dices) => {\n    const cb = [0, 0, 0, 0, 0, 0];\n    dices.forEach(({ value }) => {\n      ++cb[value];\n    });\n    return cb;\n  }\n);\n\nconst getBonus = createSelector([getProtocol], (protocol, state) => {\n  let total = 0;\n  let isUsed = false;\n  const UPPER_SECTION = [\n    'ones',\n    'twos',\n    'threes',\n    'fours',\n    'fives',\n    'sixes',\n  ];\n\n  const currentTotal = UPPER_SECTION.reduce((mem, key) => {\n    return mem + protocol[key].total;\n  }, 0);\n\n  const allUpperHaveBeenUsed = UPPER_SECTION.reduce((mem, key) => {\n    return mem && protocol[key].isUsed;\n  }, true);\n\n  if (currentTotal >= 63 ) {\n    total = 50;\n  }\n\n  if (allUpperHaveBeenUsed) {\n    isUsed = true;\n  }\n\n  return {\n    label: 'bonus',\n    isUsed,\n    isValid: false,\n    total,\n    currentSum: 0,\n  };\n})\n\n\nconst getCurrentProtocol = createSelector([getCurrentRoundCombination, getBonus, getProtocol], (combintationHelper, bonus, state) => {\n  return Object.keys(state).map(key => {\n    if (key === 'bonus') {\n      return bonus;\n    };\n    const item = state[key];\n    if (!item.used) {\n      return {\n        ...item,\n        label: key,\n        isValid: item.valid(combintationHelper),\n        currentSum: item.sum(combintationHelper),\n      };\n    }\n    return {\n      ...item,\n      label: key,\n    };\n  })\n});\n\nconst getTotal = createSelector([getCurrentProtocol], (state) => {\n  return state.reduce((sum, currentItem) => {\n    return sum + currentItem.total;\n  }, 0);\n});\n\nconst getIsGameFinished = createSelector([getCurrentProtocol], (protocol) => {\n  return protocol.reduce((mem, { isUsed }) => {\n    return mem && isUsed;\n  }, true);\n});\n\nexport {\n  getCurrentRoundCombination,\n  getCurrentProtocol,\n  getTotal,\n  getBonus,\n  getIsGameFinished,\n}\n","import React, {useEffect} from 'react';\nimport styled from 'styled-components/macro'\nimport { connect } from 'react-redux';\nimport { ButtonPrimaryAction } from 'Components/StyledComponents/Buttons';\n\nimport {\n  getTotal,\n  getIsGameFinished,\n} from 'reducers/yatzy/selectors';\n\nconst Dashboard = styled.div`\n  background: gold;\n  padding: 1em;\n  margin-bottom: 1em;\n\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst YatzyDashboard = ({\n  total,\n  onNewGameClick,\n  highScore,\n  gameFinished,\n  gameFinishedHandler,\n  userName,\n}) => {\n  const newGameHandler = () => {\n    onNewGameClick();\n  }\n\n  useEffect(() => {\n    if (gameFinished) {\n      gameFinishedHandler(total, userName);\n    }\n  }, [gameFinished, gameFinishedHandler, total, userName]);\n\n  return (\n    <Dashboard>\n      <div>\n        <div>{`Total: ${total}`}</div>\n        <ButtonPrimaryAction onClick={newGameHandler}>New game</ButtonPrimaryAction>\n      </div>\n      <div>\n        {`Current highScore: `}\n        {highScore.map(({score, userName}, i) => (\n          <div key={`${userName}${i}`}>{`${userName}: ${score}`}</div>\n        ))}\n      </div>\n    </Dashboard>\n  );\n}\n\nconst mapStateToProps = ({ yatzyReducer: yatzyState, userReducer: userState = {} }) => {\n  return {\n    ...yatzyState,\n    ...yatzyState.yatzy,\n    highScore: yatzyState.highScore,\n    total: getTotal(yatzyState),\n    gameFinished: getIsGameFinished(yatzyState),\n    userName: userState.name || 'Navn Ukjent',\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onNewGameClick: () => {\n      dispatch({\n        type: 'YATZY_NEW_GAME',\n      })\n    },\n    gameFinishedHandler: (total, userName) => {\n      dispatch({\n        type: 'YATZY_GAME_FINISHED',\n        data: {\n          total,\n          userName,\n        }\n      })\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(YatzyDashboard);","import React from 'react';\nimport { connect } from 'react-redux';\nimport styled from 'styled-components/macro'\n\nimport YatzyDashboard from 'Components/YatzyDashboard';\nimport { Button } from 'Components/StyledComponents/Buttons';\n\nimport {\n  getCurrentRoundCombination,\n  getCurrentProtocol,\n  getTotal,\n  getIsGameFinished,\n} from 'reducers/yatzy/selectors';\n\nconst DiceBoard = styled.div`\n  display: flex;\n`;\n\nconst Dice = styled.div`\n  font-size: 5rem;\n  cursor: pointer;\n`;\n\nconst Wrapper = styled.div`\n  flex: 2;\n  margin-left: 1em;\n`;\n\nconst Container = styled.div`\n  font-size: 1em;\n  padding: 1em;\n  background-color: white;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst Protocol = styled.div`\n  display: grid;\n  grid-template-columns: auto 50px;\n  border: 1px solid #000;\n  grid-gap: 1px;\n`;\n\nconst ProtocolKey = styled.div`\n  border: 1px solid aliceblue;\n  padding: 0.5em;\n  grid-column-start: 1;\n  align-self: center;\n  text-transform: capitalize;\n`;\n\nconst ProtocolValue = styled.div`\n  padding: 0.5em;\n  border: 1px solid aliceblue;\n  grid-column-start: 2;\n  text-align: end;\n  align-self: center;\n  cursor: ${props => props.isUsed ? 'auto' : 'pointer' };\n  background: ${props => props.isUsed ? 'aliceblue' : props.isValid ? 'papayawhip' : 'white' };\n`;\n\nconst Yatzy = ({\n    total,\n    dices,\n    rollDices,\n    availableRolls,\n    toggleDice,\n    combintationHelper,\n    setProtocolItemSum,\n    protocol,\n    highScore,\n    gameFinished,\n  }) => {  \n\n  const diceClickHandler = (id) => toggleDice(id);\n  const onProtocolValueClick = (obj) => {\n    if (obj.label !== 'bonus') {\n      setProtocolItemSum(obj);\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <YatzyDashboard />\n      <Container>\n        <Protocol>\n          { protocol.map((obj) => {\n            return (\n              <React.Fragment key={obj.label}>\n                <ProtocolKey>{`${obj.label}: `}</ProtocolKey>\n                <ProtocolValue\n                  onClick={onProtocolValueClick.bind(this, obj)}\n                  isUsed={obj.isUsed}\n                  isValid={obj.currentSum > 0}\n                  disabled={obj.label === 'bonus'}\n                >\n                  {obj.isUsed ? `${obj.total}` : `${obj.currentSum}`}\n                </ProtocolValue>\n              </React.Fragment>\n            );\n          })}\n        </Protocol>\n        <Wrapper>\n          <div>\n            <div>\n              <Button onClick={rollDices} disabled={availableRolls === 0}>Roll Dices</Button>\n              <p>Rolls left: {availableRolls}</p>\n            </div>\n          </div>\n          <DiceBoard>\n            { dices.map(({ id, value, shouldReRoll }, i) => (\n              <Dice\n                style={{ color: shouldReRoll ? 'black' : 'cyan'}}\n                key={`dice-${id}`}\n                onClick={diceClickHandler.bind(this, id)}\n                dangerouslySetInnerHTML={{ __html: `&#x268${value}`}}\n              />\n            ))}\n          </DiceBoard>\n          { gameFinished &&\n            <div>\n              {`Game finished with a total of: ${total}`}\n            </div>\n          }\n        </Wrapper>\n      </Container>\n    </React.Fragment>\n  );\n}\n\nconst mapStateToProps = ({ yatzyReducer: state}) => {\n  return {\n    ...state,\n    ...state.yatzy,\n    ...state.highScore,\n    combintationHelper: getCurrentRoundCombination(state),\n    protocol: getCurrentProtocol(state),\n    total: getTotal(state),\n    gameFinished: getIsGameFinished(state),\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    rollDices: () => {\n      dispatch({\n        type: 'YATZY_ROLL_DICES'\n      })\n    },\n    toggleDice: (id) => {\n      dispatch({\n        type: 'YATZY_TOGGLE_DICE',\n        data: {\n          id,\n        }\n      })\n    },\n    setProtocolItemSum: (protocolItem) => {\n      dispatch({\n        type: 'YATZY_SET_PROTOCOL_ITEM_SUM',\n        data: { ...protocolItem }\n      });\n    },\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Yatzy);","import styled from 'styled-components/macro';\n\nconst Select = styled.select`\n  display: block;\n  margin: 0;\n \n  box-shadow: 0 1px 0 1px rgba(0,0,0,.04);\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  appearance: none;\n  background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');\n  background-repeat: no-repeat, repeat;\n  background-position: right .7em top 50%, 0 0;\n  background-size: .65em auto, 100%;\n\n\n  background-color: transparent;\n  padding: ${props => props.theme.padding}rem;\n  border-radius: ${props => props.theme.borderRadius || 1}rem;\n  width: inherit;\n  transition: width 1s ease-in 0.3s;\n  cursor: pointer;\n  box-sizing: border-box;\n  font-size: inherit;\n  line-height: 1;\n  text-transform: uppercase;\n  text-align: center;\n\n  border: 0.06rem solid ${props => props.theme.secondaryColor};\n  color: ${props => props.theme.secondaryColor};\n\n  &:hover {\n    border-color: ${props => props.theme.primaryColor};\n    color: ${props => props.theme.primaryColor};\n  }\n\n  &:focus {\n    border-color: #aaa;\n    box-shadow: 0 0 1px 3px rgba(59, 153, 252, .7);\n    box-shadow: 0 0 0 3px -moz-mac-focusring;\n    color: #222;\n    outline: none;\n\n    border-color: ${props => props.theme.primaryColor};\n    color: ${props => props.theme.primaryColor};\n  }\n  \n  & > option {\n    font-weight:normal;\n  }\n`;\n\nconst Option = styled.option`\n  text-transform: capitalize;\n`\n\nexport {\n  Select,\n  Option,\n}","import React, {useState} from 'react';\nimport { connect } from 'react-redux'\nimport styled, { ThemeProvider, createGlobalStyle } from 'styled-components/macro';\n\nimport {BreakpointProvider} from 'Contexts/BreakpointProvider'\n\nimport Spider from 'Components/Games/Spider';\nimport Klondike from 'Components/Games/Klondike';\nimport Yukon from 'Components/Games/Yukon';\nimport Yatzy from 'Components/Games/Yatzy';\nimport { Select, Option } from 'Components/StyledComponents/Select';\n\nconst queries = {\n  xs: '(max-width: 320px)',\n  sm: '(max-width: 720px)',\n  md: '(max-width: 1024px)',\n  l: '(min-width: 1024px)',\n  or: '(orientation: portrait)', // we can check orientation also\n}\n\nconst GAMES = {\n  YUKON: 'yukon',\n  KLONDIKE: 'klondike',\n  SPIDER: 'spider',\n  YATZY: 'yatzy',\n}\n\nconst getSelectedGameComponent = (game) => {\n  switch(game) {\n    case GAMES.KLONDIKE:\n      return <Klondike />;\n    case GAMES.SPIDER:\n      return <Spider />;\n    case GAMES.YUKON:\n      return <Yukon />;\n    case GAMES.YATZY:\n      return <Yatzy />;\n    default:\n      return <div>No valid game selected</div>;\n  }\n}\n\nconst theme = {\n  secondaryColor: \"#fefefe\",\n  primaryColor: \"#40b4de\",\n  primaryTextColor: '#0a3458',\n  borderRadius: 0.125,\n  baseSize: 1.75,\n  padding: 0.5,\n  breakpoints: queries,\n};\n\nconst GlobalStyle = createGlobalStyle`\n  html {\n    font-size: 16px;\n  }\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\",\n      \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\",\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    background-color: #282c34;\n  }\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",\n      monospace;\n  }\n  svg {\n    width: 100%;\n  }\n`;\n\nconst Game = styled.div`\n  text-align: center;\n  height: 100vh;\n`;\n\nconst Dashboard = styled.div`\n  display: flex;\n  margin: 1em 0.25em;\n\n  @media ${(props) => props.theme.breakpoints.l} {\n    width: 50%;\n    margin: 1em auto;\n    align-items: center;\n  }\n`\nconst GameSection = styled.div`\n  display: inline-block;\n  margin: 0 0.25em;\n  width: 100%;\n  @media ${(props) => props.theme.breakpoints.l} {\n    width: 50%;\n    margin: 0 auto;\n  }\n`\n\nfunction App(props) {\n  const [selectedGame, setSelectedGame] = useState(GAMES.KLONDIKE);\n\n  const selectedGameComponent = getSelectedGameComponent(selectedGame);\n\n  return (\n    <BreakpointProvider queries={queries}>\n      <ThemeProvider theme={theme}>\n        <GlobalStyle />\n        <Game>\n          <Dashboard>\n            <Select\n              value={selectedGame}\n              onChange={e => setSelectedGame(e.target.value)}\n            >\n              {Object.values(GAMES).map((game) => (\n                <Option key={game} value={game}>\n                  {game}\n                </Option>\n              ))}\n            </Select>\n          </Dashboard>\n          <GameSection>\n            {selectedGameComponent}\n          </GameSection>\n        </Game>\n      </ThemeProvider>\n    </BreakpointProvider>\n  );\n}\n\nconst mapStateToProps = state => ({})\n\nconst mapDispatchToProps = dispatch => ({})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App)\n","function undoable(reducer) {\n  // Call the reducer with empty action to populate the initial state\n  const initialState = {\n    past: [],\n    present: reducer(undefined, {}),\n    future: []\n  }\n  // Return a reducer that handles undo and redo\n  return function(state = initialState, action) {\n    const { past, present, future } = state\n    switch (action.type) {\n      case 'UNDO':\n        if (past.length) {\n          const previous = past[past.length - 1]\n          const newPast = past.slice(0, past.length - 1)\n          return {\n            past: newPast,\n            present: previous,\n            future: [present, ...future]\n          }\n        }\n        return state;\n      case 'REDO':\n        const next = future[0]\n        const newFuture = future.slice(1)\n        return {\n          past: [...past, present],\n          present: next,\n          future: newFuture\n        }\n      default:\n        // Delegate handling the action to the passed reducer\n        const newPresent = reducer(present, action)\n        if (present === newPresent) {\n          return state\n        }\n        return {\n          past: [...past, present],\n          present: newPresent,\n          future: []\n        }\n    }\n  }\n}\n\nexport default undoable;\n","const spades = [\n{ \n  id: 's1',\n  label: '',\n  value: 1,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's13',\n  label: '',\n  value: 13,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's12',\n  label: '',\n  value: 12,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's11',\n  label: '',\n  value: 11,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's10',\n  label: '',\n  value: 10,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's9',\n  label: '',\n  value: 9,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's8',\n  label: '',\n  value: 8,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's7',\n  label: '',\n  value: 7,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's6',\n  label: '',\n  value: 6,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's5',\n  label: '',\n  value: 5,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's4',\n  label: '',\n  value: 4,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's3',\n  label: '',\n  value: 3,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n{ \n  id: 's2',\n  label: '',\n  value: 2,\n  suite: 'spades',\n  color: 'black',\n  isFaceUp: false,\n  suiteSymbol: '',\n},\n];\n\nexport default spades;","const diamonds = [\n  { \n    id: 'd1',\n    label: '',\n    value: 1,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd13',\n    label: '',\n    value: 13,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd12',\n    label: '',\n    value: 12,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd11',\n    label: '',\n    value: 11,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd10',\n    label: '',\n    value: 10,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd9',\n    label: '',\n    value: 9,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd8',\n    label: '',\n    value: 8,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd7',\n    label: '',\n    value: 7,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd6',\n    label: '',\n    value: 6,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd5',\n    label: '',\n    value: 5,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd4',\n    label: '',\n    value: 4,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd3',\n    label: '',\n    value: 3,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'd2',\n    label: '',\n    value: 2,\n    suite: 'diamonds',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n];\n\nexport default diamonds;","const hearts = [\n  {\n    id: 'h1',\n    label: '',\n    value: 1,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h13',\n    label: '',\n    value: 13,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h12',\n    label: '',\n    value: 12,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h11',\n    label: '',\n    value: 11,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h10',\n    label: '',\n    value: 10,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h9',\n    label: '',\n    value: 9,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h8',\n    label: '',\n    value: 8,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h7',\n    label: '',\n    value: 7,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h6',\n    label: '',\n    value: 6,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h5',\n    label: '',\n    value: 5,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h4',\n    label: '',\n    value: 4,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h3',\n    label: '',\n    value: 3,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  {\n    id: 'h2',\n    label: '',\n    value: 2,\n    suite: 'hearts',\n    color: 'red',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n];\n\nexport default hearts;","const clubs = [\n  { \n    id: 'c1',\n    label: '',\n    value: 1,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c13',\n    label: '',\n    value: 13,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c12',\n    label: '',\n    value: 12,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c11',\n    label: '',\n    value: 11,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c10',\n    label: '',\n    value: 10,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c9',\n    label: '',\n    value: 9,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c8',\n    label: '',\n    value: 8,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c7',\n    label: '',\n    value: 7,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c6',\n    label: '',\n    value: 6,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c5',\n    label: '',\n    value: 5,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c4',\n    label: '',\n    value: 4,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c3',\n    label: '',\n    value: 3,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  },\n  { \n    id: 'c2',\n    label: '',\n    value: 2,\n    suite: 'clubs',\n    color: 'black',\n    isFaceUp: false,\n    suiteSymbol: '',\n  }\n];\n\nexport default clubs;","import spades from './spades';\nimport diamonds from './diamonds';\nimport hearts from './hearts';\nimport clubs from './clubs';\n\nconst shuffleArray = (array) => {\n  var currentIndex = array.length, temporaryValue, randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\nconst setLastIsFaceUp = (cards) => {\n  if (cards.length === 0) {\n    return cards;\n  }\n\n  const reverseCards = [...cards];\n  const [last, ...allCards] = reverseCards.reverse();\n\n  return [\n    ...allCards,\n    setFaceIsUp(last),\n  ];\n}\n\nconst setFaceIsUp = (card) => {\n  return {\n    ...card,\n    isFaceUp: true,\n  }\n}\n\nconst moveToPile = (cards, pile) => {\n  const newPile = [...pile].concat(cards);\n  return newPile;\n}\n\nconst moveFromPile = (cardSourceIndex, pile) => {\n  var p1 = pile.slice(0, cardSourceIndex);\n  var p2 = grabCardsToBeMoved(cardSourceIndex, pile);\n\n  return {\n    moved: p2.map(card => ({...card, isFaceUp: true })),\n    remain: p1.map((card, i) => {\n      if(i === p1.length - 1) {\n        return {\n          ...card,\n          isFaceUp: true,\n        }\n      }\n      return card;\n    }),\n  };\n}\n\nconst moveCardsBetweenPilesInState = (state, { cardIndexAtSource, sourcePileKey, destPileKey }) => {\n  const { moved, remain } = moveFromPile(cardIndexAtSource, state[sourcePileKey]);\n  const newDestination = moveToPile(moved, state[destPileKey]);\n\n  return {\n    ...state,\n    [destPileKey]: newDestination,\n    [sourcePileKey]: remain,\n  }\n}\n\nconst cardDropHandler = (state, {destinationPile}, {cardIndexInPile, sourcePile}, allowDropHandler) => {\n  const { moved, remain } = moveFromPile(cardIndexInPile, state[sourcePile])\n  if (allowDropHandler(moved, state[destinationPile])) {\n    return {\n      ...state,\n      [sourcePile]: remain,\n      [destinationPile]: moveToPile(moved, state[destinationPile]),\n    };\n  }\n\n  return state;\n}\n\nconst grabCardsToBeMoved = (cardSourceIndex, pile) => {\n  return pile.slice(cardSourceIndex);\n}\n\nconst getLastCardInPile = (cards) => {\n  const reverseCards = [...cards];\n  const [last, ] = reverseCards.reverse();\n  return last;\n}\n\nconst createArrayWithKeys = (keyName, nr) => {\n  const foundationKeys = Array(nr).fill(keyName).map((value, i) => `${value}${i}`)\n  return foundationKeys;\n}\n\nconst createEmptyPiles = (piles) => {\n  return piles.reduce((mem, key) => {\n    return {\n      ...mem,\n      [key]: [],\n    }\n  }, {})\n}\n\nconst getCardsFromDeck = (deck, nrOfCards) => {\n  const cards = [];\n  let counter = Math.min(nrOfCards, deck.length - 1);\n  while(counter > 0) {\n    cards.push(deck.pop());\n    counter--;\n  }\n  return cards;\n}\n\nconst everyCardIsSameSuite = (cards, suite) => {\n  return cards.every(card => card.suite === suite);\n}\n\nconst arrayToObject = (keys, values) => {\n  const object = values.reduce((mem, obj, i) => {\n    const key = keys[i]\n    return {\n      ...mem,\n      [key]: obj\n    }\n  }, {});\n  return object;\n}\n\nexport {\n  shuffleArray,\n  clubs,\n  spades,\n  diamonds,\n  hearts,\n  setLastIsFaceUp,\n  moveToPile,\n  moveFromPile,\n  moveCardsBetweenPilesInState,\n  cardDropHandler,\n  grabCardsToBeMoved,\n  getLastCardInPile,\n  setFaceIsUp,\n\n  createArrayWithKeys,\n  createEmptyPiles,\n  getCardsFromDeck,\n  everyCardIsSameSuite,\n  arrayToObject,\n};\n","import undoable from './undoable';\nimport {\n  shuffleArray,\n  setLastIsFaceUp,\n  clubs,\n  diamonds,\n  hearts,\n  spades,\n  cardDropHandler,\n  moveCardsBetweenPilesInState,\n  getLastCardInPile,\n  createArrayWithKeys,\n  createEmptyPiles,\n  getCardsFromDeck,\n  arrayToObject,\n} from 'utils/';\n\nconst tableauPilesKeys = createArrayWithKeys('tableau', 7);\nconst foundationPilesKeys = createArrayWithKeys('foundation', 4);\n\nconst createDeck = () => {\n  return [clubs, diamonds, hearts, spades].map((suite, i) => {\n    return suite.map((card) => ({...card, key: `${card.id}${i}`}))\n  }).flat()\n}\n\nconst createFoundationPiles = (pileKeys) => {\n  return createEmptyPiles(pileKeys)\n}\n\nconst createTableauPilesFromDeck = (deck, pileKeys) => {\n  const pilesWithCards = pileKeys.map((_, i) => {\n    const cards = getCardsFromDeck(deck, i + 1);\n    return setLastIsFaceUp(cards);\n  });\n\n  return arrayToObject(pileKeys, pilesWithCards);\n}\n\nconst init = () => {\n  let deck = shuffleArray(createDeck());\n  const foundation = createFoundationPiles(foundationPilesKeys);\n  const tableauPiles = createTableauPilesFromDeck(deck, tableauPilesKeys);\n  return {\n    ...foundation,\n    ...tableauPiles,\n    stock: deck,\n    waste: [],\n    hasWon: false,\n\n    tableauPilesKeys,\n    foundationPilesKeys,\n  };\n}\n\nconst stockClickHandler = (game, { card }) => {\n  return moveCardsBetweenPilesInState(game, {\n    cardIndexAtSource: game.stock.length - 1,\n    sourcePileKey: 'stock',\n    destPileKey: 'waste',\n  });\n}\n\nconst checkHasWon = (state) => {\n  return {\n    ...state,\n    hasWon: foundationPilesKeys.reduce((mem, pileKey) => {\n      const pile = state[pileKey];\n      return mem && pile.length === 13;\n    }, true)\n  }\n}\n\nconst tableauClickHandler = (state, { card, cardIndexInPile, sourcePile }) => {\n  const isLastCard = cardIndexInPile === (state[sourcePile].length - 1)\n  const allowedFoundationPiles = isLastCard ? state.foundationPilesKeys.filter((pile) => {\n    return allowFoundationDrop([card], state[pile]);\n  }) : [];\n\n  const allowedTableauPiles = state.tableauPilesKeys.filter((pile) => {\n    return allowDropTableau([card], state[pile]);\n  })\n\n  const allowedPiles = allowedFoundationPiles.concat(allowedTableauPiles);\n\n  if (allowedPiles.length) {\n    const allowedPile = allowedPiles[0];\n\n    return moveCardsBetweenPilesInState(state, {\n      cardIndexAtSource: cardIndexInPile,\n      sourcePileKey: sourcePile,\n      destPileKey: allowedPile,\n    });\n  }\n\n  return state;\n}\n\nconst allowFoundationDrop = (cardsToBeMoved, destPile) => {\n  const cardToBeMoved = cardsToBeMoved[0];\n\n  if (cardsToBeMoved.length > 1) {\n    return false;\n  }\n\n  if(cardToBeMoved.value === 1 && !destPile.length) {\n    return true;\n  }\n\n  if (destPile.length) {\n    const lastCardInPile = getLastCardInPile(destPile);\n\n    const isSameSuite = lastCardInPile.suite === cardToBeMoved.suite;\n    const isRightValue = lastCardInPile.value === (cardToBeMoved.value - 1);\n\n    if(isSameSuite && isRightValue ) {\n      return true;\n    };\n  }\n\n  return false;\n}\n\n\nconst allowDropTableau = (cardsToBeMoved, destinationPile) => {\n  if (destinationPile.length === 0) {\n    return true;\n  }\n\n  const lastCardInPile = getLastCardInPile(destinationPile);\n\n  const firstCardToBeMoved = cardsToBeMoved[0];\n  const isOppositeColor = lastCardInPile.color !== firstCardToBeMoved.color;\n  const isRightValue = lastCardInPile.value === firstCardToBeMoved.value + 1;\n\n  return lastCardInPile.isFaceUp && isOppositeColor && isRightValue;\n};\n\nconst foundationDropHandler = (game, dropData, dragData) => {\n  return cardDropHandler(game, dropData, dragData, allowFoundationDrop);\n}\n\nconst tableauDropHandler = (game, dropData, dragData) => {\n  return cardDropHandler(game, dropData, dragData, allowDropTableau);\n}\n\nconst initialState = init();\n\nconst klondikeReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'RE_DEAL':\n      return init();\n    case 'RE_RUN_DECK':\n      const newStock = [...state.waste].reverse();\n      return {\n        ...state,\n        waste: [],\n        stock: newStock,\n      }\n    case 'CLICK_STOCK':\n      return stockClickHandler(state, action.payload)\n    case 'CLICK_TABLEAU':\n      return checkHasWon(tableauClickHandler(state, action.payload))\n    case 'CLICK_WASTE':\n      return checkHasWon(tableauClickHandler(state, action.payload))\n    case 'DROP_FOUNDATION':\n      return checkHasWon(foundationDropHandler(state, action.payload.dropData, action.payload.dragData))\n    case 'DROP_TABLEAU':\n      return tableauDropHandler(state, action.payload.dropData, action.payload.dragData)\n    default:\n      return state;\n  }\n};\n\nexport default undoable(klondikeReducer);","import undoable from './undoable';\nimport {\n  shuffleArray,\n  setLastIsFaceUp,\n  hearts,\n  spades,\n  moveToPile,\n  moveFromPile,\n  moveCardsBetweenPilesInState,\n  cardDropHandler,\n  createArrayWithKeys,\n  createEmptyPiles,\n  getCardsFromDeck,\n  everyCardIsSameSuite,\n  arrayToObject,\n  getLastCardInPile,\n} from 'utils/';\n\nconst createDeck = () => {\n  return [\n    spades, hearts, hearts, spades,\n    spades, hearts, hearts, spades,\n  ].map((suite, i) => {\n    return suite.map((card) => ({...card, key: `${card.id}${i}`}))\n  })\n}\n\nconst tableauPilesKeys = createArrayWithKeys('tableau', 10);\nconst foundationPilesKeys = createArrayWithKeys('foundation', 8);\n\nconst createFoundationPiles = (pileKeys) => {\n  return createEmptyPiles(pileKeys)\n}\n\nconst createTableauPilesFromDeck = (deck, pileKeys) => {\n  const splitAtNr = 4;\n  const pilesWithCards = pileKeys.map((_, i) => {\n    const nrOfCards = i < splitAtNr ? 6 : 5;\n    const cards = getCardsFromDeck(deck, nrOfCards);\n    return setLastIsFaceUp(cards)\n  });\n  return arrayToObject(pileKeys, pilesWithCards);\n}\n\nconst init = () => {\n  let deck = shuffleArray(createDeck().flat());\n  const foundation = createFoundationPiles(foundationPilesKeys);\n  const tableauPiles = createTableauPilesFromDeck(deck, tableauPilesKeys);\n  return {\n    ...foundation,\n    ...tableauPiles,\n    stock: deck,\n    hasWon: false,\n\n    tableauPilesKeys,\n    foundationPilesKeys,\n  };\n}\n\nconst checkHasWon = (state) => {\n  return {\n    ...state,\n    hasWon: foundationPilesKeys.reduce((mem, pileKey) => {\n      const pile = state[pileKey];\n      return mem && pile.length === 13;\n    }, true)\n  }\n}\n\nconst stockClickHandler = (state) => {\n  const numberOfcards = Math.min(tableauPilesKeys.length, state.stock.length);\n  const cardsAtIndex = state.stock.length - numberOfcards;\n  const { moved, remain: newStock } = moveFromPile(cardsAtIndex, state.stock);\n\n  const newTableau = tableauPilesKeys.reduce((mem, tableauId) => {\n    if (moved.length) {\n      return {\n        ...mem,\n        [tableauId]: moveToPile([moved.pop()], state[tableauId])\n      }\n    }\n    return mem;\n  }, {})\n\n  return {\n    ...state,\n    stock: newStock,\n    ...newTableau,\n  };\n}\n\nconst findFirstAvailableFoundation = (state) => {\n  const index = foundationPilesKeys.findIndex((key) => {\n    return state[key].length === 0;\n  });\n\n  return foundationPilesKeys[index];\n}\n\nconst allowDropTableau = (cardsToBeMoved, destinationPile) => {\n  if (destinationPile.length === 0) {\n    return true;\n  }\n\n  const allIsSpades = everyCardIsSameSuite(cardsToBeMoved, 'spades');\n  const allIsHearts = everyCardIsSameSuite(cardsToBeMoved, 'hearts');\n\n  // TODO, check that its an allowed sequence\n  if (allIsHearts || allIsSpades) {\n\n    const lastCardInPile = getLastCardInPile(destinationPile);\n    const firstCardToBeMoved = cardsToBeMoved[0];\n    const isRightValue = lastCardInPile.value === firstCardToBeMoved.value + 1;\n\n    return isRightValue;\n  }\n\n  return false;\n};\n\nconst moveToFoundationPile = (state, sourcePileKey) => {\n  // TODO rewrite this to something readable\n  const sourcePile = [...state[sourcePileKey]];\n  const potentialMove = sourcePile.reduce((mem, obj, i) => {\n    if (mem.length === 13) {\n      return mem;\n    }\n\n    if (obj.value === 13 && obj.isFaceUp) {\n      return [obj];\n    }\n    \n    if (mem.length > 0) {\n      const prevCard = mem[mem.length-1];\n      if ((prevCard.value === obj.value + 1) && (prevCard.suite === obj.suite)) {\n        mem.push(obj)\n        return mem;\n      }\n      return [];\n    }\n    return mem;\n  }, []);\n\n  if (potentialMove.length === 13) {\n    const cardsAtIndex = state[sourcePileKey].findIndex((card) => {\n      // TODO fix key's and id's\n      return card.key === potentialMove[0].key\n    })\n\n    const foundationToMoveTo = findFirstAvailableFoundation(state);\n    return moveCardsBetweenPilesInState(state, {\n      cardIndexAtSource: cardsAtIndex,\n      sourcePileKey,\n      destPileKey: foundationToMoveTo,\n    });\n  }\n\n  return state;\n}\n\nconst tableauDropHandler = (state, { dropData, dragData }) => {\n  return cardDropHandler(state, dropData, dragData, allowDropTableau);\n}\n\nconst tableauClickHandler = (state, clickData) => {\n  const { card } = clickData;\n\n  const allowedTableauPiles = state.tableauPilesKeys.filter((pile) => {\n    return allowDropTableau([card], state[pile]);\n  })\n\n  if (allowedTableauPiles.length) {\n    const allowedPile = allowedTableauPiles[0];\n    const afterClickState = cardDropHandler(state, { destinationPile: allowedPile }, clickData, allowDropTableau);\n    return moveToFoundationPile(afterClickState, allowedPile)\n  }\n\n  return state;\n}\n\nconst spiderReducer = (state = init(), action) => {\n  switch (action.type) {\n    case 'RE_DEAL':\n      return init();\n    case 'SPIDER_CLICK_STOCK':\n      return stockClickHandler(state);\n    case 'SPIDER_CLICK_TABLEAU':\n      const afterClickState = tableauClickHandler(state, action.payload);\n      return checkHasWon(afterClickState)\n    case 'SPIDER_DROP_TABLEAU':\n      const afterDropState = tableauDropHandler(\n        state,\n        action.payload,\n      )\n      return checkHasWon(moveToFoundationPile(afterDropState, action.payload.dropData.destinationPile))\n    default:\n      return state;\n  }\n};\n\nexport default undoable(spiderReducer);","import undoable from './undoable';\nimport {\n  shuffleArray,\n  hearts,\n  spades,\n  clubs,\n  diamonds,\n  createEmptyPiles,\n  getCardsFromDeck,\n  setLastIsFaceUp,\n  arrayToObject,\n  createArrayWithKeys,\n  cardDropHandler,\n  getLastCardInPile,\n  moveCardsBetweenPilesInState\n} from 'utils/';\n\nconst tableauPilesKeys = createArrayWithKeys('tableau', 7);\nconst foundationPilesKeys = createArrayWithKeys('foundation', 4);\n\nconst createDeck = () => {\n  return [clubs, diamonds, hearts, spades].map((suite, i) => {\n    return suite.map((card) => ({...card, key: `${card.id}${i}`}))\n  })\n}\n\nconst createFoundationPiles = (pileKeys) => {\n  return createEmptyPiles(pileKeys)\n}\n\nconst createTableauPilesFromDeck = (deck, pileKeys) => {\n  let klondikeDeal = pileKeys.map((_, i) => {\n    const cards = getCardsFromDeck(deck, i + 1);\n    return setLastIsFaceUp(cards);\n  });\n\n  let indexCounter = 1;\n  while(deck.length > 0) {\n    const dealtCard = deck.pop(); \n    klondikeDeal[indexCounter].push({...dealtCard, isFaceUp: true });\n    indexCounter = (indexCounter % (klondikeDeal.length - 1)) + 1\n  }\n\n  return arrayToObject(pileKeys, klondikeDeal);\n}\n\nconst allowFoundationDrop = (cardsToBeMoved, destPile) => {\n  const cardToBeMoved = cardsToBeMoved[0];\n\n  if (cardsToBeMoved.length > 1) {\n    return false;\n  }\n\n  if(cardToBeMoved.value === 1 && !destPile.length) {\n    return true;\n  }\n\n  if (destPile.length) {\n    const lastCardInPile = getLastCardInPile(destPile);\n\n    const isSameSuite = lastCardInPile.suite === cardToBeMoved.suite;\n    const isRightValue = lastCardInPile.value === (cardToBeMoved.value - 1);\n\n    if(isSameSuite && isRightValue ) {\n      return true;\n    };\n  }\n\n  return false;\n}\n\n\nconst allowDropTableau = (cardsToBeMoved, destinationPile) => {\n  if (destinationPile.length === 0) {\n    return true;\n  }\n\n  const lastCardInPile = getLastCardInPile(destinationPile);\n\n  const firstCardToBeMoved = cardsToBeMoved[0];\n  const isOppositeColor = lastCardInPile.color !== firstCardToBeMoved.color;\n  const isRightValue = lastCardInPile.value === firstCardToBeMoved.value + 1;\n\n  return lastCardInPile.isFaceUp && isOppositeColor && isRightValue;\n};\n\nconst foundationDropHandler = (state, dropData, dragData) => {\n  return cardDropHandler(state, dropData, dragData, allowFoundationDrop);\n}\n\nconst tableauDropHandler = (state, dropData, dragData) => {\n  return cardDropHandler(state, dropData, dragData, allowDropTableau);\n}\n\nconst tableauClickHandler = (state, clickData) => {\n  const { card, cardIndexInPile, sourcePile } = clickData;\n  const isLastCard = cardIndexInPile === (state[sourcePile].length - 1)\n\n  const allowedFoundationPiles = isLastCard ? state.foundationPilesKeys.filter((pile) => {\n    return allowFoundationDrop([card], state[pile]);\n  }) : [];\n\n  const allowedTableauPiles = state.tableauPilesKeys.filter((pile) => {\n    return allowDropTableau([card], state[pile]);\n  })\n\n  const allowedPiles = allowedFoundationPiles.concat(allowedTableauPiles);\n\n  if (allowedPiles.length) {\n    const allowedPile = allowedPiles[0];\n\n    return moveCardsBetweenPilesInState(state, {\n      cardIndexAtSource: cardIndexInPile,\n      sourcePileKey: sourcePile,\n      destPileKey: allowedPile,\n    });\n  }\n\n  return state;\n}\n\nconst checkHasWon = (state) => {\n  return {\n    ...state,\n    hasWon: foundationPilesKeys.reduce((mem, pileKey) => {\n      const pile = state[pileKey];\n      return mem && pile.length === 13;\n    }, true)\n  }\n}\n\nconst init = () => {\n  let deck = shuffleArray(createDeck().flat());\n  const foundation = createFoundationPiles(foundationPilesKeys);\n  const tableauPiles = createTableauPilesFromDeck(deck, tableauPilesKeys);\n  return {\n    ...foundation,\n    ...tableauPiles,\n    hasWon: false,\n\n    tableauPilesKeys,\n    foundationPilesKeys,\n  };\n}\n\nconst yukonReducer = (state = init(), action) => {\n  switch (action.type) {\n    case 'RE_DEAL':\n      return init();\n    case 'YUKON_DROP_FOUNDATION':\n      return checkHasWon(foundationDropHandler(state, action.payload.dropData, action.payload.dragData))\n    case 'YUKON_DROP_TABLEAU':\n      return tableauDropHandler(state, action.payload.dropData, action.payload.dragData)\n    case 'YUKON_CLICK_TABLEAU':\n      return checkHasWon(tableauClickHandler(state, action.payload))\n    default:\n      return state;\n  }\n};\n\nexport default undoable(yukonReducer);","const getRandomFaceValue = () => {\n return Math.floor(Math.random() * 6);\n}\n\nconst rollDice = (dices) => {\n  return dices.map((dice) => ({\n    ...dice,\n    value: dice.shouldReRoll ? getRandomFaceValue() : dice.value,\n  }))\n}\n\nconst toggleDiceRoll = (dices, id) => {\n  return dices.map(dice => {\n    if (dice.id === id) {\n      return {...dice, shouldReRoll: !dice.shouldReRoll};\n    }\n    return dice;\n  })\n}\n\nconst initialDiceState = [\n  { id: 1, shouldReRoll: true, value: 0 },\n  { id: 2, shouldReRoll: true, value: 0 },\n  { id: 3, shouldReRoll: true, value: 0 },\n  { id: 4, shouldReRoll: true, value: 0 },\n  { id: 5, shouldReRoll: true, value: 0 },\n];\n\nconst dices = (state = rollDice(initialDiceState), action) => {\n  switch(action.type) {\n    case 'NEW_USER':\n    case 'YATZY_NEW_GAME':\n      return rollDice(initialDiceState);\n    case 'YATZY_ROLL_DICES':\n      return rollDice(state)\n    case 'YATZY_TOGGLE_DICE':\n      return toggleDiceRoll(state, action.data.id);\n    case 'YATZY_SET_PROTOCOL_ITEM_SUM':\n      return rollDice(initialDiceState);\n    default:\n      return state;\n  }\n}\n\nexport default dices;","  class XOfAKindClass {\n    constructor(nrOfKind) {\n      this.total = 0;\n      this.isUsed = false;\n      this.nrOfKind = nrOfKind;\n      this.faceIndex = -1;\n    }\n\n    valid(dices) {\n      this.faceIndex = - 1;\n      if (!this.isUsed) {\n        dices.forEach((diceCount, index) => {\n          if ((diceCount >= this.nrOfKind)) {\n            this.faceIndex = index;\n          }\n        });\n\n        return this.faceIndex >= 0;\n      }\n      return false;\n    }\n\n    getFaceValue(dices) {\n      this.valid(dices);\n      return this.faceIndex + 1;\n    }\n\n    sum(dices) {\n      if (this.valid(dices)) {\n        return this.getFaceValue(dices) * this.nrOfKind;\n      }\n      return 0;\n    }\n  }\n\n  class TwoPairs {\n    constructor() {\n      this.total = 0;\n      this.isUsed = false;\n    }\n\n    valid(combos) {\n      if (!this.isUsed) {\n        const overTwo = combos.reduce((mem, obj) => {\n          if (obj >= 2) {\n            mem = mem + 1;\n          }\n          return mem;\n        }, 0);\n        return overTwo >= 2;\n      }\n      return false;\n    }\n\n    sum(combos) {\n      if (this.valid(combos)) {      \n        let pairOfSame = false;\n        const pairArray = combos.reduce((mem, obj, idx) => {\n          if (obj >= 4) {\n            mem.push(idx);\n            pairOfSame = true;\n            return mem;\n          }\n          if (obj >= 2) {\n            mem.push(idx);\n          }\n          return mem;\n        }, []);\n\n        if (pairOfSame) {\n          return (pairArray.pop() + 1) * 4;\n        }\n\n        if (pairArray.length >= 2) {\n          const idx1 = pairArray.pop() + 1;\n          const idx2 = pairArray.pop() + 1;\n\n          return (idx1 * 2) + (idx2 * 2);\n        }\n      }\n      return 0;\n    }\n  };\n \n  class SmallStraight {\n    constructor() {\n      this.total = 0;\n      this.isUsed = false;\n    }\n\n    valid(combos) {\n      if (!this.isUsed) {\n        const at = combos.slice(0, combos.length - 1);\n        const tmp = at.filter(n => n !== 1);\n        return tmp.length === 0;\n      }\n      return false;\n    }\n\n    sum(combos) {\n      if (this.valid(combos)) {   \n        const at = combos.slice(0, combos.length - 1);\n        const tmp = at.filter(n => n !== 1);\n        if (tmp.length === 0) {        \n          return 15;\n        }\n      }\n      return 0;\n    }\n  };\n\n  class LargeStraight {\n    constructor() {\n      this.total = 0;\n      this.isUsed = false;\n    }\n\n    valid(combos) {\n      if (!this.isUsed) {\n        const at = combos.slice(1);\n        const tmp = at.filter(n => n !== 1);\n        return tmp.length === 0;\n      }\n      return false;\n    }\n\n    sum(combos) {\n      if (this.valid(combos)) {      \n        const at = combos.slice(1);\n        const tmp = at.filter(n => n !== 1);\n        if (tmp.length === 0) {        \n          return 20;\n        }\n      }\n      return 0;\n    }\n  };\n\n  class FullHouse {\n    constructor() {\n      this.total = 0;\n      this.isUsed = false;\n    }\n\n    valid(combos) {\n      if (!this.isUsed) {\n        let hasFoundThree = false;\n        let hasFoundTwo = false\n        return combos.reduceRight((isValid, diceCount, index) => {\n          if (!hasFoundThree) {\n            hasFoundThree = (diceCount >= 3);\n          }\n          if (!hasFoundTwo) {\n            hasFoundTwo = (diceCount >= 2);\n          }\n          return hasFoundTwo && hasFoundThree;\n        }, false);\n      }\n      return false;\n    }\n\n    sum(combos) {\n      if (this.valid(combos)) {\n        let hasFoundThree = false;\n        let hasFoundTwo = false;\n        let idx1 = 0;\n        let idx2 = 0;\n        for (var i = combos.length - 1; i >= 0; i--) {\n          if (!hasFoundThree && (combos[i] >= 3)) {\n            hasFoundThree = true;\n            idx1 = i + 1;\n          } else if (!hasFoundTwo && (combos[i] >= 2)) {\n            hasFoundTwo = true;\n            idx2 = i + 1;\n          }\n        }\n        if (!!idx1 && !!idx2) {\n          return (idx1 * 3) + (idx2 * 2);\n        }\n      }\n      return 0;\n    } \n  }\n\n class UpperSectionClass {\n    constructor(faceValue) {\n      this.total = 0;\n      this.isUsed = false;\n      this.faceValue = faceValue;\n      this.diceIndex = faceValue - 1;\n    }\n\n    valid(dices) {\n      if (!this.used) {\n        return dices[this.diceIndex] >= 0;\n      }\n      return false;\n    }\n\n    sum(dices) {\n      if (this.valid(dices)) {\n        return dices[this.diceIndex] * this.faceValue;\n      }\n      return 0;\n    }\n  }\n\nconst initialState = () => {\n  const upperSection = {\n    ones: new UpperSectionClass(1),\n    twos: new UpperSectionClass(2),\n    threes: new UpperSectionClass(3),\n    fours: new UpperSectionClass(4),\n    fives: new UpperSectionClass(5),\n    sixes: new UpperSectionClass(6),\n  };\n\n  const bonusForUpper = {\n    bonus: {\n      total: 0,\n      isUsed: false,\n      valid: () => false,\n      sum: () => 0,\n    },\n  }\n\n  const lowerSection = {\n    onePair: new XOfAKindClass(2),\n    twoPairs: new TwoPairs(),\n    threeOfAKind: new XOfAKindClass(3),\n    fourOfAKind: new XOfAKindClass(4),\n    smallStraight: new SmallStraight(),\n    largeStraight: new LargeStraight(),\n    fullHouse: new FullHouse(),\n    chance: {\n      total: 0,\n      isUsed: false,\n      valid: function() {\n        return !this.isUsed;\n      },\n      sum: (combos) => {\n        return combos.reduce((mem, nr, faceValue) => {\n          return mem + (nr * (faceValue + 1));\n        }, 0)\n      }\n    },\n    yatzy: new XOfAKindClass(5),\n  };\n  return { ...upperSection, ...bonusForUpper, ...lowerSection }\n};\n\nconst protocol = (state = initialState(), action) => {\n  switch(action.type) {\n    case 'NEW_USER':\n    case 'YATZY_NEW_GAME':\n      return initialState();\n    case 'YATZY_SET_PROTOCOL_ITEM_SUM':\n      const { label, currentSum, isUsed } = action.data;\n      if (!isUsed) { \n        const obj = state[label];\n        obj.total = currentSum;\n        obj.isUsed = true;\n\n        state[label] = obj;\n      }\n      return {\n        ...state\n      }\n    default:\n      return state\n  }\n};\n\nexport default protocol;","const initialState = [];\n\nconst highscore = (state = initialState, action) => {\n  switch(action.type) {\n    case '@@INIT':\n      const localState = window.localStorage.getItem('highscore');\n      if (localState) {\n        return JSON.parse(localState);\n      }\n      return state;\n    case 'YATZY_GAME_FINISHED':\n      const tmp = state;\n      tmp.push({ score: action.data.total, userName: action.data.userName });\n      const newHighscore = tmp.sort((a, b) => (b.score - a.score));\n      window.localStorage.setItem('highscore', JSON.stringify(newHighscore));\n      return newHighscore;\n    default:\n      return state;\n  }\n}\n\nexport default highscore;","import { combineReducers } from 'redux';\n\nimport dices from './dices';\nimport protocol from './protocol';\nimport highScore from './highscore';\n\nconst initialState = {\n  availableRolls: 2,\n};\n\nconst yatzy = (state = initialState, action) => {\n  switch(action.type) {\n    case 'NEW_USER':\n    case 'YATZY_NEW_GAME':\n      return {\n        ...initialState,\n      }\n    case 'YATZY_ROLL_DICES':\n      return {\n        ...state,\n        availableRolls: state.availableRolls - 1,\n      }\n    case 'YATZY_SET_PROTOCOL_ITEM_SUM':\n      return {\n        ...state,\n        availableRolls: initialState.availableRolls,\n      }\n    case 'YATZY_GAME_FINISHED':\n      return {\n\n      }\n    default:\n      return state;\n  }\n};\n\nexport default combineReducers({\n  yatzy,\n  dices,\n  protocol,\n  highScore,\n});\n","import { combineReducers } from 'redux'\nimport klondikeReducer from './klondikeReducer';\nimport spiderReducer from './spiderReducer';\nimport yukonReducer from './yukonReducer';\nimport yatzy from './yatzy/';\n\nconst solitaireApp = combineReducers({\n  klondike: klondikeReducer,\n  spider: spiderReducer,\n  yukon: yukonReducer,\n  yatzyReducer: yatzy,\n});\n\nexport default solitaireApp","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux'\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nimport App from 'Components/App';\nimport rootReducer from './reducers';\n// import SpiderMoveToFoundation from './reducers/states/SpiderMoveToFoundation';\n\nimport * as serviceWorker from './serviceWorker';\n\nconst initialState = {};\nconst store = createStore(rootReducer, initialState, composeWithDevTools())\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}